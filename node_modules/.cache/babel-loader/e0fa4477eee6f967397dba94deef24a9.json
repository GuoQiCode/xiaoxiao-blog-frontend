{"remainingRequest":"E:\\vue\\xiaoxiao-blog-frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\vue\\xiaoxiao-blog-frontend\\src\\assets\\js\\plugins.min.js","dependencies":[{"path":"E:\\vue\\xiaoxiao-blog-frontend\\src\\assets\\js\\plugins.min.js","mtime":1578749681430},{"path":"E:\\vue\\xiaoxiao-blog-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\xiaoxiao-blog-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJldmVyc2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLmJpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuY3JlYXRlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1mbG9hdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmZsYWdzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYW5jaG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzIik7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIkU6XFx2dWVcXHhpYW94aWFvLWJsb2ctZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7CgohZnVuY3Rpb24gKHQpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGUoZSwgbikgewogICAgdmFyIGksCiAgICAgICAgbyA9IHQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKSwKICAgICAgICByID0gdCh0KGUpLmlzKCJib2R5IikgPyB3aW5kb3cgOiBlKTsKICAgIHRoaXMub3B0aW9ucyA9IHQuZXh0ZW5kKHt9LCB0LmZuLnNjcm9sbHNweS5kZWZhdWx0cywgbiksIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSByLm9uKCJzY3JvbGwuc2Nyb2xsLmRhdGEtYXBpIiwgbyksIHRoaXMuc2VsZWN0b3IgPSAodGhpcy5vcHRpb25zLnRhcmdldCB8fCAoaSA9IHQoZSkuYXR0cigiaHJlZiIpKSAmJiBpLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywgIiIpIHx8ICIiKSArICIgLm5hdiBsaSA+IGEiLCB0aGlzLiRib2R5ID0gdCgiYm9keSIpLCB0aGlzLnJlZnJlc2goKSwgdGhpcy5wcm9jZXNzKCk7CiAgfQoKICBlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBlLAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBuID0gdGhpczsKICAgICAgdGhpcy5vZmZzZXRzID0gdChbXSksIHRoaXMudGFyZ2V0cyA9IHQoW10pLCBlID0gdGhpcy4kYm9keS5maW5kKHRoaXMuc2VsZWN0b3IpLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSB0KHRoaXMpLAogICAgICAgICAgICBuID0gZS5kYXRhKCJ0YXJnZXQiKSB8fCBlLmF0dHIoImhyZWYiKSwKICAgICAgICAgICAgaSA9IC9eI1x3Ly50ZXN0KG4pICYmIHQobik7CiAgICAgICAgcmV0dXJuIGkgJiYgbi5sZW5ndGggJiYgW1tpLnBvc2l0aW9uKCkudG9wLCBuXV0gfHwgbnVsbDsKICAgICAgfSkuc29ydChmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0WzBdIC0gZVswXTsKICAgICAgfSkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgbi5vZmZzZXRzLnB1c2godGhpc1swXSksIG4udGFyZ2V0cy5wdXNoKHRoaXNbMV0pOwogICAgICB9KTsKICAgIH0sCiAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKCkgewogICAgICB2YXIgdCwKICAgICAgICAgIGUgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldCwKICAgICAgICAgIG4gPSB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCB0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCwKICAgICAgICAgIGkgPSBuIC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKSwKICAgICAgICAgIG8gPSB0aGlzLm9mZnNldHMsCiAgICAgICAgICByID0gdGhpcy50YXJnZXRzLAogICAgICAgICAgcyA9IHRoaXMuYWN0aXZlVGFyZ2V0OwogICAgICBpZiAoZSA+PSBpKSByZXR1cm4gcyAhPSAodCA9IHIubGFzdCgpWzBdKSAmJiB0aGlzLmFjdGl2YXRlKHQpOwoKICAgICAgZm9yICh0ID0gby5sZW5ndGg7IHQtLTspIHsKICAgICAgICBzICE9IHJbdF0gJiYgZSA+PSBvW3RdICYmICghb1t0ICsgMV0gfHwgZSA8PSBvW3QgKyAxXSkgJiYgdGhpcy5hY3RpdmF0ZShyW3RdKTsKICAgICAgfQogICAgfSwKICAgIGFjdGl2YXRlOiBmdW5jdGlvbiBhY3RpdmF0ZShlKSB7CiAgICAgIHZhciBuLCBpOwogICAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IGUsIHQodGhpcy5zZWxlY3RvcikucGFyZW50KCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLCBpID0gdGhpcy5zZWxlY3RvciArICdbZGF0YS10YXJnZXQ9IicgKyBlICsgJyJdLCcgKyB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPSInICsgZSArICciXScsIG4gPSB0KGkpLnBhcmVudCgibGkiKS5hZGRDbGFzcygiYWN0aXZlIiksIG4ucGFyZW50KCIuZHJvcGRvd24tbWVudSIpICYmIChuID0gbi5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSksIG4udHJpZ2dlcigiYWN0aXZhdGUiKTsKICAgIH0KICB9LCB0LmZuLnNjcm9sbHNweSA9IGZ1bmN0aW9uIChuKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSB0KHRoaXMpLAogICAgICAgICAgbyA9IGkuZGF0YSgic2Nyb2xsc3B5IiksCiAgICAgICAgICByID0gIm9iamVjdCIgPT0gX3R5cGVvZihuKSAmJiBuOwogICAgICBvIHx8IGkuZGF0YSgic2Nyb2xsc3B5IiwgbyA9IG5ldyBlKHRoaXMsIHIpKSwgInN0cmluZyIgPT0gdHlwZW9mIG4gJiYgb1tuXSgpOwogICAgfSk7CiAgfSwgdC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBlLCB0LmZuLnNjcm9sbHNweS5kZWZhdWx0cyA9IHsKICAgIG9mZnNldDogMTAKICB9LCB0KGZ1bmN0aW9uICgpIHsKICAgIHQoJ1tkYXRhLXNweT0ic2Nyb2xsIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0KHRoaXMpOwogICAgICBlLnNjcm9sbHNweShlLmRhdGEoKSk7CiAgICB9KTsKICB9KTsKfSh3aW5kb3cualF1ZXJ5KSwgZnVuY3Rpb24gKHQsIGUpIHsKICAidXNlIHN0cmljdCI7CgogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJqcXVlcnktYnJpZGdldC9qcXVlcnktYnJpZGdldCIsIFsianF1ZXJ5Il0sIGZ1bmN0aW9uIChuKSB7CiAgICBlKHQsIG4pOwogIH0pIDogIm9iamVjdCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBlKHQsIHJlcXVpcmUoImpxdWVyeSIpKSA6IHQualF1ZXJ5QnJpZGdldCA9IGUodCwgdC5qUXVlcnkpOwp9KHdpbmRvdywgZnVuY3Rpb24gKHQsIGUpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIG4obiwgciwgYSkgewogICAgZnVuY3Rpb24gdSh0LCBlLCBpKSB7CiAgICAgIHZhciBvLAogICAgICAgICAgciA9ICIkKCkuIiArIG4gKyAnKCInICsgZSArICciKSc7CiAgICAgIHJldHVybiB0LmVhY2goZnVuY3Rpb24gKHQsIHUpIHsKICAgICAgICB2YXIgbCA9IGEuZGF0YSh1LCBuKTsKICAgICAgICBpZiAoIWwpIHJldHVybiB2b2lkIHMobiArICIgbm90IGluaXRpYWxpemVkLiBDYW5ub3QgY2FsbCBtZXRob2RzLCBpLmUuICIgKyByKTsKICAgICAgICB2YXIgYyA9IGxbZV07CiAgICAgICAgaWYgKCFjIHx8ICJfIiA9PSBlLmNoYXJBdCgwKSkgcmV0dXJuIHZvaWQgcyhyICsgIiBpcyBub3QgYSB2YWxpZCBtZXRob2QiKTsKICAgICAgICB2YXIgZCA9IGMuYXBwbHkobCwgaSk7CiAgICAgICAgbyA9IHZvaWQgMCA9PT0gbyA/IGQgOiBvOwogICAgICB9KSwgdm9pZCAwICE9PSBvID8gbyA6IHQ7CiAgICB9CgogICAgZnVuY3Rpb24gbCh0LCBlKSB7CiAgICAgIHQuZWFjaChmdW5jdGlvbiAodCwgaSkgewogICAgICAgIHZhciBvID0gYS5kYXRhKGksIG4pOwogICAgICAgIG8gPyAoby5vcHRpb24oZSksIG8uX2luaXQoKSkgOiAobyA9IG5ldyByKGksIGUpLCBhLmRhdGEoaSwgbiwgbykpOwogICAgICB9KTsKICAgIH0KCiAgICBhID0gYSB8fCBlIHx8IHQualF1ZXJ5LCBhICYmIChyLnByb3RvdHlwZS5vcHRpb24gfHwgKHIucHJvdG90eXBlLm9wdGlvbiA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIGEuaXNQbGFpbk9iamVjdCh0KSAmJiAodGhpcy5vcHRpb25zID0gYS5leHRlbmQoITAsIHRoaXMub3B0aW9ucywgdCkpOwogICAgfSksIGEuZm5bbl0gPSBmdW5jdGlvbiAodCkgewogICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHQpIHsKICAgICAgICB2YXIgZSA9IG8uY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgIHJldHVybiB1KHRoaXMsIHQsIGUpOwogICAgICB9CgogICAgICByZXR1cm4gbCh0aGlzLCB0KSwgdGhpczsKICAgIH0sIGkoYSkpOwogIH0KCiAgZnVuY3Rpb24gaSh0KSB7CiAgICAhdCB8fCB0ICYmIHQuYnJpZGdldCB8fCAodC5icmlkZ2V0ID0gbik7CiAgfQoKICB2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5zbGljZSwKICAgICAgciA9IHQuY29uc29sZSwKICAgICAgcyA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiByID8gZnVuY3Rpb24gKCkge30gOiBmdW5jdGlvbiAodCkgewogICAgci5lcnJvcih0KTsKICB9OwogIHJldHVybiBpKGUgfHwgdC5qUXVlcnkpLCBuOwp9KSwgZnVuY3Rpb24gKHQsIGUpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgiZXYtZW1pdHRlci9ldi1lbWl0dGVyIiwgZSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgJiYgbW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IGUoKSA6IHQuRXZFbWl0dGVyID0gZSgpOwp9KHRoaXMsIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiB0KCkge30KCiAgdmFyIGUgPSB0LnByb3RvdHlwZTsKICByZXR1cm4gZS5vbiA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAodCAmJiBlKSB7CiAgICAgIHZhciBuID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9LAogICAgICAgICAgaSA9IG5bdF0gPSBuW3RdIHx8IFtdOwogICAgICByZXR1cm4gLTEgPT0gaS5pbmRleE9mKGUpICYmIGkucHVzaChlKSwgdGhpczsKICAgIH0KICB9LCBlLm9uY2UgPSBmdW5jdGlvbiAodCwgZSkgewogICAgaWYgKHQgJiYgZSkgewogICAgICB0aGlzLm9uKHQsIGUpOwogICAgICB2YXIgbiA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9LAogICAgICAgICAgaSA9IG5bdF0gPSBuW3RdIHx8IFtdOwogICAgICByZXR1cm4gaVtlXSA9ICEwLCB0aGlzOwogICAgfQogIH0sIGUub2ZmID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBuID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1t0XTsKCiAgICBpZiAobiAmJiBuLmxlbmd0aCkgewogICAgICB2YXIgaSA9IG4uaW5kZXhPZihlKTsKICAgICAgcmV0dXJuIC0xICE9IGkgJiYgbi5zcGxpY2UoaSwgMSksIHRoaXM7CiAgICB9CiAgfSwgZS5lbWl0RXZlbnQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdmFyIG4gPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzW3RdOwoKICAgIGlmIChuICYmIG4ubGVuZ3RoKSB7CiAgICAgIHZhciBpID0gMCwKICAgICAgICAgIG8gPSBuW2ldOwogICAgICBlID0gZSB8fCBbXTsKCiAgICAgIGZvciAodmFyIHIgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbdF07IG87KSB7CiAgICAgICAgdmFyIHMgPSByICYmIHJbb107CiAgICAgICAgcyAmJiAodGhpcy5vZmYodCwgbyksIGRlbGV0ZSByW29dKSwgby5hcHBseSh0aGlzLCBlKSwgaSArPSBzID8gMCA6IDEsIG8gPSBuW2ldOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB0Owp9KSwgZnVuY3Rpb24gKHQsIGUpIHsKICAidXNlIHN0cmljdCI7CgogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJnZXQtc2l6ZS9nZXQtc2l6ZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZSgpOwogIH0pIDogIm9iamVjdCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBlKCkgOiB0LmdldFNpemUgPSBlKCk7Cn0od2luZG93LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiB0KHQpIHsKICAgIHZhciBlID0gcGFyc2VGbG9hdCh0KSwKICAgICAgICBuID0gLTEgPT0gdC5pbmRleE9mKCIlIikgJiYgIWlzTmFOKGUpOwogICAgcmV0dXJuIG4gJiYgZTsKICB9CgogIGZ1bmN0aW9uIGUoKSB7fQoKICBmdW5jdGlvbiBuKCkgewogICAgZm9yICh2YXIgdCA9IHsKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMCwKICAgICAgaW5uZXJXaWR0aDogMCwKICAgICAgaW5uZXJIZWlnaHQ6IDAsCiAgICAgIG91dGVyV2lkdGg6IDAsCiAgICAgIG91dGVySGVpZ2h0OiAwCiAgICB9LCBlID0gMDsgbCA+IGU7IGUrKykgewogICAgICB2YXIgbiA9IHVbZV07CiAgICAgIHRbbl0gPSAwOwogICAgfQoKICAgIHJldHVybiB0OwogIH0KCiAgZnVuY3Rpb24gaSh0KSB7CiAgICB2YXIgZSA9IGdldENvbXB1dGVkU3R5bGUodCk7CiAgICByZXR1cm4gZSB8fCBhKCJTdHlsZSByZXR1cm5lZCAiICsgZSArICIuIEFyZSB5b3UgcnVubmluZyB0aGlzIGNvZGUgaW4gYSBoaWRkZW4gaWZyYW1lIG9uIEZpcmVmb3g/IFNlZSBodHRwOi8vYml0Lmx5L2dldHNpemVidWcxIiksIGU7CiAgfQoKICBmdW5jdGlvbiBvKCkgewogICAgaWYgKCFjKSB7CiAgICAgIGMgPSAhMDsKICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgZS5zdHlsZS53aWR0aCA9ICIyMDBweCIsIGUuc3R5bGUucGFkZGluZyA9ICIxcHggMnB4IDNweCA0cHgiLCBlLnN0eWxlLmJvcmRlclN0eWxlID0gInNvbGlkIiwgZS5zdHlsZS5ib3JkZXJXaWR0aCA9ICIxcHggMnB4IDNweCA0cHgiLCBlLnN0eWxlLmJveFNpemluZyA9ICJib3JkZXItYm94IjsKICAgICAgdmFyIG4gPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgbi5hcHBlbmRDaGlsZChlKTsKICAgICAgdmFyIG8gPSBpKGUpOwogICAgICByLmlzQm94U2l6ZU91dGVyID0gcyA9IDIwMCA9PSB0KG8ud2lkdGgpLCBuLnJlbW92ZUNoaWxkKGUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcihlKSB7CiAgICBpZiAobygpLCAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiAoZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSkpLCBlICYmICJvYmplY3QiID09IF90eXBlb2YoZSkgJiYgZS5ub2RlVHlwZSkgewogICAgICB2YXIgciA9IGkoZSk7CiAgICAgIGlmICgibm9uZSIgPT0gci5kaXNwbGF5KSByZXR1cm4gbigpOwogICAgICB2YXIgYSA9IHt9OwogICAgICBhLndpZHRoID0gZS5vZmZzZXRXaWR0aCwgYS5oZWlnaHQgPSBlLm9mZnNldEhlaWdodDsKCiAgICAgIGZvciAodmFyIGMgPSBhLmlzQm9yZGVyQm94ID0gImJvcmRlci1ib3giID09IHIuYm94U2l6aW5nLCBkID0gMDsgbCA+IGQ7IGQrKykgewogICAgICAgIHZhciBoID0gdVtkXSwKICAgICAgICAgICAgZiA9IHJbaF0sCiAgICAgICAgICAgIHAgPSBwYXJzZUZsb2F0KGYpOwogICAgICAgIGFbaF0gPSBpc05hTihwKSA/IDAgOiBwOwogICAgICB9CgogICAgICB2YXIgbSA9IGEucGFkZGluZ0xlZnQgKyBhLnBhZGRpbmdSaWdodCwKICAgICAgICAgIGcgPSBhLnBhZGRpbmdUb3AgKyBhLnBhZGRpbmdCb3R0b20sCiAgICAgICAgICB2ID0gYS5tYXJnaW5MZWZ0ICsgYS5tYXJnaW5SaWdodCwKICAgICAgICAgIHkgPSBhLm1hcmdpblRvcCArIGEubWFyZ2luQm90dG9tLAogICAgICAgICAgdyA9IGEuYm9yZGVyTGVmdFdpZHRoICsgYS5ib3JkZXJSaWdodFdpZHRoLAogICAgICAgICAgYiA9IGEuYm9yZGVyVG9wV2lkdGggKyBhLmJvcmRlckJvdHRvbVdpZHRoLAogICAgICAgICAgeCA9IGMgJiYgcywKICAgICAgICAgIEUgPSB0KHIud2lkdGgpOwogICAgICBFICE9PSAhMSAmJiAoYS53aWR0aCA9IEUgKyAoeCA/IDAgOiBtICsgdykpOwogICAgICB2YXIgQyA9IHQoci5oZWlnaHQpOwogICAgICByZXR1cm4gQyAhPT0gITEgJiYgKGEuaGVpZ2h0ID0gQyArICh4ID8gMCA6IGcgKyBiKSksIGEuaW5uZXJXaWR0aCA9IGEud2lkdGggLSAobSArIHcpLCBhLmlubmVySGVpZ2h0ID0gYS5oZWlnaHQgLSAoZyArIGIpLCBhLm91dGVyV2lkdGggPSBhLndpZHRoICsgdiwgYS5vdXRlckhlaWdodCA9IGEuaGVpZ2h0ICsgeSwgYTsKICAgIH0KICB9CgogIHZhciBzLAogICAgICBhID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGNvbnNvbGUgPyBlIDogZnVuY3Rpb24gKHQpIHsKICAgIGNvbnNvbGUuZXJyb3IodCk7CiAgfSwKICAgICAgdSA9IFsicGFkZGluZ0xlZnQiLCAicGFkZGluZ1JpZ2h0IiwgInBhZGRpbmdUb3AiLCAicGFkZGluZ0JvdHRvbSIsICJtYXJnaW5MZWZ0IiwgIm1hcmdpblJpZ2h0IiwgIm1hcmdpblRvcCIsICJtYXJnaW5Cb3R0b20iLCAiYm9yZGVyTGVmdFdpZHRoIiwgImJvcmRlclJpZ2h0V2lkdGgiLCAiYm9yZGVyVG9wV2lkdGgiLCAiYm9yZGVyQm90dG9tV2lkdGgiXSwKICAgICAgbCA9IHUubGVuZ3RoLAogICAgICBjID0gITE7CiAgcmV0dXJuIHI7Cn0pLCBmdW5jdGlvbiAodCwgZSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoIm1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvciIsIGUpIDogIm9iamVjdCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBlKCkgOiB0Lm1hdGNoZXNTZWxlY3RvciA9IGUoKTsKfSh3aW5kb3csIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciB0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSBFbGVtZW50LnByb3RvdHlwZTsKICAgIGlmICh0Lm1hdGNoZXMpIHJldHVybiAibWF0Y2hlcyI7CiAgICBpZiAodC5tYXRjaGVzU2VsZWN0b3IpIHJldHVybiAibWF0Y2hlc1NlbGVjdG9yIjsKCiAgICBmb3IgKHZhciBlID0gWyJ3ZWJraXQiLCAibW96IiwgIm1zIiwgIm8iXSwgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CiAgICAgIHZhciBpID0gZVtuXSwKICAgICAgICAgIG8gPSBpICsgIk1hdGNoZXNTZWxlY3RvciI7CiAgICAgIGlmICh0W29dKSByZXR1cm4gbzsKICAgIH0KICB9KCk7CgogIHJldHVybiBmdW5jdGlvbiAoZSwgbikgewogICAgcmV0dXJuIGVbdF0obik7CiAgfTsKfSksIGZ1bmN0aW9uICh0LCBlKSB7CiAgInVzZSBzdHJpY3QiOwoKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgiZml6enktdWktdXRpbHMvdXRpbHMiLCBbIm1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvciJdLCBmdW5jdGlvbiAobikgewogICAgcmV0dXJuIGUodCwgbik7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgJiYgbW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IGUodCwgcmVxdWlyZSgiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3RvciIpKSA6IHQuZml6enlVSVV0aWxzID0gZSh0LCB0Lm1hdGNoZXNTZWxlY3Rvcik7Cn0od2luZG93LCBmdW5jdGlvbiAodCwgZSkgewogIHZhciBuID0ge307CiAgbi5leHRlbmQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgZm9yICh2YXIgbiBpbiBlKSB7CiAgICAgIHRbbl0gPSBlW25dOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sIG4ubW9kdWxvID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHJldHVybiAodCAlIGUgKyBlKSAlIGU7CiAgfSwgbi5tYWtlQXJyYXkgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSBbXTsKICAgIGlmIChBcnJheS5pc0FycmF5KHQpKSBlID0gdDtlbHNlIGlmICh0ICYmICJudW1iZXIiID09IHR5cGVvZiB0Lmxlbmd0aCkgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7CiAgICAgIGUucHVzaCh0W25dKTsKICAgIH0gZWxzZSBlLnB1c2godCk7CiAgICByZXR1cm4gZTsKICB9LCBuLnJlbW92ZUZyb20gPSBmdW5jdGlvbiAodCwgZSkgewogICAgdmFyIG4gPSB0LmluZGV4T2YoZSk7CiAgICAtMSAhPSBuICYmIHQuc3BsaWNlKG4sIDEpOwogIH0sIG4uZ2V0UGFyZW50ID0gZnVuY3Rpb24gKHQsIG4pIHsKICAgIGZvciAoOyB0ICE9IGRvY3VtZW50LmJvZHk7KSB7CiAgICAgIGlmICh0ID0gdC5wYXJlbnROb2RlLCBlKHQsIG4pKSByZXR1cm4gdDsKICAgIH0KICB9LCBuLmdldFF1ZXJ5RWxlbWVudCA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHQgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpIDogdDsKICB9LCBuLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gIm9uIiArIHQudHlwZTsKICAgIHRoaXNbZV0gJiYgdGhpc1tlXSh0KTsKICB9LCBuLmZpbHRlckZpbmRFbGVtZW50cyA9IGZ1bmN0aW9uICh0LCBpKSB7CiAgICB0ID0gbi5tYWtlQXJyYXkodCk7CiAgICB2YXIgbyA9IFtdOwogICAgcmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICBpZiAodCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7CiAgICAgICAgaWYgKCFpKSByZXR1cm4gdm9pZCBvLnB1c2godCk7CiAgICAgICAgZSh0LCBpKSAmJiBvLnB1c2godCk7CgogICAgICAgIGZvciAodmFyIG4gPSB0LnF1ZXJ5U2VsZWN0b3JBbGwoaSksIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgewogICAgICAgICAgby5wdXNoKG5bcl0pOwogICAgICAgIH0KICAgICAgfQogICAgfSksIG87CiAgfSwgbi5kZWJvdW5jZU1ldGhvZCA9IGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICB2YXIgaSA9IHQucHJvdG90eXBlW2VdLAogICAgICAgIG8gPSBlICsgIlRpbWVvdXQiOwoKICAgIHQucHJvdG90eXBlW2VdID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IHRoaXNbb107CiAgICAgIHQgJiYgY2xlYXJUaW1lb3V0KHQpOwogICAgICB2YXIgZSA9IGFyZ3VtZW50cywKICAgICAgICAgIHIgPSB0aGlzOwogICAgICB0aGlzW29dID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaS5hcHBseShyLCBlKSwgZGVsZXRlIHJbb107CiAgICAgIH0sIG4gfHwgMTAwKTsKICAgIH07CiAgfSwgbi5kb2NSZWFkeSA9IGZ1bmN0aW9uICh0KSB7CiAgICAiY29tcGxldGUiID09IGRvY3VtZW50LnJlYWR5U3RhdGUgPyB0KCkgOiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgdCk7CiAgfSwgbi50b0Rhc2hlZCA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gdC5yZXBsYWNlKC8oLikoW0EtWl0pL2csIGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAgIHJldHVybiBlICsgIi0iICsgbjsKICAgIH0pLnRvTG93ZXJDYXNlKCk7CiAgfTsKICB2YXIgaSA9IHQuY29uc29sZTsKICByZXR1cm4gbi5odG1sSW5pdCA9IGZ1bmN0aW9uIChlLCBvKSB7CiAgICBuLmRvY1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHIgPSBuLnRvRGFzaGVkKG8pLAogICAgICAgICAgcyA9ICJkYXRhLSIgKyByLAogICAgICAgICAgYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIlsiICsgcyArICJdIiksCiAgICAgICAgICB1ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmpzLSIgKyByKSwKICAgICAgICAgIGwgPSBuLm1ha2VBcnJheShhKS5jb25jYXQobi5tYWtlQXJyYXkodSkpLAogICAgICAgICAgYyA9IHMgKyAiLW9wdGlvbnMiLAogICAgICAgICAgZCA9IHQualF1ZXJ5OwogICAgICBsLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgbiwKICAgICAgICAgICAgciA9IHQuZ2V0QXR0cmlidXRlKHMpIHx8IHQuZ2V0QXR0cmlidXRlKGMpOwoKICAgICAgICB0cnkgewogICAgICAgICAgbiA9IHIgJiYgSlNPTi5wYXJzZShyKTsKICAgICAgICB9IGNhdGNoIChhKSB7CiAgICAgICAgICByZXR1cm4gdm9pZCAoaSAmJiBpLmVycm9yKCJFcnJvciBwYXJzaW5nICIgKyBzICsgIiBvbiAiICsgdC5jbGFzc05hbWUgKyAiOiAiICsgYSkpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHUgPSBuZXcgZSh0LCBuKTsKICAgICAgICBkICYmIGQuZGF0YSh0LCBvLCB1KTsKICAgICAgfSk7CiAgICB9KTsKICB9LCBuOwp9KSwgZnVuY3Rpb24gKHQsIGUpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgib3V0bGF5ZXIvaXRlbSIsIFsiZXYtZW1pdHRlci9ldi1lbWl0dGVyIiwgImdldC1zaXplL2dldC1zaXplIl0sIGZ1bmN0aW9uIChuLCBpKSB7CiAgICByZXR1cm4gZSh0LCBuLCBpKTsKICB9KSA6ICJvYmplY3QiID09ICh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSAmJiBtb2R1bGUuZXhwb3J0cyA/IG1vZHVsZS5leHBvcnRzID0gZSh0LCByZXF1aXJlKCJldi1lbWl0dGVyIiksIHJlcXVpcmUoImdldC1zaXplIikpIDogKHQuT3V0bGF5ZXIgPSB7fSwgdC5PdXRsYXllci5JdGVtID0gZSh0LCB0LkV2RW1pdHRlciwgdC5nZXRTaXplKSk7Cn0od2luZG93LCBmdW5jdGlvbiAodCwgZSwgbikgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gaSh0KSB7CiAgICBmb3IgKHZhciBlIGluIHQpIHsKICAgICAgcmV0dXJuICExOwogICAgfQoKICAgIHJldHVybiBlID0gbnVsbCwgITA7CiAgfQoKICBmdW5jdGlvbiBvKHQsIGUpIHsKICAgIHQgJiYgKHRoaXMuZWxlbWVudCA9IHQsIHRoaXMubGF5b3V0ID0gZSwgdGhpcy5wb3NpdGlvbiA9IHsKICAgICAgeDogMCwKICAgICAgeTogMAogICAgfSwgdGhpcy5fY3JlYXRlKCkpOwogIH0KCiAgZnVuY3Rpb24gcih0KSB7CiAgICByZXR1cm4gdC5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiAiLSIgKyB0LnRvTG93ZXJDYXNlKCk7CiAgICB9KTsKICB9CgogIHZhciBzID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLAogICAgICBhID0gInN0cmluZyIgPT0gdHlwZW9mIHMudHJhbnNpdGlvbiA/ICJ0cmFuc2l0aW9uIiA6ICJXZWJraXRUcmFuc2l0aW9uIiwKICAgICAgdSA9ICJzdHJpbmciID09IHR5cGVvZiBzLnRyYW5zZm9ybSA/ICJ0cmFuc2Zvcm0iIDogIldlYmtpdFRyYW5zZm9ybSIsCiAgICAgIGwgPSB7CiAgICBXZWJraXRUcmFuc2l0aW9uOiAid2Via2l0VHJhbnNpdGlvbkVuZCIsCiAgICB0cmFuc2l0aW9uOiAidHJhbnNpdGlvbmVuZCIKICB9W2FdLAogICAgICBjID0gW3UsIGEsIGEgKyAiRHVyYXRpb24iLCBhICsgIlByb3BlcnR5Il0sCiAgICAgIGQgPSBvLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpOwogIGQuY29uc3RydWN0b3IgPSBvLCBkLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl90cmFuc24gPSB7CiAgICAgIGluZ1Byb3BlcnRpZXM6IHt9LAogICAgICBjbGVhbjoge30sCiAgICAgIG9uRW5kOiB7fQogICAgfSwgdGhpcy5jc3MoewogICAgICBwb3NpdGlvbjogImFic29sdXRlIgogICAgfSk7CiAgfSwgZC5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9ICJvbiIgKyB0LnR5cGU7CiAgICB0aGlzW2VdICYmIHRoaXNbZV0odCk7CiAgfSwgZC5nZXRTaXplID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaXplID0gbih0aGlzLmVsZW1lbnQpOwogIH0sIGQuY3NzID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5lbGVtZW50LnN0eWxlOwoKICAgIGZvciAodmFyIG4gaW4gdCkgewogICAgICB2YXIgaSA9IGNbbl0gfHwgbjsKICAgICAgZVtpXSA9IHRbbl07CiAgICB9CiAgfSwgZC5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpLAogICAgICAgIGUgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCJvcmlnaW5MZWZ0IiksCiAgICAgICAgbiA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oIm9yaWdpblRvcCIpLAogICAgICAgIGkgPSB0W2UgPyAibGVmdCIgOiAicmlnaHQiXSwKICAgICAgICBvID0gdFtuID8gInRvcCIgOiAiYm90dG9tIl0sCiAgICAgICAgciA9IHRoaXMubGF5b3V0LnNpemUsCiAgICAgICAgcyA9IC0xICE9IGkuaW5kZXhPZigiJSIpID8gcGFyc2VGbG9hdChpKSAvIDEwMCAqIHIud2lkdGggOiBwYXJzZUludChpLCAxMCksCiAgICAgICAgYSA9IC0xICE9IG8uaW5kZXhPZigiJSIpID8gcGFyc2VGbG9hdChvKSAvIDEwMCAqIHIuaGVpZ2h0IDogcGFyc2VJbnQobywgMTApOwoKICAgIHMgPSBpc05hTihzKSA/IDAgOiBzLCBhID0gaXNOYU4oYSkgPyAwIDogYSwgcyAtPSBlID8gci5wYWRkaW5nTGVmdCA6IHIucGFkZGluZ1JpZ2h0LCBhIC09IG4gPyByLnBhZGRpbmdUb3AgOiByLnBhZGRpbmdCb3R0b20sIHRoaXMucG9zaXRpb24ueCA9IHMsIHRoaXMucG9zaXRpb24ueSA9IGE7CiAgfSwgZC5sYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5sYXlvdXQuc2l6ZSwKICAgICAgICBlID0ge30sCiAgICAgICAgbiA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oIm9yaWdpbkxlZnQiKSwKICAgICAgICBpID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbigib3JpZ2luVG9wIiksCiAgICAgICAgbyA9IG4gPyAicGFkZGluZ0xlZnQiIDogInBhZGRpbmdSaWdodCIsCiAgICAgICAgciA9IG4gPyAibGVmdCIgOiAicmlnaHQiLAogICAgICAgIHMgPSBuID8gInJpZ2h0IiA6ICJsZWZ0IiwKICAgICAgICBhID0gdGhpcy5wb3NpdGlvbi54ICsgdFtvXTsKCiAgICBlW3JdID0gdGhpcy5nZXRYVmFsdWUoYSksIGVbc10gPSAiIjsKICAgIHZhciB1ID0gaSA/ICJwYWRkaW5nVG9wIiA6ICJwYWRkaW5nQm90dG9tIiwKICAgICAgICBsID0gaSA/ICJ0b3AiIDogImJvdHRvbSIsCiAgICAgICAgYyA9IGkgPyAiYm90dG9tIiA6ICJ0b3AiLAogICAgICAgIGQgPSB0aGlzLnBvc2l0aW9uLnkgKyB0W3VdOwogICAgZVtsXSA9IHRoaXMuZ2V0WVZhbHVlKGQpLCBlW2NdID0gIiIsIHRoaXMuY3NzKGUpLCB0aGlzLmVtaXRFdmVudCgibGF5b3V0IiwgW3RoaXNdKTsKICB9LCBkLmdldFhWYWx1ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oImhvcml6b250YWwiKTsKCiAgICByZXR1cm4gdGhpcy5sYXlvdXQub3B0aW9ucy5wZXJjZW50UG9zaXRpb24gJiYgIWUgPyB0IC8gdGhpcy5sYXlvdXQuc2l6ZS53aWR0aCAqIDEwMCArICIlIiA6IHQgKyAicHgiOwogIH0sIGQuZ2V0WVZhbHVlID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbigiaG9yaXpvbnRhbCIpOwoKICAgIHJldHVybiB0aGlzLmxheW91dC5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiAmJiBlID8gdCAvIHRoaXMubGF5b3V0LnNpemUuaGVpZ2h0ICogMTAwICsgIiUiIDogdCArICJweCI7CiAgfSwgZC5fdHJhbnNpdGlvblRvID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuZ2V0UG9zaXRpb24oKTsKICAgIHZhciBuID0gdGhpcy5wb3NpdGlvbi54LAogICAgICAgIGkgPSB0aGlzLnBvc2l0aW9uLnksCiAgICAgICAgbyA9IHBhcnNlSW50KHQsIDEwKSwKICAgICAgICByID0gcGFyc2VJbnQoZSwgMTApLAogICAgICAgIHMgPSBvID09PSB0aGlzLnBvc2l0aW9uLnggJiYgciA9PT0gdGhpcy5wb3NpdGlvbi55OwogICAgaWYgKHRoaXMuc2V0UG9zaXRpb24odCwgZSksIHMgJiYgIXRoaXMuaXNUcmFuc2l0aW9uaW5nKSByZXR1cm4gdm9pZCB0aGlzLmxheW91dFBvc2l0aW9uKCk7CiAgICB2YXIgYSA9IHQgLSBuLAogICAgICAgIHUgPSBlIC0gaSwKICAgICAgICBsID0ge307CiAgICBsLnRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNsYXRlKGEsIHUpLCB0aGlzLnRyYW5zaXRpb24oewogICAgICB0bzogbCwKICAgICAgb25UcmFuc2l0aW9uRW5kOiB7CiAgICAgICAgdHJhbnNmb3JtOiB0aGlzLmxheW91dFBvc2l0aW9uCiAgICAgIH0sCiAgICAgIGlzQ2xlYW5pbmc6ICEwCiAgICB9KTsKICB9LCBkLmdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB2YXIgbiA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oIm9yaWdpbkxlZnQiKSwKICAgICAgICBpID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbigib3JpZ2luVG9wIik7CgogICAgcmV0dXJuIHQgPSBuID8gdCA6IC10LCBlID0gaSA/IGUgOiAtZSwgInRyYW5zbGF0ZTNkKCIgKyB0ICsgInB4LCAiICsgZSArICJweCwgMCkiOwogIH0sIGQuZ29UbyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLnNldFBvc2l0aW9uKHQsIGUpLCB0aGlzLmxheW91dFBvc2l0aW9uKCk7CiAgfSwgZC5tb3ZlVG8gPSBkLl90cmFuc2l0aW9uVG8sIGQuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5wb3NpdGlvbi54ID0gcGFyc2VJbnQodCwgMTApLCB0aGlzLnBvc2l0aW9uLnkgPSBwYXJzZUludChlLCAxMCk7CiAgfSwgZC5fbm9uVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLmNzcyh0LnRvKSwgdC5pc0NsZWFuaW5nICYmIHRoaXMuX3JlbW92ZVN0eWxlcyh0LnRvKTsKCiAgICBmb3IgKHZhciBlIGluIHQub25UcmFuc2l0aW9uRW5kKSB7CiAgICAgIHQub25UcmFuc2l0aW9uRW5kW2VdLmNhbGwodGhpcyk7CiAgICB9CiAgfSwgZC5fdHJhbnNpdGlvbiA9IGZ1bmN0aW9uICh0KSB7CiAgICBpZiAoIXBhcnNlRmxvYXQodGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24pKSByZXR1cm4gdm9pZCB0aGlzLl9ub25UcmFuc2l0aW9uKHQpOwogICAgdmFyIGUgPSB0aGlzLl90cmFuc247CgogICAgZm9yICh2YXIgbiBpbiB0Lm9uVHJhbnNpdGlvbkVuZCkgewogICAgICBlLm9uRW5kW25dID0gdC5vblRyYW5zaXRpb25FbmRbbl07CiAgICB9CgogICAgZm9yIChuIGluIHQudG8pIHsKICAgICAgZS5pbmdQcm9wZXJ0aWVzW25dID0gITAsIHQuaXNDbGVhbmluZyAmJiAoZS5jbGVhbltuXSA9ICEwKTsKICAgIH0KCiAgICBpZiAodC5mcm9tKSB7CiAgICAgIHRoaXMuY3NzKHQuZnJvbSk7CiAgICAgIHZhciBpID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgaSA9IG51bGw7CiAgICB9CgogICAgdGhpcy5lbmFibGVUcmFuc2l0aW9uKHQudG8pLCB0aGlzLmNzcyh0LnRvKSwgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSAhMDsKICB9OwogIHZhciBoID0gIm9wYWNpdHksIiArIHIoYy50cmFuc2Zvcm0gfHwgInRyYW5zZm9ybSIpOwogIGQuZW5hYmxlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaXNUcmFuc2l0aW9uaW5nIHx8ICh0aGlzLmNzcyh7CiAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogaCwKICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbgogICAgfSksIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGwsIHRoaXMsICExKSk7CiAgfSwgZC50cmFuc2l0aW9uID0gby5wcm90b3R5cGVbYSA/ICJfdHJhbnNpdGlvbiIgOiAiX25vblRyYW5zaXRpb24iXSwgZC5vbndlYmtpdFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5vbnRyYW5zaXRpb25lbmQodCk7CiAgfSwgZC5vbm90cmFuc2l0aW9uZW5kID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMub250cmFuc2l0aW9uZW5kKHQpOwogIH07CiAgdmFyIGYgPSB7CiAgICAiLXdlYmtpdC10cmFuc2Zvcm0iOiAidHJhbnNmb3JtIgogIH07CiAgZC5vbnRyYW5zaXRpb25lbmQgPSBmdW5jdGlvbiAodCkgewogICAgaWYgKHQudGFyZ2V0ID09PSB0aGlzLmVsZW1lbnQpIHsKICAgICAgdmFyIGUgPSB0aGlzLl90cmFuc24sCiAgICAgICAgICBuID0gZlt0LnByb3BlcnR5TmFtZV0gfHwgdC5wcm9wZXJ0eU5hbWU7CgogICAgICBpZiAoZGVsZXRlIGUuaW5nUHJvcGVydGllc1tuXSwgaShlLmluZ1Byb3BlcnRpZXMpICYmIHRoaXMuZGlzYWJsZVRyYW5zaXRpb24oKSwgbiBpbiBlLmNsZWFuICYmICh0aGlzLmVsZW1lbnQuc3R5bGVbdC5wcm9wZXJ0eU5hbWVdID0gIiIsIGRlbGV0ZSBlLmNsZWFuW25dKSwgbiBpbiBlLm9uRW5kKSB7CiAgICAgICAgdmFyIG8gPSBlLm9uRW5kW25dOwogICAgICAgIG8uY2FsbCh0aGlzKSwgZGVsZXRlIGUub25FbmRbbl07CiAgICAgIH0KCiAgICAgIHRoaXMuZW1pdEV2ZW50KCJ0cmFuc2l0aW9uRW5kIiwgW3RoaXNdKTsKICAgIH0KICB9LCBkLmRpc2FibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVUcmFuc2l0aW9uU3R5bGVzKCksIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGwsIHRoaXMsICExKSwgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSAhMTsKICB9LCBkLl9yZW1vdmVTdHlsZXMgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB7fTsKCiAgICBmb3IgKHZhciBuIGluIHQpIHsKICAgICAgZVtuXSA9ICIiOwogICAgfQoKICAgIHRoaXMuY3NzKGUpOwogIH07CiAgdmFyIHAgPSB7CiAgICB0cmFuc2l0aW9uUHJvcGVydHk6ICIiLAogICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAiIgogIH07CiAgcmV0dXJuIGQucmVtb3ZlVHJhbnNpdGlvblN0eWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY3NzKHApOwogIH0sIGQucmVtb3ZlRWxlbSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksIHRoaXMuY3NzKHsKICAgICAgZGlzcGxheTogIiIKICAgIH0pLCB0aGlzLmVtaXRFdmVudCgicmVtb3ZlIiwgW3RoaXNdKTsKICB9LCBkLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBhICYmIHBhcnNlRmxvYXQodGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24pID8gKHRoaXMub25jZSgidHJhbnNpdGlvbkVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5yZW1vdmVFbGVtKCk7CiAgICB9KSwgdm9pZCB0aGlzLmhpZGUoKSkgOiB2b2lkIHRoaXMucmVtb3ZlRWxlbSgpOwogIH0sIGQucmV2ZWFsID0gZnVuY3Rpb24gKCkgewogICAgZGVsZXRlIHRoaXMuaXNIaWRkZW4sIHRoaXMuY3NzKHsKICAgICAgZGlzcGxheTogIiIKICAgIH0pOwogICAgdmFyIHQgPSB0aGlzLmxheW91dC5vcHRpb25zLAogICAgICAgIGUgPSB7fSwKICAgICAgICBuID0gdGhpcy5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5KCJ2aXNpYmxlU3R5bGUiKTsKICAgIGVbbl0gPSB0aGlzLm9uUmV2ZWFsVHJhbnNpdGlvbkVuZCwgdGhpcy50cmFuc2l0aW9uKHsKICAgICAgZnJvbTogdC5oaWRkZW5TdHlsZSwKICAgICAgdG86IHQudmlzaWJsZVN0eWxlLAogICAgICBpc0NsZWFuaW5nOiAhMCwKICAgICAgb25UcmFuc2l0aW9uRW5kOiBlCiAgICB9KTsKICB9LCBkLm9uUmV2ZWFsVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaXNIaWRkZW4gfHwgdGhpcy5lbWl0RXZlbnQoInJldmVhbCIpOwogIH0sIGQuZ2V0SGlkZVJldmVhbFRyYW5zaXRpb25FbmRQcm9wZXJ0eSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMubGF5b3V0Lm9wdGlvbnNbdF07CiAgICBpZiAoZS5vcGFjaXR5KSByZXR1cm4gIm9wYWNpdHkiOwoKICAgIGZvciAodmFyIG4gaW4gZSkgewogICAgICByZXR1cm4gbjsKICAgIH0KICB9LCBkLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmlzSGlkZGVuID0gITAsIHRoaXMuY3NzKHsKICAgICAgZGlzcGxheTogIiIKICAgIH0pOwogICAgdmFyIHQgPSB0aGlzLmxheW91dC5vcHRpb25zLAogICAgICAgIGUgPSB7fSwKICAgICAgICBuID0gdGhpcy5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5KCJoaWRkZW5TdHlsZSIpOwogICAgZVtuXSA9IHRoaXMub25IaWRlVHJhbnNpdGlvbkVuZCwgdGhpcy50cmFuc2l0aW9uKHsKICAgICAgZnJvbTogdC52aXNpYmxlU3R5bGUsCiAgICAgIHRvOiB0LmhpZGRlblN0eWxlLAogICAgICBpc0NsZWFuaW5nOiAhMCwKICAgICAgb25UcmFuc2l0aW9uRW5kOiBlCiAgICB9KTsKICB9LCBkLm9uSGlkZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmlzSGlkZGVuICYmICh0aGlzLmNzcyh7CiAgICAgIGRpc3BsYXk6ICJub25lIgogICAgfSksIHRoaXMuZW1pdEV2ZW50KCJoaWRlIikpOwogIH0sIGQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY3NzKHsKICAgICAgcG9zaXRpb246ICIiLAogICAgICBsZWZ0OiAiIiwKICAgICAgcmlnaHQ6ICIiLAogICAgICB0b3A6ICIiLAogICAgICBib3R0b206ICIiLAogICAgICB0cmFuc2l0aW9uOiAiIiwKICAgICAgdHJhbnNmb3JtOiAiIgogICAgfSk7CiAgfSwgbzsKfSksIGZ1bmN0aW9uICh0LCBlKSB7CiAgInVzZSBzdHJpY3QiOwoKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgib3V0bGF5ZXIvb3V0bGF5ZXIiLCBbImV2LWVtaXR0ZXIvZXYtZW1pdHRlciIsICJnZXQtc2l6ZS9nZXQtc2l6ZSIsICJmaXp6eS11aS11dGlscy91dGlscyIsICIuL2l0ZW0iXSwgZnVuY3Rpb24gKG4sIGksIG8sIHIpIHsKICAgIHJldHVybiBlKHQsIG4sIGksIG8sIHIpOwogIH0pIDogIm9iamVjdCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBlKHQsIHJlcXVpcmUoImV2LWVtaXR0ZXIiKSwgcmVxdWlyZSgiZ2V0LXNpemUiKSwgcmVxdWlyZSgiZml6enktdWktdXRpbHMiKSwgcmVxdWlyZSgiLi9pdGVtIikpIDogdC5PdXRsYXllciA9IGUodCwgdC5FdkVtaXR0ZXIsIHQuZ2V0U2l6ZSwgdC5maXp6eVVJVXRpbHMsIHQuT3V0bGF5ZXIuSXRlbSk7Cn0od2luZG93LCBmdW5jdGlvbiAodCwgZSwgbiwgaSwgbykgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gcih0LCBlKSB7CiAgICB2YXIgbiA9IGkuZ2V0UXVlcnlFbGVtZW50KHQpOwogICAgaWYgKCFuKSByZXR1cm4gdm9pZCAoYSAmJiBhLmVycm9yKCJCYWQgZWxlbWVudCBmb3IgIiArIHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlICsgIjogIiArIChuIHx8IHQpKSk7CiAgICB0aGlzLmVsZW1lbnQgPSBuLCB1ICYmICh0aGlzLiRlbGVtZW50ID0gdSh0aGlzLmVsZW1lbnQpKSwgdGhpcy5vcHRpb25zID0gaS5leHRlbmQoe30sIHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdHMpLCB0aGlzLm9wdGlvbihlKTsKICAgIHZhciBvID0gKytjOwogICAgdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRCA9IG8sIGRbb10gPSB0aGlzLCB0aGlzLl9jcmVhdGUoKTsKCiAgICB2YXIgciA9IHRoaXMuX2dldE9wdGlvbigiaW5pdExheW91dCIpOwoKICAgIHIgJiYgdGhpcy5sYXlvdXQoKTsKICB9CgogIGZ1bmN0aW9uIHModCkgewogICAgZnVuY3Rpb24gZSgpIHsKICAgICAgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLCBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGUsIGU7CiAgfQoKICB2YXIgYSA9IHQuY29uc29sZSwKICAgICAgdSA9IHQualF1ZXJ5LAogICAgICBsID0gZnVuY3Rpb24gbCgpIHt9LAogICAgICBjID0gMCwKICAgICAgZCA9IHt9OwoKICByLm5hbWVzcGFjZSA9ICJvdXRsYXllciIsIHIuSXRlbSA9IG8sIHIuZGVmYXVsdHMgPSB7CiAgICBjb250YWluZXJTdHlsZTogewogICAgICBwb3NpdGlvbjogInJlbGF0aXZlIgogICAgfSwKICAgIGluaXRMYXlvdXQ6ICEwLAogICAgb3JpZ2luTGVmdDogITAsCiAgICBvcmlnaW5Ub3A6ICEwLAogICAgcmVzaXplOiAhMCwKICAgIHJlc2l6ZUNvbnRhaW5lcjogITAsCiAgICB0cmFuc2l0aW9uRHVyYXRpb246ICIwLjRzIiwKICAgIGhpZGRlblN0eWxlOiB7CiAgICAgIG9wYWNpdHk6IDAsCiAgICAgIHRyYW5zZm9ybTogInNjYWxlKDAuMDAxKSIKICAgIH0sCiAgICB2aXNpYmxlU3R5bGU6IHsKICAgICAgb3BhY2l0eTogMSwKICAgICAgdHJhbnNmb3JtOiAic2NhbGUoMSkiCiAgICB9CiAgfTsKICB2YXIgaCA9IHIucHJvdG90eXBlOwogIHJldHVybiBpLmV4dGVuZChoLCBlLnByb3RvdHlwZSksIGgub3B0aW9uID0gZnVuY3Rpb24gKHQpIHsKICAgIGkuZXh0ZW5kKHRoaXMub3B0aW9ucywgdCk7CiAgfSwgaC5fZ2V0T3B0aW9uID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5jb25zdHJ1Y3Rvci5jb21wYXRPcHRpb25zW3RdOwogICAgcmV0dXJuIGUgJiYgdm9pZCAwICE9PSB0aGlzLm9wdGlvbnNbZV0gPyB0aGlzLm9wdGlvbnNbZV0gOiB0aGlzLm9wdGlvbnNbdF07CiAgfSwgci5jb21wYXRPcHRpb25zID0gewogICAgaW5pdExheW91dDogImlzSW5pdExheW91dCIsCiAgICBob3Jpem9udGFsOiAiaXNIb3Jpem9udGFsIiwKICAgIGxheW91dEluc3RhbnQ6ICJpc0xheW91dEluc3RhbnQiLAogICAgb3JpZ2luTGVmdDogImlzT3JpZ2luTGVmdCIsCiAgICBvcmlnaW5Ub3A6ICJpc09yaWdpblRvcCIsCiAgICByZXNpemU6ICJpc1Jlc2l6ZUJvdW5kIiwKICAgIHJlc2l6ZUNvbnRhaW5lcjogImlzUmVzaXppbmdDb250YWluZXIiCiAgfSwgaC5fY3JlYXRlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZWxvYWRJdGVtcygpLCB0aGlzLnN0YW1wcyA9IFtdLCB0aGlzLnN0YW1wKHRoaXMub3B0aW9ucy5zdGFtcCksIGkuZXh0ZW5kKHRoaXMuZWxlbWVudC5zdHlsZSwgdGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlKTsKCiAgICB2YXIgdCA9IHRoaXMuX2dldE9wdGlvbigicmVzaXplIik7CgogICAgdCAmJiB0aGlzLmJpbmRSZXNpemUoKTsKICB9LCBoLnJlbG9hZEl0ZW1zID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pdGVtcyA9IHRoaXMuX2l0ZW1pemUodGhpcy5lbGVtZW50LmNoaWxkcmVuKTsKICB9LCBoLl9pdGVtaXplID0gZnVuY3Rpb24gKHQpIHsKICAgIGZvciAodmFyIGUgPSB0aGlzLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzKHQpLCBuID0gdGhpcy5jb25zdHJ1Y3Rvci5JdGVtLCBpID0gW10sIG8gPSAwOyBvIDwgZS5sZW5ndGg7IG8rKykgewogICAgICB2YXIgciA9IGVbb10sCiAgICAgICAgICBzID0gbmV3IG4ociwgdGhpcyk7CiAgICAgIGkucHVzaChzKTsKICAgIH0KCiAgICByZXR1cm4gaTsKICB9LCBoLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiBpLmZpbHRlckZpbmRFbGVtZW50cyh0LCB0aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yKTsKICB9LCBoLmdldEl0ZW1FbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gdC5lbGVtZW50OwogICAgfSk7CiAgfSwgaC5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9yZXNldExheW91dCgpLCB0aGlzLl9tYW5hZ2VTdGFtcHMoKTsKCiAgICB2YXIgdCA9IHRoaXMuX2dldE9wdGlvbigibGF5b3V0SW5zdGFudCIpLAogICAgICAgIGUgPSB2b2lkIDAgIT09IHQgPyB0IDogIXRoaXMuX2lzTGF5b3V0SW5pdGVkOwoKICAgIHRoaXMubGF5b3V0SXRlbXModGhpcy5pdGVtcywgZSksIHRoaXMuX2lzTGF5b3V0SW5pdGVkID0gITA7CiAgfSwgaC5faW5pdCA9IGgubGF5b3V0LCBoLl9yZXNldExheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0U2l6ZSgpOwogIH0sIGguZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2l6ZSA9IG4odGhpcy5lbGVtZW50KTsKICB9LCBoLl9nZXRNZWFzdXJlbWVudCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB2YXIgaSwKICAgICAgICBvID0gdGhpcy5vcHRpb25zW3RdOwogICAgbyA/ICgic3RyaW5nIiA9PSB0eXBlb2YgbyA/IGkgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihvKSA6IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAoaSA9IG8pLCB0aGlzW3RdID0gaSA/IG4oaSlbZV0gOiBvKSA6IHRoaXNbdF0gPSAwOwogIH0sIGgubGF5b3V0SXRlbXMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdCA9IHRoaXMuX2dldEl0ZW1zRm9yTGF5b3V0KHQpLCB0aGlzLl9sYXlvdXRJdGVtcyh0LCBlKSwgdGhpcy5fcG9zdExheW91dCgpOwogIH0sIGguX2dldEl0ZW1zRm9yTGF5b3V0ID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB0LmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gIXQuaXNJZ25vcmVkOwogICAgfSk7CiAgfSwgaC5fbGF5b3V0SXRlbXMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgaWYgKHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoImxheW91dCIsIHQpLCB0ICYmIHQubGVuZ3RoKSB7CiAgICAgIHZhciBuID0gW107CiAgICAgIHQuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICAgIHZhciBpID0gdGhpcy5fZ2V0SXRlbUxheW91dFBvc2l0aW9uKHQpOwoKICAgICAgICBpLml0ZW0gPSB0LCBpLmlzSW5zdGFudCA9IGUgfHwgdC5pc0xheW91dEluc3RhbnQsIG4ucHVzaChpKTsKICAgICAgfSwgdGhpcyksIHRoaXMuX3Byb2Nlc3NMYXlvdXRRdWV1ZShuKTsKICAgIH0KICB9LCBoLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9OwogIH0sIGguX3Byb2Nlc3NMYXlvdXRRdWV1ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdGhpcy5fcG9zaXRpb25JdGVtKHQuaXRlbSwgdC54LCB0LnksIHQuaXNJbnN0YW50KTsKICAgIH0sIHRoaXMpOwogIH0sIGguX3Bvc2l0aW9uSXRlbSA9IGZ1bmN0aW9uICh0LCBlLCBuLCBpKSB7CiAgICBpID8gdC5nb1RvKGUsIG4pIDogdC5tb3ZlVG8oZSwgbik7CiAgfSwgaC5fcG9zdExheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucmVzaXplQ29udGFpbmVyKCk7CiAgfSwgaC5yZXNpemVDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMuX2dldE9wdGlvbigicmVzaXplQ29udGFpbmVyIik7CgogICAgaWYgKHQpIHsKICAgICAgdmFyIGUgPSB0aGlzLl9nZXRDb250YWluZXJTaXplKCk7CgogICAgICBlICYmICh0aGlzLl9zZXRDb250YWluZXJNZWFzdXJlKGUud2lkdGgsICEwKSwgdGhpcy5fc2V0Q29udGFpbmVyTWVhc3VyZShlLmhlaWdodCwgITEpKTsKICAgIH0KICB9LCBoLl9nZXRDb250YWluZXJTaXplID0gbCwgaC5fc2V0Q29udGFpbmVyTWVhc3VyZSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAodm9pZCAwICE9PSB0KSB7CiAgICAgIHZhciBuID0gdGhpcy5zaXplOwogICAgICBuLmlzQm9yZGVyQm94ICYmICh0ICs9IGUgPyBuLnBhZGRpbmdMZWZ0ICsgbi5wYWRkaW5nUmlnaHQgKyBuLmJvcmRlckxlZnRXaWR0aCArIG4uYm9yZGVyUmlnaHRXaWR0aCA6IG4ucGFkZGluZ0JvdHRvbSArIG4ucGFkZGluZ1RvcCArIG4uYm9yZGVyVG9wV2lkdGggKyBuLmJvcmRlckJvdHRvbVdpZHRoKSwgdCA9IE1hdGgubWF4KHQsIDApLCB0aGlzLmVsZW1lbnQuc3R5bGVbZSA/ICJ3aWR0aCIgOiAiaGVpZ2h0Il0gPSB0ICsgInB4IjsKICAgIH0KICB9LCBoLl9lbWl0Q29tcGxldGVPbkl0ZW1zID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIGZ1bmN0aW9uIG4oKSB7CiAgICAgIG8uZGlzcGF0Y2hFdmVudCh0ICsgIkNvbXBsZXRlIiwgbnVsbCwgW2VdKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpKCkgewogICAgICBzKyssIHMgPT0gciAmJiBuKCk7CiAgICB9CgogICAgdmFyIG8gPSB0aGlzLAogICAgICAgIHIgPSBlLmxlbmd0aDsKICAgIGlmICghZSB8fCAhcikgcmV0dXJuIHZvaWQgbigpOwogICAgdmFyIHMgPSAwOwogICAgZS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGUub25jZSh0LCBpKTsKICAgIH0pOwogIH0sIGguZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICB2YXIgaSA9IGUgPyBbZV0uY29uY2F0KG4pIDogbjsKICAgIGlmICh0aGlzLmVtaXRFdmVudCh0LCBpKSwgdSkgaWYgKHRoaXMuJGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50IHx8IHUodGhpcy5lbGVtZW50KSwgZSkgewogICAgICB2YXIgbyA9IHUuRXZlbnQoZSk7CiAgICAgIG8udHlwZSA9IHQsIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihvLCBuKTsKICAgIH0gZWxzZSB0aGlzLiRlbGVtZW50LnRyaWdnZXIodCwgbik7CiAgfSwgaC5pZ25vcmUgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLmdldEl0ZW0odCk7CiAgICBlICYmIChlLmlzSWdub3JlZCA9ICEwKTsKICB9LCBoLnVuaWdub3JlID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5nZXRJdGVtKHQpOwogICAgZSAmJiBkZWxldGUgZS5pc0lnbm9yZWQ7CiAgfSwgaC5zdGFtcCA9IGZ1bmN0aW9uICh0KSB7CiAgICB0ID0gdGhpcy5fZmluZCh0KSwgdCAmJiAodGhpcy5zdGFtcHMgPSB0aGlzLnN0YW1wcy5jb25jYXQodCksIHQuZm9yRWFjaCh0aGlzLmlnbm9yZSwgdGhpcykpOwogIH0sIGgudW5zdGFtcCA9IGZ1bmN0aW9uICh0KSB7CiAgICB0ID0gdGhpcy5fZmluZCh0KSwgdCAmJiB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgaS5yZW1vdmVGcm9tKHRoaXMuc3RhbXBzLCB0KSwgdGhpcy51bmlnbm9yZSh0KTsKICAgIH0sIHRoaXMpOwogIH0sIGguX2ZpbmQgPSBmdW5jdGlvbiAodCkgewogICAgcmV0dXJuIHQgPyAoInN0cmluZyIgPT0gdHlwZW9mIHQgJiYgKHQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KSksIHQgPSBpLm1ha2VBcnJheSh0KSkgOiB2b2lkIDA7CiAgfSwgaC5fbWFuYWdlU3RhbXBzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5zdGFtcHMgJiYgdGhpcy5zdGFtcHMubGVuZ3RoICYmICh0aGlzLl9nZXRCb3VuZGluZ1JlY3QoKSwgdGhpcy5zdGFtcHMuZm9yRWFjaCh0aGlzLl9tYW5hZ2VTdGFtcCwgdGhpcykpOwogIH0sIGguX2dldEJvdW5kaW5nUmVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgIGUgPSB0aGlzLnNpemU7CiAgICB0aGlzLl9ib3VuZGluZ1JlY3QgPSB7CiAgICAgIGxlZnQ6IHQubGVmdCArIGUucGFkZGluZ0xlZnQgKyBlLmJvcmRlckxlZnRXaWR0aCwKICAgICAgdG9wOiB0LnRvcCArIGUucGFkZGluZ1RvcCArIGUuYm9yZGVyVG9wV2lkdGgsCiAgICAgIHJpZ2h0OiB0LnJpZ2h0IC0gKGUucGFkZGluZ1JpZ2h0ICsgZS5ib3JkZXJSaWdodFdpZHRoKSwKICAgICAgYm90dG9tOiB0LmJvdHRvbSAtIChlLnBhZGRpbmdCb3R0b20gKyBlLmJvcmRlckJvdHRvbVdpZHRoKQogICAgfTsKICB9LCBoLl9tYW5hZ2VTdGFtcCA9IGwsIGguX2dldEVsZW1lbnRPZmZzZXQgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgIGkgPSB0aGlzLl9ib3VuZGluZ1JlY3QsCiAgICAgICAgbyA9IG4odCksCiAgICAgICAgciA9IHsKICAgICAgbGVmdDogZS5sZWZ0IC0gaS5sZWZ0IC0gby5tYXJnaW5MZWZ0LAogICAgICB0b3A6IGUudG9wIC0gaS50b3AgLSBvLm1hcmdpblRvcCwKICAgICAgcmlnaHQ6IGkucmlnaHQgLSBlLnJpZ2h0IC0gby5tYXJnaW5SaWdodCwKICAgICAgYm90dG9tOiBpLmJvdHRvbSAtIGUuYm90dG9tIC0gby5tYXJnaW5Cb3R0b20KICAgIH07CiAgICByZXR1cm4gcjsKICB9LCBoLmhhbmRsZUV2ZW50ID0gaS5oYW5kbGVFdmVudCwgaC5iaW5kUmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgdC5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzKSwgdGhpcy5pc1Jlc2l6ZUJvdW5kID0gITA7CiAgfSwgaC51bmJpbmRSZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMpLCB0aGlzLmlzUmVzaXplQm91bmQgPSAhMTsKICB9LCBoLm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZXNpemUoKTsKICB9LCBpLmRlYm91bmNlTWV0aG9kKHIsICJvbnJlc2l6ZSIsIDEwMCksIGgucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc1Jlc2l6ZUJvdW5kICYmIHRoaXMubmVlZHNSZXNpemVMYXlvdXQoKSAmJiB0aGlzLmxheW91dCgpOwogIH0sIGgubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IG4odGhpcy5lbGVtZW50KSwKICAgICAgICBlID0gdGhpcy5zaXplICYmIHQ7CiAgICByZXR1cm4gZSAmJiB0LmlubmVyV2lkdGggIT09IHRoaXMuc2l6ZS5pbm5lcldpZHRoOwogIH0sIGguYWRkSXRlbXMgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLl9pdGVtaXplKHQpOwoKICAgIHJldHVybiBlLmxlbmd0aCAmJiAodGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuY29uY2F0KGUpKSwgZTsKICB9LCBoLmFwcGVuZGVkID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5hZGRJdGVtcyh0KTsKICAgIGUubGVuZ3RoICYmICh0aGlzLmxheW91dEl0ZW1zKGUsICEwKSwgdGhpcy5yZXZlYWwoZSkpOwogIH0sIGgucHJlcGVuZGVkID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5faXRlbWl6ZSh0KTsKCiAgICBpZiAoZS5sZW5ndGgpIHsKICAgICAgdmFyIG4gPSB0aGlzLml0ZW1zLnNsaWNlKDApOwogICAgICB0aGlzLml0ZW1zID0gZS5jb25jYXQobiksIHRoaXMuX3Jlc2V0TGF5b3V0KCksIHRoaXMuX21hbmFnZVN0YW1wcygpLCB0aGlzLmxheW91dEl0ZW1zKGUsICEwKSwgdGhpcy5yZXZlYWwoZSksIHRoaXMubGF5b3V0SXRlbXMobik7CiAgICB9CiAgfSwgaC5yZXZlYWwgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcygicmV2ZWFsIiwgdCksIHQgJiYgdC5sZW5ndGggJiYgdC5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgIHQucmV2ZWFsKCk7CiAgICB9KTsKICB9LCBoLmhpZGUgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcygiaGlkZSIsIHQpLCB0ICYmIHQubGVuZ3RoICYmIHQuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0LmhpZGUoKTsKICAgIH0pOwogIH0sIGgucmV2ZWFsSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5nZXRJdGVtcyh0KTsKICAgIHRoaXMucmV2ZWFsKGUpOwogIH0sIGguaGlkZUl0ZW1FbGVtZW50cyA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0SXRlbXModCk7CiAgICB0aGlzLmhpZGUoZSk7CiAgfSwgaC5nZXRJdGVtID0gZnVuY3Rpb24gKHQpIHsKICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGUrKykgewogICAgICB2YXIgbiA9IHRoaXMuaXRlbXNbZV07CiAgICAgIGlmIChuLmVsZW1lbnQgPT0gdCkgcmV0dXJuIG47CiAgICB9CiAgfSwgaC5nZXRJdGVtcyA9IGZ1bmN0aW9uICh0KSB7CiAgICB0ID0gaS5tYWtlQXJyYXkodCk7CiAgICB2YXIgZSA9IFtdOwogICAgcmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbiA9IHRoaXMuZ2V0SXRlbSh0KTsKICAgICAgbiAmJiBlLnB1c2gobik7CiAgICB9LCB0aGlzKSwgZTsKICB9LCBoLnJlbW92ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0SXRlbXModCk7CiAgICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCJyZW1vdmUiLCBlKSwgZSAmJiBlLmxlbmd0aCAmJiBlLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdC5yZW1vdmUoKSwgaS5yZW1vdmVGcm9tKHRoaXMuaXRlbXMsIHQpOwogICAgfSwgdGhpcyk7CiAgfSwgaC5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLmVsZW1lbnQuc3R5bGU7CiAgICB0LmhlaWdodCA9ICIiLCB0LnBvc2l0aW9uID0gIiIsIHQud2lkdGggPSAiIiwgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgIHQuZGVzdHJveSgpOwogICAgfSksIHRoaXMudW5iaW5kUmVzaXplKCk7CiAgICB2YXIgZSA9IHRoaXMuZWxlbWVudC5vdXRsYXllckdVSUQ7CiAgICBkZWxldGUgZFtlXSwgZGVsZXRlIHRoaXMuZWxlbWVudC5vdXRsYXllckdVSUQsIHUgJiYgdS5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lc3BhY2UpOwogIH0sIHIuZGF0YSA9IGZ1bmN0aW9uICh0KSB7CiAgICB0ID0gaS5nZXRRdWVyeUVsZW1lbnQodCk7CiAgICB2YXIgZSA9IHQgJiYgdC5vdXRsYXllckdVSUQ7CiAgICByZXR1cm4gZSAmJiBkW2VdOwogIH0sIHIuY3JlYXRlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBuID0gcyhyKTsKICAgIHJldHVybiBuLmRlZmF1bHRzID0gaS5leHRlbmQoe30sIHIuZGVmYXVsdHMpLCBpLmV4dGVuZChuLmRlZmF1bHRzLCBlKSwgbi5jb21wYXRPcHRpb25zID0gaS5leHRlbmQoe30sIHIuY29tcGF0T3B0aW9ucyksIG4ubmFtZXNwYWNlID0gdCwgbi5kYXRhID0gci5kYXRhLCBuLkl0ZW0gPSBzKG8pLCBpLmh0bWxJbml0KG4sIHQpLCB1ICYmIHUuYnJpZGdldCAmJiB1LmJyaWRnZXQodCwgbiksIG47CiAgfSwgci5JdGVtID0gbywgcjsKfSksIGZ1bmN0aW9uICh0LCBlKSB7CiAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWyJvdXRsYXllci9vdXRsYXllciIsICJnZXQtc2l6ZS9nZXQtc2l6ZSJdLCBlKSA6ICJvYmplY3QiID09ICh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSAmJiBtb2R1bGUuZXhwb3J0cyA/IG1vZHVsZS5leHBvcnRzID0gZShyZXF1aXJlKCJvdXRsYXllciIpLCByZXF1aXJlKCJnZXQtc2l6ZSIpKSA6IHQuTWFzb25yeSA9IGUodC5PdXRsYXllciwgdC5nZXRTaXplKTsKfSh3aW5kb3csIGZ1bmN0aW9uICh0LCBlKSB7CiAgdmFyIG4gPSB0LmNyZWF0ZSgibWFzb25yeSIpOwogIHJldHVybiBuLmNvbXBhdE9wdGlvbnMuZml0V2lkdGggPSAiaXNGaXRXaWR0aCIsIG4ucHJvdG90eXBlLl9yZXNldExheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0U2l6ZSgpLCB0aGlzLl9nZXRNZWFzdXJlbWVudCgiY29sdW1uV2lkdGgiLCAib3V0ZXJXaWR0aCIpLCB0aGlzLl9nZXRNZWFzdXJlbWVudCgiZ3V0dGVyIiwgIm91dGVyV2lkdGgiKSwgdGhpcy5tZWFzdXJlQ29sdW1ucygpLCB0aGlzLmNvbFlzID0gW107CgogICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmNvbHM7IHQrKykgewogICAgICB0aGlzLmNvbFlzLnB1c2goMCk7CiAgICB9CgogICAgdGhpcy5tYXhZID0gMDsKICB9LCBuLnByb3RvdHlwZS5tZWFzdXJlQ29sdW1ucyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmdldENvbnRhaW5lcldpZHRoKCksICF0aGlzLmNvbHVtbldpZHRoKSB7CiAgICAgIHZhciB0ID0gdGhpcy5pdGVtc1swXSwKICAgICAgICAgIG4gPSB0ICYmIHQuZWxlbWVudDsKICAgICAgdGhpcy5jb2x1bW5XaWR0aCA9IG4gJiYgZShuKS5vdXRlcldpZHRoIHx8IHRoaXMuY29udGFpbmVyV2lkdGg7CiAgICB9CgogICAgdmFyIGkgPSB0aGlzLmNvbHVtbldpZHRoICs9IHRoaXMuZ3V0dGVyLAogICAgICAgIG8gPSB0aGlzLmNvbnRhaW5lcldpZHRoICsgdGhpcy5ndXR0ZXIsCiAgICAgICAgciA9IG8gLyBpLAogICAgICAgIHMgPSBpIC0gbyAlIGksCiAgICAgICAgYSA9IHMgJiYgMSA+IHMgPyAicm91bmQiIDogImZsb29yIjsKICAgIHIgPSBNYXRoW2FdKHIpLCB0aGlzLmNvbHMgPSBNYXRoLm1heChyLCAxKTsKICB9LCBuLnByb3RvdHlwZS5nZXRDb250YWluZXJXaWR0aCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5fZ2V0T3B0aW9uKCJmaXRXaWR0aCIpLAogICAgICAgIG4gPSB0ID8gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgOiB0aGlzLmVsZW1lbnQsCiAgICAgICAgaSA9IGUobik7CgogICAgdGhpcy5jb250YWluZXJXaWR0aCA9IGkgJiYgaS5pbm5lcldpZHRoOwogIH0sIG4ucHJvdG90eXBlLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiAodCkgewogICAgdC5nZXRTaXplKCk7CiAgICB2YXIgZSA9IHQuc2l6ZS5vdXRlcldpZHRoICUgdGhpcy5jb2x1bW5XaWR0aCwKICAgICAgICBuID0gZSAmJiAxID4gZSA/ICJyb3VuZCIgOiAiY2VpbCIsCiAgICAgICAgaSA9IE1hdGhbbl0odC5zaXplLm91dGVyV2lkdGggLyB0aGlzLmNvbHVtbldpZHRoKTsKICAgIGkgPSBNYXRoLm1pbihpLCB0aGlzLmNvbHMpOwoKICAgIGZvciAodmFyIG8gPSB0aGlzLl9nZXRDb2xHcm91cChpKSwgciA9IE1hdGgubWluLmFwcGx5KE1hdGgsIG8pLCBzID0gby5pbmRleE9mKHIpLCBhID0gewogICAgICB4OiB0aGlzLmNvbHVtbldpZHRoICogcywKICAgICAgeTogcgogICAgfSwgdSA9IHIgKyB0LnNpemUub3V0ZXJIZWlnaHQsIGwgPSB0aGlzLmNvbHMgKyAxIC0gby5sZW5ndGgsIGMgPSAwOyBsID4gYzsgYysrKSB7CiAgICAgIHRoaXMuY29sWXNbcyArIGNdID0gdTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9LCBuLnByb3RvdHlwZS5fZ2V0Q29sR3JvdXAgPSBmdW5jdGlvbiAodCkgewogICAgaWYgKDIgPiB0KSByZXR1cm4gdGhpcy5jb2xZczsKCiAgICBmb3IgKHZhciBlID0gW10sIG4gPSB0aGlzLmNvbHMgKyAxIC0gdCwgaSA9IDA7IG4gPiBpOyBpKyspIHsKICAgICAgdmFyIG8gPSB0aGlzLmNvbFlzLnNsaWNlKGksIGkgKyB0KTsKICAgICAgZVtpXSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIG8pOwogICAgfQoKICAgIHJldHVybiBlOwogIH0sIG4ucHJvdG90eXBlLl9tYW5hZ2VTdGFtcCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgbiA9IGUodCksCiAgICAgICAgaSA9IHRoaXMuX2dldEVsZW1lbnRPZmZzZXQodCksCiAgICAgICAgbyA9IHRoaXMuX2dldE9wdGlvbigib3JpZ2luTGVmdCIpLAogICAgICAgIHIgPSBvID8gaS5sZWZ0IDogaS5yaWdodCwKICAgICAgICBzID0gciArIG4ub3V0ZXJXaWR0aCwKICAgICAgICBhID0gTWF0aC5mbG9vcihyIC8gdGhpcy5jb2x1bW5XaWR0aCk7CgogICAgYSA9IE1hdGgubWF4KDAsIGEpOwogICAgdmFyIHUgPSBNYXRoLmZsb29yKHMgLyB0aGlzLmNvbHVtbldpZHRoKTsKICAgIHUgLT0gcyAlIHRoaXMuY29sdW1uV2lkdGggPyAwIDogMSwgdSA9IE1hdGgubWluKHRoaXMuY29scyAtIDEsIHUpOwoKICAgIGZvciAodmFyIGwgPSB0aGlzLl9nZXRPcHRpb24oIm9yaWdpblRvcCIpLCBjID0gKGwgPyBpLnRvcCA6IGkuYm90dG9tKSArIG4ub3V0ZXJIZWlnaHQsIGQgPSBhOyB1ID49IGQ7IGQrKykgewogICAgICB0aGlzLmNvbFlzW2RdID0gTWF0aC5tYXgoYywgdGhpcy5jb2xZc1tkXSk7CiAgICB9CiAgfSwgbi5wcm90b3R5cGUuX2dldENvbnRhaW5lclNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLm1heFkgPSBNYXRoLm1heC5hcHBseShNYXRoLCB0aGlzLmNvbFlzKTsKICAgIHZhciB0ID0gewogICAgICBoZWlnaHQ6IHRoaXMubWF4WQogICAgfTsKICAgIHJldHVybiB0aGlzLl9nZXRPcHRpb24oImZpdFdpZHRoIikgJiYgKHQud2lkdGggPSB0aGlzLl9nZXRDb250YWluZXJGaXRXaWR0aCgpKSwgdDsKICB9LCBuLnByb3RvdHlwZS5fZ2V0Q29udGFpbmVyRml0V2lkdGggPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciB0ID0gMCwgZSA9IHRoaXMuY29sczsgLS1lICYmIDAgPT09IHRoaXMuY29sWXNbZV07KSB7CiAgICAgIHQrKzsKICAgIH0KCiAgICByZXR1cm4gKHRoaXMuY29scyAtIHQpICogdGhpcy5jb2x1bW5XaWR0aCAtIHRoaXMuZ3V0dGVyOwogIH0sIG4ucHJvdG90eXBlLm5lZWRzUmVzaXplTGF5b3V0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLmNvbnRhaW5lcldpZHRoOwogICAgcmV0dXJuIHRoaXMuZ2V0Q29udGFpbmVyV2lkdGgoKSwgdCAhPSB0aGlzLmNvbnRhaW5lcldpZHRoOwogIH0sIG47Cn0pLCAkKGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiB0KCkgewogICAgby50b2dnbGVDbGFzcyhsKSwgaS50b2dnbGVDbGFzcyh1KSwgci50b2dnbGVDbGFzcyhjKSwgcy50b2dnbGVDbGFzcyhkKTsKICB9CgogIGZ1bmN0aW9uIGUoKSB7CiAgICBvLmFkZENsYXNzKGwpLCBpLmFuaW1hdGUoewogICAgICBsZWZ0OiAiMHB4IgogICAgfSwgZiksIHIuYW5pbWF0ZSh7CiAgICAgIGxlZnQ6IHAKICAgIH0sIGYpLCBzLmFuaW1hdGUoewogICAgICBsZWZ0OiBwCiAgICB9LCBmKTsKICB9CgogIGZ1bmN0aW9uIG4oKSB7CiAgICBvLnJlbW92ZUNsYXNzKGwpLCBpLmFuaW1hdGUoewogICAgICBsZWZ0OiAiLSIgKyBwCiAgICB9LCBmKSwgci5hbmltYXRlKHsKICAgICAgbGVmdDogIjBweCIKICAgIH0sIGYpLCBzLmFuaW1hdGUoewogICAgICBsZWZ0OiAiMHB4IgogICAgfSwgZik7CiAgfQoKICB2YXIgaSA9ICQoIi5wdXNoeSIpLAogICAgICBvID0gJCgiYm9keSIpLAogICAgICByID0gJCgiI2NvbnRhaW5lciIpLAogICAgICBzID0gJCgiLnB1c2giKSwKICAgICAgYSA9ICQoIi5zaXRlLW92ZXJsYXkiKSwKICAgICAgdSA9ICJwdXNoeS1sZWZ0IHB1c2h5LW9wZW4iLAogICAgICBsID0gInB1c2h5LWFjdGl2ZSIsCiAgICAgIGMgPSAiY29udGFpbmVyLXB1c2giLAogICAgICBkID0gInB1c2gtcHVzaCIsCiAgICAgIGggPSAkKCIubWVudS1idG4sIC5wdXNoeSBhIiksCiAgICAgIGYgPSAyMDAsCiAgICAgIHAgPSBpLndpZHRoKCkgKyAicHgiOwogIGlmIChjc3NUcmFuc2Zvcm1zM2QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSwKICAgICAgICBlID0gITEsCiAgICAgICAgbiA9IHsKICAgICAgd2Via2l0VHJhbnNmb3JtOiAiLXdlYmtpdC10cmFuc2Zvcm0iLAogICAgICBPVHJhbnNmb3JtOiAiLW8tdHJhbnNmb3JtIiwKICAgICAgbXNUcmFuc2Zvcm06ICItbXMtdHJhbnNmb3JtIiwKICAgICAgTW96VHJhbnNmb3JtOiAiLW1vei10cmFuc2Zvcm0iLAogICAgICB0cmFuc2Zvcm06ICJ0cmFuc2Zvcm0iCiAgICB9OwogICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodCwgbnVsbCk7CgogICAgZm9yICh2YXIgaSBpbiBuKSB7CiAgICAgIHZvaWQgMCAhPT0gdC5zdHlsZVtpXSAmJiAodC5zdHlsZVtpXSA9ICJ0cmFuc2xhdGUzZCgxcHgsMXB4LDFweCkiLCBlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodCkuZ2V0UHJvcGVydHlWYWx1ZShuW2ldKSk7CiAgICB9CgogICAgcmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCksIHZvaWQgMCAhPT0gZSAmJiBlLmxlbmd0aCA+IDAgJiYgIm5vbmUiICE9PSBlOwogIH0oKSkgaC5jbGljayhmdW5jdGlvbiAoKSB7CiAgICB0KCk7CiAgfSksIGEuY2xpY2soZnVuY3Rpb24gKCkgewogICAgdCgpOwogIH0pO2Vsc2UgewogICAgaS5jc3MoewogICAgICBsZWZ0OiAiLSIgKyBwCiAgICB9KSwgci5jc3MoewogICAgICAib3ZlcmZsb3cteCI6ICJoaWRkZW4iCiAgICB9KTsKICAgIHZhciBtID0gITA7CiAgICBoLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgbSA/IChlKCksIG0gPSAhMSkgOiAobigpLCBtID0gITApOwogICAgfSksIGEuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICBtID8gKGUoKSwgbSA9ICExKSA6IChuKCksIG0gPSAhMCk7CiAgICB9KTsKICB9Cn0pLCBmdW5jdGlvbiAoKSB7CiAgdmFyIHQsCiAgICAgIGUsCiAgICAgIG4sCiAgICAgIGksCiAgICAgIG8sCiAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0LmFwcGx5KGUsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0sCiAgICAgIHMgPSBbXS5pbmRleE9mIHx8IGZ1bmN0aW9uICh0KSB7CiAgICBmb3IgKHZhciBlID0gMCwgbiA9IHRoaXMubGVuZ3RoOyBuID4gZTsgZSsrKSB7CiAgICAgIGlmIChlIGluIHRoaXMgJiYgdGhpc1tlXSA9PT0gdCkgcmV0dXJuIGU7CiAgICB9CgogICAgcmV0dXJuIC0xOwogIH07CgogIGUgPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiB0KCkge30KCiAgICByZXR1cm4gdC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIG4sIGk7CgogICAgICBmb3IgKG4gaW4gZSkgewogICAgICAgIGkgPSBlW25dLCBudWxsID09IHRbbl0gJiYgKHRbbl0gPSBpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9LCB0LnByb3RvdHlwZS5pc01vYmlsZSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QodCk7CiAgICB9LCB0LnByb3RvdHlwZS5jcmVhdGVFdmVudCA9IGZ1bmN0aW9uICh0LCBlLCBuLCBpKSB7CiAgICAgIHZhciBvOwogICAgICByZXR1cm4gbnVsbCA9PSBlICYmIChlID0gITEpLCBudWxsID09IG4gJiYgKG4gPSAhMSksIG51bGwgPT0gaSAmJiAoaSA9IG51bGwpLCBudWxsICE9IGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gKG8gPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKSwgby5pbml0Q3VzdG9tRXZlbnQodCwgZSwgbiwgaSkpIDogbnVsbCAhPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCA/IChvID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSwgby5ldmVudFR5cGUgPSB0KSA6IG8uZXZlbnROYW1lID0gdCwgbzsKICAgIH0sIHQucHJvdG90eXBlLmVtaXRFdmVudCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHJldHVybiBudWxsICE9IHQuZGlzcGF0Y2hFdmVudCA/IHQuZGlzcGF0Y2hFdmVudChlKSA6IGUgaW4gKG51bGwgIT0gdCkgPyB0W2VdKCkgOiAib24iICsgZSBpbiAobnVsbCAhPSB0KSA/IHRbIm9uIiArIGVdKCkgOiB2b2lkIDA7CiAgICB9LCB0LnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAgIHJldHVybiBudWxsICE9IHQuYWRkRXZlbnRMaXN0ZW5lciA/IHQuYWRkRXZlbnRMaXN0ZW5lcihlLCBuLCAhMSkgOiBudWxsICE9IHQuYXR0YWNoRXZlbnQgPyB0LmF0dGFjaEV2ZW50KCJvbiIgKyBlLCBuKSA6IHRbZV0gPSBuOwogICAgfSwgdC5wcm90b3R5cGUucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiAodCwgZSwgbikgewogICAgICByZXR1cm4gbnVsbCAhPSB0LnJlbW92ZUV2ZW50TGlzdGVuZXIgPyB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbiwgITEpIDogbnVsbCAhPSB0LmRldGFjaEV2ZW50ID8gdC5kZXRhY2hFdmVudCgib24iICsgZSwgbikgOiBkZWxldGUgdFtlXTsKICAgIH0sIHQucHJvdG90eXBlLmlubmVySGVpZ2h0ID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gImlubmVySGVpZ2h0IiBpbiB3aW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgfSwgdDsKICB9KCksIG4gPSB0aGlzLldlYWtNYXAgfHwgdGhpcy5Nb3pXZWFrTWFwIHx8IChuID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgdGhpcy5rZXlzID0gW10sIHRoaXMudmFsdWVzID0gW107CiAgICB9CgogICAgcmV0dXJuIHQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBlLCBuLCBpLCBvLCByOwoKICAgICAgZm9yIChyID0gdGhpcy5rZXlzLCBlID0gaSA9IDAsIG8gPSByLmxlbmd0aDsgbyA+IGk7IGUgPSArK2kpIHsKICAgICAgICBpZiAobiA9IHJbZV0sIG4gPT09IHQpIHJldHVybiB0aGlzLnZhbHVlc1tlXTsKICAgICAgfQogICAgfSwgdC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIG4sIGksIG8sIHIsIHM7CgogICAgICBmb3IgKHMgPSB0aGlzLmtleXMsIG4gPSBvID0gMCwgciA9IHMubGVuZ3RoOyByID4gbzsgbiA9ICsrbykgewogICAgICAgIGlmIChpID0gc1tuXSwgaSA9PT0gdCkgcmV0dXJuIHZvaWQgKHRoaXMudmFsdWVzW25dID0gZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmtleXMucHVzaCh0KSwgdGhpcy52YWx1ZXMucHVzaChlKTsKICAgIH0sIHQ7CiAgfSgpKSwgdCA9IHRoaXMuTXV0YXRpb25PYnNlcnZlciB8fCB0aGlzLldlYmtpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgdGhpcy5Nb3pNdXRhdGlvbk9ic2VydmVyIHx8ICh0ID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGNvbnNvbGUgJiYgbnVsbCAhPT0gY29uc29sZSAmJiBjb25zb2xlLndhcm4oIk11dGF0aW9uT2JzZXJ2ZXIgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuIiksICJ1bmRlZmluZWQiICE9IHR5cGVvZiBjb25zb2xlICYmIG51bGwgIT09IGNvbnNvbGUgJiYgY29uc29sZS53YXJuKCJXT1cuanMgY2Fubm90IGRldGVjdCBkb20gbXV0YXRpb25zLCBwbGVhc2UgY2FsbCAuc3luYygpIGFmdGVyIGxvYWRpbmcgbmV3IGNvbnRlbnQuIik7CiAgICB9CgogICAgcmV0dXJuIHQubm90U3VwcG9ydGVkID0gITAsIHQucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7fSwgdDsKICB9KCkpLCBpID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlIHx8IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG47CiAgICAgIHJldHVybiAiZmxvYXQiID09PSBlICYmIChlID0gInN0eWxlRmxvYXQiKSwgby50ZXN0KGUpICYmIGUucmVwbGFjZShvLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiBlLnRvVXBwZXJDYXNlKCk7CiAgICAgIH0pLCAobnVsbCAhPSAobiA9IHQuY3VycmVudFN0eWxlKSA/IG5bZV0gOiB2b2lkIDApIHx8IG51bGw7CiAgICB9LCB0aGlzOwogIH0sIG8gPSAvKFwtKFthLXpdKXsxfSkvZywgdGhpcy5XT1cgPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBvKHQpIHsKICAgICAgbnVsbCA9PSB0ICYmICh0ID0ge30pLCB0aGlzLnNjcm9sbENhbGxiYWNrID0gcih0aGlzLnNjcm9sbENhbGxiYWNrLCB0aGlzKSwgdGhpcy5zY3JvbGxIYW5kbGVyID0gcih0aGlzLnNjcm9sbEhhbmRsZXIsIHRoaXMpLCB0aGlzLnJlc2V0QW5pbWF0aW9uID0gcih0aGlzLnJlc2V0QW5pbWF0aW9uLCB0aGlzKSwgdGhpcy5zdGFydCA9IHIodGhpcy5zdGFydCwgdGhpcyksIHRoaXMuc2Nyb2xsZWQgPSAhMCwgdGhpcy5jb25maWcgPSB0aGlzLnV0aWwoKS5leHRlbmQodCwgdGhpcy5kZWZhdWx0cyksIG51bGwgIT0gdC5zY3JvbGxDb250YWluZXIgJiYgKHRoaXMuY29uZmlnLnNjcm9sbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC5zY3JvbGxDb250YWluZXIpKSwgdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUgPSBuZXcgbigpLCB0aGlzLndvd0V2ZW50ID0gdGhpcy51dGlsKCkuY3JlYXRlRXZlbnQodGhpcy5jb25maWcuYm94Q2xhc3MpOwogICAgfQoKICAgIHJldHVybiBvLnByb3RvdHlwZS5kZWZhdWx0cyA9IHsKICAgICAgYm94Q2xhc3M6ICJ3b3ciLAogICAgICBhbmltYXRlQ2xhc3M6ICJhbmltYXRlZCIsCiAgICAgIG9mZnNldDogMCwKICAgICAgbW9iaWxlOiAhMCwKICAgICAgbGl2ZTogITAsCiAgICAgIGNhbGxiYWNrOiBudWxsLAogICAgICBzY3JvbGxDb250YWluZXI6IG51bGwKICAgIH0sIG8ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0OwogICAgICByZXR1cm4gdGhpcy5lbGVtZW50ID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgImludGVyYWN0aXZlIiA9PT0gKHQgPSBkb2N1bWVudC5yZWFkeVN0YXRlKSB8fCAiY29tcGxldGUiID09PSB0ID8gdGhpcy5zdGFydCgpIDogdGhpcy51dGlsKCkuYWRkRXZlbnQoZG9jdW1lbnQsICJET01Db250ZW50TG9hZGVkIiwgdGhpcy5zdGFydCksIHRoaXMuZmluaXNoZWQgPSBbXTsKICAgIH0sIG8ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSwgbiwgaSwgbzsKICAgICAgaWYgKHRoaXMuc3RvcHBlZCA9ICExLCB0aGlzLmJveGVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0LCBuLCBpLCBvOwoKICAgICAgICBmb3IgKGkgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLiIgKyB0aGlzLmNvbmZpZy5ib3hDbGFzcyksIG8gPSBbXSwgdCA9IDAsIG4gPSBpLmxlbmd0aDsgbiA+IHQ7IHQrKykgewogICAgICAgICAgZSA9IGlbdF0sIG8ucHVzaChlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBvOwogICAgICB9LmNhbGwodGhpcyksIHRoaXMuYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0LCBuLCBpLCBvOwoKICAgICAgICBmb3IgKGkgPSB0aGlzLmJveGVzLCBvID0gW10sIHQgPSAwLCBuID0gaS5sZW5ndGg7IG4gPiB0OyB0KyspIHsKICAgICAgICAgIGUgPSBpW3RdLCBvLnB1c2goZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbzsKICAgICAgfS5jYWxsKHRoaXMpLCB0aGlzLmJveGVzLmxlbmd0aCkgaWYgKHRoaXMuZGlzYWJsZWQoKSkgdGhpcy5yZXNldFN0eWxlKCk7ZWxzZSBmb3IgKG8gPSB0aGlzLmJveGVzLCBuID0gMCwgaSA9IG8ubGVuZ3RoOyBpID4gbjsgbisrKSB7CiAgICAgICAgZSA9IG9bbl0sIHRoaXMuYXBwbHlTdHlsZShlLCAhMCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWQoKSB8fCAodGhpcy51dGlsKCkuYWRkRXZlbnQodGhpcy5jb25maWcuc2Nyb2xsQ29udGFpbmVyIHx8IHdpbmRvdywgInNjcm9sbCIsIHRoaXMuc2Nyb2xsSGFuZGxlciksIHRoaXMudXRpbCgpLmFkZEV2ZW50KHdpbmRvdywgInJlc2l6ZSIsIHRoaXMuc2Nyb2xsSGFuZGxlciksIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnNjcm9sbENhbGxiYWNrLCA1MCkpLCB0aGlzLmNvbmZpZy5saXZlID8gbmV3IHQoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciBuLCBpLCBvLCByLCBzOwoKICAgICAgICAgIGZvciAocyA9IFtdLCBuID0gMCwgaSA9IGUubGVuZ3RoOyBpID4gbjsgbisrKSB7CiAgICAgICAgICAgIHIgPSBlW25dLCBzLnB1c2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciB0LCBlLCBuLCBpOwoKICAgICAgICAgICAgICBmb3IgKG4gPSByLmFkZGVkTm9kZXMgfHwgW10sIGkgPSBbXSwgdCA9IDAsIGUgPSBuLmxlbmd0aDsgZSA+IHQ7IHQrKykgewogICAgICAgICAgICAgICAgbyA9IG5bdF0sIGkucHVzaCh0aGlzLmRvU3luYyhvKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgfS5jYWxsKHQpKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gczsKICAgICAgICB9OwogICAgICB9KHRoaXMpKS5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsKICAgICAgICBjaGlsZExpc3Q6ICEwLAogICAgICAgIHN1YnRyZWU6ICEwCiAgICAgIH0pIDogdm9pZCAwOwogICAgfSwgby5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RvcHBlZCA9ICEwLCB0aGlzLnV0aWwoKS5yZW1vdmVFdmVudCh0aGlzLmNvbmZpZy5zY3JvbGxDb250YWluZXIgfHwgd2luZG93LCAic2Nyb2xsIiwgdGhpcy5zY3JvbGxIYW5kbGVyKSwgdGhpcy51dGlsKCkucmVtb3ZlRXZlbnQod2luZG93LCAicmVzaXplIiwgdGhpcy5zY3JvbGxIYW5kbGVyKSwgbnVsbCAhPSB0aGlzLmludGVydmFsID8gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSA6IHZvaWQgMDsKICAgIH0sIG8ucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0Lm5vdFN1cHBvcnRlZCA/IHRoaXMuZG9TeW5jKHRoaXMuZWxlbWVudCkgOiB2b2lkIDA7CiAgICB9LCBvLnByb3RvdHlwZS5kb1N5bmMgPSBmdW5jdGlvbiAodCkgewogICAgICB2YXIgZSwgbiwgaSwgbywgcjsKCiAgICAgIGlmIChudWxsID09IHQgJiYgKHQgPSB0aGlzLmVsZW1lbnQpLCAxID09PSB0Lm5vZGVUeXBlKSB7CiAgICAgICAgZm9yICh0ID0gdC5wYXJlbnROb2RlIHx8IHQsIG8gPSB0LnF1ZXJ5U2VsZWN0b3JBbGwoIi4iICsgdGhpcy5jb25maWcuYm94Q2xhc3MpLCByID0gW10sIG4gPSAwLCBpID0gby5sZW5ndGg7IGkgPiBuOyBuKyspIHsKICAgICAgICAgIGUgPSBvW25dLCBzLmNhbGwodGhpcy5hbGwsIGUpIDwgMCA/ICh0aGlzLmJveGVzLnB1c2goZSksIHRoaXMuYWxsLnB1c2goZSksIHRoaXMuc3RvcHBlZCB8fCB0aGlzLmRpc2FibGVkKCkgPyB0aGlzLnJlc2V0U3R5bGUoKSA6IHRoaXMuYXBwbHlTdHlsZShlLCAhMCksIHIucHVzaCh0aGlzLnNjcm9sbGVkID0gITApKSA6IHIucHVzaCh2b2lkIDApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0KICAgIH0sIG8ucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gdGhpcy5hcHBseVN0eWxlKHQpLCB0LmNsYXNzTmFtZSA9IHQuY2xhc3NOYW1lICsgIiAiICsgdGhpcy5jb25maWcuYW5pbWF0ZUNsYXNzLCBudWxsICE9IHRoaXMuY29uZmlnLmNhbGxiYWNrICYmIHRoaXMuY29uZmlnLmNhbGxiYWNrKHQpLCB0aGlzLnV0aWwoKS5lbWl0RXZlbnQodCwgdGhpcy53b3dFdmVudCksIHRoaXMudXRpbCgpLmFkZEV2ZW50KHQsICJhbmltYXRpb25lbmQiLCB0aGlzLnJlc2V0QW5pbWF0aW9uKSwgdGhpcy51dGlsKCkuYWRkRXZlbnQodCwgIm9hbmltYXRpb25lbmQiLCB0aGlzLnJlc2V0QW5pbWF0aW9uKSwgdGhpcy51dGlsKCkuYWRkRXZlbnQodCwgIndlYmtpdEFuaW1hdGlvbkVuZCIsIHRoaXMucmVzZXRBbmltYXRpb24pLCB0aGlzLnV0aWwoKS5hZGRFdmVudCh0LCAiTVNBbmltYXRpb25FbmQiLCB0aGlzLnJlc2V0QW5pbWF0aW9uKSwgdDsKICAgIH0sIG8ucHJvdG90eXBlLmFwcGx5U3R5bGUgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgbiwgaSwgbzsKICAgICAgcmV0dXJuIGkgPSB0LmdldEF0dHJpYnV0ZSgiZGF0YS13b3ctZHVyYXRpb24iKSwgbiA9IHQuZ2V0QXR0cmlidXRlKCJkYXRhLXdvdy1kZWxheSIpLCBvID0gdC5nZXRBdHRyaWJ1dGUoImRhdGEtd293LWl0ZXJhdGlvbiIpLCB0aGlzLmFuaW1hdGUoZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHIuY3VzdG9tU3R5bGUodCwgZSwgaSwgbiwgbyk7CiAgICAgICAgfTsKICAgICAgfSh0aGlzKSk7CiAgICB9LCBvLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gInJlcXVlc3RBbmltYXRpb25GcmFtZSIgaW4gd2luZG93ID8gZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KTsKICAgICAgfSA6IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQoKTsKICAgICAgfTsKICAgIH0oKSwgby5wcm90b3R5cGUucmVzZXRTdHlsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHQsIGUsIG4sIGksIG87CgogICAgICBmb3IgKGkgPSB0aGlzLmJveGVzLCBvID0gW10sIGUgPSAwLCBuID0gaS5sZW5ndGg7IG4gPiBlOyBlKyspIHsKICAgICAgICB0ID0gaVtlXSwgby5wdXNoKHQuc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIik7CiAgICAgIH0KCiAgICAgIHJldHVybiBvOwogICAgfSwgby5wcm90b3R5cGUucmVzZXRBbmltYXRpb24gPSBmdW5jdGlvbiAodCkgewogICAgICB2YXIgZTsKICAgICAgcmV0dXJuIHQudHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFuaW1hdGlvbmVuZCIpID49IDAgPyAoZSA9IHQudGFyZ2V0IHx8IHQuc3JjRWxlbWVudCwgZS5jbGFzc05hbWUgPSBlLmNsYXNzTmFtZS5yZXBsYWNlKHRoaXMuY29uZmlnLmFuaW1hdGVDbGFzcywgIiIpLnRyaW0oKSkgOiB2b2lkIDA7CiAgICB9LCBvLnByb3RvdHlwZS5jdXN0b21TdHlsZSA9IGZ1bmN0aW9uICh0LCBlLCBuLCBpLCBvKSB7CiAgICAgIHJldHVybiBlICYmIHRoaXMuY2FjaGVBbmltYXRpb25OYW1lKHQpLCB0LnN0eWxlLnZpc2liaWxpdHkgPSBlID8gImhpZGRlbiIgOiAidmlzaWJsZSIsIG4gJiYgdGhpcy52ZW5kb3JTZXQodC5zdHlsZSwgewogICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBuCiAgICAgIH0pLCBpICYmIHRoaXMudmVuZG9yU2V0KHQuc3R5bGUsIHsKICAgICAgICBhbmltYXRpb25EZWxheTogaQogICAgICB9KSwgbyAmJiB0aGlzLnZlbmRvclNldCh0LnN0eWxlLCB7CiAgICAgICAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IG8KICAgICAgfSksIHRoaXMudmVuZG9yU2V0KHQuc3R5bGUsIHsKICAgICAgICBhbmltYXRpb25OYW1lOiBlID8gIm5vbmUiIDogdGhpcy5jYWNoZWRBbmltYXRpb25OYW1lKHQpCiAgICAgIH0pLCB0OwogICAgfSwgby5wcm90b3R5cGUudmVuZG9ycyA9IFsibW96IiwgIndlYmtpdCJdLCBvLnByb3RvdHlwZS52ZW5kb3JTZXQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgbiwgaSwgbywgcjsKICAgICAgaSA9IFtdOwoKICAgICAgZm9yIChuIGluIGUpIHsKICAgICAgICBvID0gZVtuXSwgdFsiIiArIG5dID0gbywgaS5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlLCBpLCBzLCBhOwoKICAgICAgICAgIGZvciAocyA9IHRoaXMudmVuZG9ycywgYSA9IFtdLCBlID0gMCwgaSA9IHMubGVuZ3RoOyBpID4gZTsgZSsrKSB7CiAgICAgICAgICAgIHIgPSBzW2VdLCBhLnB1c2godFsiIiArIHIgKyBuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbi5zdWJzdHIoMSldID0gbyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfS5jYWxsKHRoaXMpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGk7CiAgICB9LCBvLnByb3RvdHlwZS52ZW5kb3JDU1MgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgbiwgbywgciwgcywgYSwgdTsKCiAgICAgIGZvciAoYSA9IGkodCksIHMgPSBhLmdldFByb3BlcnR5Q1NTVmFsdWUoZSksIHIgPSB0aGlzLnZlbmRvcnMsIG4gPSAwLCBvID0gci5sZW5ndGg7IG8gPiBuOyBuKyspIHsKICAgICAgICB1ID0gcltuXSwgcyA9IHMgfHwgYS5nZXRQcm9wZXJ0eUNTU1ZhbHVlKCItIiArIHUgKyAiLSIgKyBlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHM7CiAgICB9LCBvLnByb3RvdHlwZS5hbmltYXRpb25OYW1lID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGU7CgogICAgICB0cnkgewogICAgICAgIGUgPSB0aGlzLnZlbmRvckNTUyh0LCAiYW5pbWF0aW9uLW5hbWUiKS5jc3NUZXh0OwogICAgICB9IGNhdGNoIChuKSB7CiAgICAgICAgZSA9IGkodCkuZ2V0UHJvcGVydHlWYWx1ZSgiYW5pbWF0aW9uLW5hbWUiKTsKICAgICAgfQoKICAgICAgcmV0dXJuICJub25lIiA9PT0gZSA/ICIiIDogZTsKICAgIH0sIG8ucHJvdG90eXBlLmNhY2hlQW5pbWF0aW9uTmFtZSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbk5hbWVDYWNoZS5zZXQodCwgdGhpcy5hbmltYXRpb25OYW1lKHQpKTsKICAgIH0sIG8ucHJvdG90eXBlLmNhY2hlZEFuaW1hdGlvbk5hbWUgPSBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUuZ2V0KHQpOwogICAgfSwgby5wcm90b3R5cGUuc2Nyb2xsSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZWQgPSAhMDsKICAgIH0sIG8ucHJvdG90eXBlLnNjcm9sbENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdDsKICAgICAgcmV0dXJuICF0aGlzLnNjcm9sbGVkIHx8ICh0aGlzLnNjcm9sbGVkID0gITEsIHRoaXMuYm94ZXMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUsIG4sIGksIG87CgogICAgICAgIGZvciAoaSA9IHRoaXMuYm94ZXMsIG8gPSBbXSwgZSA9IDAsIG4gPSBpLmxlbmd0aDsgbiA+IGU7IGUrKykgewogICAgICAgICAgdCA9IGlbZV0sIHQgJiYgKHRoaXMuaXNWaXNpYmxlKHQpID8gdGhpcy5zaG93KHQpIDogby5wdXNoKHQpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBvOwogICAgICB9LmNhbGwodGhpcyksIHRoaXMuYm94ZXMubGVuZ3RoIHx8IHRoaXMuY29uZmlnLmxpdmUpID8gdm9pZCAwIDogdGhpcy5zdG9wKCk7CiAgICB9LCBvLnByb3RvdHlwZS5vZmZzZXRUb3AgPSBmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBlOyB2b2lkIDAgPT09IHQub2Zmc2V0VG9wOykgewogICAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIGZvciAoZSA9IHQub2Zmc2V0VG9wOyB0ID0gdC5vZmZzZXRQYXJlbnQ7KSB7CiAgICAgICAgZSArPSB0Lm9mZnNldFRvcDsKICAgICAgfQoKICAgICAgcmV0dXJuIGU7CiAgICB9LCBvLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAodCkgewogICAgICB2YXIgZSwgbiwgaSwgbywgcjsKICAgICAgcmV0dXJuIG4gPSB0LmdldEF0dHJpYnV0ZSgiZGF0YS13b3ctb2Zmc2V0IikgfHwgdGhpcy5jb25maWcub2Zmc2V0LCByID0gdGhpcy5jb25maWcuc2Nyb2xsQ29udGFpbmVyICYmIHRoaXMuY29uZmlnLnNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgfHwgd2luZG93LnBhZ2VZT2Zmc2V0LCBvID0gciArIE1hdGgubWluKHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQsIHRoaXMudXRpbCgpLmlubmVySGVpZ2h0KCkpIC0gbiwgaSA9IHRoaXMub2Zmc2V0VG9wKHQpLCBlID0gaSArIHQuY2xpZW50SGVpZ2h0LCBvID49IGkgJiYgZSA+PSByOwogICAgfSwgby5wcm90b3R5cGUudXRpbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIG51bGwgIT0gdGhpcy5fdXRpbCA/IHRoaXMuX3V0aWwgOiB0aGlzLl91dGlsID0gbmV3IGUoKTsKICAgIH0sIG8ucHJvdG90eXBlLmRpc2FibGVkID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gIXRoaXMuY29uZmlnLm1vYmlsZSAmJiB0aGlzLnV0aWwoKS5pc01vYmlsZShuYXZpZ2F0b3IudXNlckFnZW50KTsKICAgIH0sIG87CiAgfSgpOwp9LmNhbGwodGhpcyksIGZ1bmN0aW9uICgpIHsKICB2YXIgdCwKICAgICAgZSwKICAgICAgbiwKICAgICAgaSwKICAgICAgbywKICAgICAgciwKICAgICAgcywKICAgICAgYSwKICAgICAgdSwKICAgICAgbCwKICAgICAgYywKICAgICAgZCwKICAgICAgaCwKICAgICAgZiwKICAgICAgcCwKICAgICAgbSwKICAgICAgZywKICAgICAgdiwKICAgICAgeSwKICAgICAgdywKICAgICAgYiwKICAgICAgeCwKICAgICAgRSwKICAgICAgQywKICAgICAgUywKICAgICAgTSwKICAgICAgaywKICAgICAgSSwKICAgICAgXywKICAgICAgVCwKICAgICAgeiwKICAgICAgTywKICAgICAgUCA9IFtdLnNsaWNlOwoKICBnID0gJzxzcGFuIGNsYXNzPSJvZG9tZXRlci12YWx1ZSI+PC9zcGFuPicsIGYgPSAnPHNwYW4gY2xhc3M9Im9kb21ldGVyLXJpYmJvbiI+PHNwYW4gY2xhc3M9Im9kb21ldGVyLXJpYmJvbi1pbm5lciI+JyArIGcgKyAiPC9zcGFuPjwvc3Bhbj4iLCBpID0gJzxzcGFuIGNsYXNzPSJvZG9tZXRlci1kaWdpdCI+PHNwYW4gY2xhc3M9Im9kb21ldGVyLWRpZ2l0LXNwYWNlciI+ODwvc3Bhbj48c3BhbiBjbGFzcz0ib2RvbWV0ZXItZGlnaXQtaW5uZXIiPicgKyBmICsgIjwvc3Bhbj48L3NwYW4+IiwgcyA9ICc8c3BhbiBjbGFzcz0ib2RvbWV0ZXItZm9ybWF0dGluZy1tYXJrIj48L3NwYW4+JywgbiA9ICIoLGRkZCkuZGQiLCBhID0gL15cKD8oW14pXSopXCk/KD86KC4pKGQrKSk/JC8sIHUgPSAzMCwgciA9IDJlMywgdCA9IDIwLCBsID0gMiwgbyA9IC41LCBjID0gMWUzIC8gdSwgZSA9IDFlMyAvIHQsIHAgPSAidHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIE1TVHJhbnNpdGlvbkVuZCIsIFMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSwgbSA9IG51bGwgIT0gUy50cmFuc2l0aW9uIHx8IG51bGwgIT0gUy53ZWJraXRUcmFuc2l0aW9uIHx8IG51bGwgIT0gUy5tb3pUcmFuc2l0aW9uIHx8IG51bGwgIT0gUy5vVHJhbnNpdGlvbiwgRSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSwgZCA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyLCB5ID0gZnVuY3Rpb24geSh0KSB7CiAgICB2YXIgZTsKICAgIHJldHVybiBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksIGUuaW5uZXJIVE1MID0gdCwgZS5jaGlsZHJlblswXTsKICB9LCB4ID0gZnVuY3Rpb24geCh0LCBlKSB7CiAgICByZXR1cm4gdC5jbGFzc05hbWUgPSB0LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoIihefCApIiArIGUuc3BsaXQoIiAiKS5qb2luKCJ8IikgKyAiKCB8JCkiLCAiZ2kiKSwgIiAiKTsKICB9LCB2ID0gZnVuY3Rpb24gdih0LCBlKSB7CiAgICByZXR1cm4geCh0LCBlKSwgdC5jbGFzc05hbWUgKz0gIiAiICsgZTsKICB9LCBNID0gZnVuY3Rpb24gTSh0LCBlKSB7CiAgICB2YXIgbjsKICAgIHJldHVybiBudWxsICE9IGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gKG4gPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpLCBuLmluaXRFdmVudChlLCAhMCwgITApLCB0LmRpc3BhdGNoRXZlbnQobikpIDogdm9pZCAwOwogIH0sIGIgPSBmdW5jdGlvbiBiKCkgewogICAgdmFyIHQsIGU7CiAgICByZXR1cm4gbnVsbCAhPSAodCA9IG51bGwgIT0gKGUgPSB3aW5kb3cucGVyZm9ybWFuY2UpICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUubm93ID8gZS5ub3coKSA6IHZvaWQgMCkgPyB0IDogK25ldyBEYXRlKCk7CiAgfSwgQyA9IGZ1bmN0aW9uIEModCwgZSkgewogICAgcmV0dXJuIG51bGwgPT0gZSAmJiAoZSA9IDApLCBlID8gKHQgKj0gTWF0aC5wb3coMTAsIGUpLCB0ICs9IC41LCB0ID0gTWF0aC5mbG9vcih0KSwgdCAvPSBNYXRoLnBvdygxMCwgZSkpIDogTWF0aC5yb3VuZCh0KTsKICB9LCBrID0gZnVuY3Rpb24gayh0KSB7CiAgICByZXR1cm4gMCA+IHQgPyBNYXRoLmNlaWwodCkgOiBNYXRoLmZsb29yKHQpOwogIH0sIHcgPSBmdW5jdGlvbiB3KHQpIHsKICAgIHJldHVybiB0IC0gQyh0KTsKICB9LCBfID0gITEsIChJID0gZnVuY3Rpb24gSSgpIHsKICAgIHZhciB0LCBlLCBuLCBpLCBvOwoKICAgIGlmICghXyAmJiBudWxsICE9IHdpbmRvdy5qUXVlcnkpIHsKICAgICAgZm9yIChfID0gITAsIGkgPSBbImh0bWwiLCAidGV4dCJdLCBvID0gW10sIGUgPSAwLCBuID0gaS5sZW5ndGg7IG4gPiBlOyBlKyspIHsKICAgICAgICB0ID0gaVtlXSwgby5wdXNoKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgZTsKICAgICAgICAgIHJldHVybiBlID0gd2luZG93LmpRdWVyeS5mblt0XSwgd2luZG93LmpRdWVyeS5mblt0XSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHZhciBuOwogICAgICAgICAgICByZXR1cm4gbnVsbCA9PSB0IHx8IG51bGwgPT0gKG51bGwgIT0gKG4gPSB0aGlzWzBdKSA/IG4ub2RvbWV0ZXIgOiB2b2lkIDApID8gZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdGhpc1swXS5vZG9tZXRlci51cGRhdGUodCk7CiAgICAgICAgICB9OwogICAgICAgIH0odCkpOwogICAgICB9CgogICAgICByZXR1cm4gbzsKICAgIH0KICB9KSgpLCBzZXRUaW1lb3V0KEksIDApLCBoID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdChlKSB7CiAgICAgIHZhciBuLAogICAgICAgICAgaSwKICAgICAgICAgIG8sCiAgICAgICAgICBzLAogICAgICAgICAgYSwKICAgICAgICAgIHUsCiAgICAgICAgICBkLAogICAgICAgICAgaCwKICAgICAgICAgIGYsCiAgICAgICAgICBwLAogICAgICAgICAgbSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLm9wdGlvbnMgPSBlLCB0aGlzLmVsID0gdGhpcy5vcHRpb25zLmVsLCBudWxsICE9IHRoaXMuZWwub2RvbWV0ZXIpIHJldHVybiB0aGlzLmVsLm9kb21ldGVyOwogICAgICB0aGlzLmVsLm9kb21ldGVyID0gdGhpcywgaCA9IHQub3B0aW9uczsKCiAgICAgIGZvciAoaSBpbiBoKSB7CiAgICAgICAgcyA9IGhbaV0sIG51bGwgPT0gdGhpcy5vcHRpb25zW2ldICYmICh0aGlzLm9wdGlvbnNbaV0gPSBzKTsKICAgICAgfQoKICAgICAgbnVsbCA9PSAoYSA9IHRoaXMub3B0aW9ucykuZHVyYXRpb24gJiYgKGEuZHVyYXRpb24gPSByKSwgdGhpcy5NQVhfVkFMVUVTID0gdGhpcy5vcHRpb25zLmR1cmF0aW9uIC8gYyAvIGwgfCAwLCB0aGlzLnJlc2V0Rm9ybWF0KCksIHRoaXMudmFsdWUgPSB0aGlzLmNsZWFuVmFsdWUobnVsbCAhPSAoZiA9IHRoaXMub3B0aW9ucy52YWx1ZSkgPyBmIDogIiIpLCB0aGlzLnJlbmRlckluc2lkZSgpLCB0aGlzLnJlbmRlcigpOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHAgPSBbImlubmVySFRNTCIsICJpbm5lclRleHQiLCAidGV4dENvbnRlbnQiXSwgdSA9IDAsIGQgPSBwLmxlbmd0aDsgZCA+IHU7IHUrKykgewogICAgICAgICAgbyA9IHBbdV0sIG51bGwgIT0gdGhpcy5lbFtvXSAmJiAhZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLmVsLCB0LCB7CiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgICAgICB2YXIgZTsKICAgICAgICAgICAgICAgIHJldHVybiAiaW5uZXJIVE1MIiA9PT0gdCA/IG0uaW5zaWRlLm91dGVySFRNTCA6IG51bGwgIT0gKGUgPSBtLmluc2lkZS5pbm5lclRleHQpID8gZSA6IG0uaW5zaWRlLnRleHRDb250ZW50OwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG0udXBkYXRlKHQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KG8pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZykgewogICAgICAgIG4gPSBnLCB0aGlzLndhdGNoRm9yTXV0YXRpb25zKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdC5wcm90b3R5cGUucmVuZGVySW5zaWRlID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5pbnNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdGhpcy5pbnNpZGUuY2xhc3NOYW1lID0gIm9kb21ldGVyLWluc2lkZSIsIHRoaXMuZWwuaW5uZXJIVE1MID0gIiIsIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5pbnNpZGUpOwogICAgfSwgdC5wcm90b3R5cGUud2F0Y2hGb3JNdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgZSA9IHRoaXM7CiAgICAgIGlmIChudWxsICE9IGQpIHRyeSB7CiAgICAgICAgcmV0dXJuIG51bGwgPT0gdGhpcy5vYnNlcnZlciAmJiAodGhpcy5vYnNlcnZlciA9IG5ldyBkKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgbjsKICAgICAgICAgIHJldHVybiBuID0gZS5lbC5pbm5lclRleHQsIGUucmVuZGVySW5zaWRlKCksIGUucmVuZGVyKGUudmFsdWUpLCBlLnVwZGF0ZShuKTsKICAgICAgICB9KSksIHRoaXMud2F0Y2hNdXRhdGlvbnMgPSAhMCwgdGhpcy5zdGFydFdhdGNoaW5nTXV0YXRpb25zKCk7CiAgICAgIH0gY2F0Y2ggKG4pIHsKICAgICAgICB0ID0gbjsKICAgICAgfQogICAgfSwgdC5wcm90b3R5cGUuc3RhcnRXYXRjaGluZ011dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMud2F0Y2hNdXRhdGlvbnMgPyB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5lbCwgewogICAgICAgIGNoaWxkTGlzdDogITAKICAgICAgfSkgOiB2b2lkIDA7CiAgICB9LCB0LnByb3RvdHlwZS5zdG9wV2F0Y2hpbmdNdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0OwogICAgICByZXR1cm4gbnVsbCAhPSAodCA9IHRoaXMub2JzZXJ2ZXIpID8gdC5kaXNjb25uZWN0KCkgOiB2b2lkIDA7CiAgICB9LCB0LnByb3RvdHlwZS5jbGVhblZhbHVlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGU7CiAgICAgIHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgdCAmJiAodCA9IHQucmVwbGFjZShudWxsICE9IChlID0gdGhpcy5mb3JtYXQucmFkaXgpID8gZSA6ICIuIiwgIjxyYWRpeD4iKSwgdCA9IHQucmVwbGFjZSgvWy4sXS9nLCAiIiksIHQgPSB0LnJlcGxhY2UoIjxyYWRpeD4iLCAiLiIpLCB0ID0gcGFyc2VGbG9hdCh0LCAxMCkgfHwgMCksIEModCwgdGhpcy5mb3JtYXQucHJlY2lzaW9uKTsKICAgIH0sIHQucHJvdG90eXBlLmJpbmRUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCwKICAgICAgICAgIGUsCiAgICAgICAgICBuLAogICAgICAgICAgaSwKICAgICAgICAgIG8sCiAgICAgICAgICByLAogICAgICAgICAgcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMudHJhbnNpdGlvbkVuZEJvdW5kKSB7CiAgICAgICAgZm9yICh0aGlzLnRyYW5zaXRpb25FbmRCb3VuZCA9ICEwLCBlID0gITEsIG8gPSBwLnNwbGl0KCIgIiksIHIgPSBbXSwgbiA9IDAsIGkgPSBvLmxlbmd0aDsgaSA+IG47IG4rKykgewogICAgICAgICAgdCA9IG9bbl0sIHIucHVzaCh0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIodCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZSA/ICEwIDogKGUgPSAhMCwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHMucmVuZGVyKCksIGUgPSAhMSwgTShzLmVsLCAib2RvbWV0ZXJkb25lIik7CiAgICAgICAgICAgIH0sIDApLCAhMCk7CiAgICAgICAgICB9LCAhMSkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0KICAgIH0sIHQucHJvdG90eXBlLnJlc2V0Rm9ybWF0ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCwgZSwgaSwgbywgciwgcywgdSwgbDsKICAgICAgaWYgKHQgPSBudWxsICE9ICh1ID0gdGhpcy5vcHRpb25zLmZvcm1hdCkgPyB1IDogbiwgdCB8fCAodCA9ICJkIiksIGkgPSBhLmV4ZWModCksICFpKSB0aHJvdyBuZXcgRXJyb3IoIk9kb21ldGVyOiBVbnBhcnNhYmxlIGRpZ2l0IGZvcm1hdCIpOwogICAgICByZXR1cm4gbCA9IGkuc2xpY2UoMSwgNCksIHMgPSBsWzBdLCByID0gbFsxXSwgZSA9IGxbMl0sIG8gPSAobnVsbCAhPSBlID8gZS5sZW5ndGggOiB2b2lkIDApIHx8IDAsIHRoaXMuZm9ybWF0ID0gewogICAgICAgIHJlcGVhdGluZzogcywKICAgICAgICByYWRpeDogciwKICAgICAgICBwcmVjaXNpb246IG8KICAgICAgfTsKICAgIH0sIHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBlLCBuLCBpLCBvLCByLCBzLCBhOwoKICAgICAgZm9yIChudWxsID09IHQgJiYgKHQgPSB0aGlzLnZhbHVlKSwgdGhpcy5zdG9wV2F0Y2hpbmdNdXRhdGlvbnMoKSwgdGhpcy5yZXNldEZvcm1hdCgpLCB0aGlzLmluc2lkZS5pbm5lckhUTUwgPSAiIiwgciA9IHRoaXMub3B0aW9ucy50aGVtZSwgZSA9IHRoaXMuZWwuY2xhc3NOYW1lLnNwbGl0KCIgIiksIG8gPSBbXSwgcyA9IDAsIGEgPSBlLmxlbmd0aDsgYSA+IHM7IHMrKykgewogICAgICAgIG4gPSBlW3NdLCBuLmxlbmd0aCAmJiAoKGkgPSAvXm9kb21ldGVyLXRoZW1lLSguKykkLy5leGVjKG4pKSA/IHIgPSBpWzFdIDogL15vZG9tZXRlcigtfCQpLy50ZXN0KG4pIHx8IG8ucHVzaChuKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBvLnB1c2goIm9kb21ldGVyIiksIG0gfHwgby5wdXNoKCJvZG9tZXRlci1uby10cmFuc2l0aW9ucyIpLCByID8gby5wdXNoKCJvZG9tZXRlci10aGVtZS0iICsgcikgOiBvLnB1c2goIm9kb21ldGVyLWF1dG8tdGhlbWUiKSwgdGhpcy5lbC5jbGFzc05hbWUgPSBvLmpvaW4oIiAiKSwgdGhpcy5yaWJib25zID0ge30sIHRoaXMuZm9ybWF0RGlnaXRzKHQpLCB0aGlzLnN0YXJ0V2F0Y2hpbmdNdXRhdGlvbnMoKTsKICAgIH0sIHQucHJvdG90eXBlLmZvcm1hdERpZ2l0cyA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBlLCBuLCBpLCBvLCByLCBzLCBhLCB1LCBsLCBjOwogICAgICBpZiAodGhpcy5kaWdpdHMgPSBbXSwgdGhpcy5vcHRpb25zLmZvcm1hdEZ1bmN0aW9uKSBmb3IgKGkgPSB0aGlzLm9wdGlvbnMuZm9ybWF0RnVuY3Rpb24odCksIGwgPSBpLnNwbGl0KCIiKS5yZXZlcnNlKCksIHIgPSAwLCBhID0gbC5sZW5ndGg7IGEgPiByOyByKyspIHsKICAgICAgICBuID0gbFtyXSwgbi5tYXRjaCgvMC05LykgPyAoZSA9IHRoaXMucmVuZGVyRGlnaXQoKSwgZS5xdWVyeVNlbGVjdG9yKCIub2RvbWV0ZXItdmFsdWUiKS5pbm5lckhUTUwgPSBuLCB0aGlzLmRpZ2l0cy5wdXNoKGUpLCB0aGlzLmluc2VydERpZ2l0KGUpKSA6IHRoaXMuYWRkU3BhY2VyKG4pOwogICAgICB9IGVsc2UgZm9yIChvID0gIXRoaXMuZm9ybWF0LnByZWNpc2lvbiB8fCAhdyh0KSB8fCAhMSwgYyA9IHQudG9TdHJpbmcoKS5zcGxpdCgiIikucmV2ZXJzZSgpLCBzID0gMCwgdSA9IGMubGVuZ3RoOyB1ID4gczsgcysrKSB7CiAgICAgICAgZSA9IGNbc10sICIuIiA9PT0gZSAmJiAobyA9ICEwKSwgdGhpcy5hZGREaWdpdChlLCBvKTsKICAgICAgfQogICAgfSwgdC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBuID0gdGhpczsKICAgICAgcmV0dXJuIHQgPSB0aGlzLmNsZWFuVmFsdWUodCksIChlID0gdCAtIHRoaXMudmFsdWUpID8gKHgodGhpcy5lbCwgIm9kb21ldGVyLWFuaW1hdGluZy11cCBvZG9tZXRlci1hbmltYXRpbmctZG93biBvZG9tZXRlci1hbmltYXRpbmciKSwgZSA+IDAgPyB2KHRoaXMuZWwsICJvZG9tZXRlci1hbmltYXRpbmctdXAiKSA6IHYodGhpcy5lbCwgIm9kb21ldGVyLWFuaW1hdGluZy1kb3duIiksIHRoaXMuc3RvcFdhdGNoaW5nTXV0YXRpb25zKCksIHRoaXMuYW5pbWF0ZSh0KSwgdGhpcy5zdGFydFdhdGNoaW5nTXV0YXRpb25zKCksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBuLmVsLm9mZnNldEhlaWdodCwgdihuLmVsLCAib2RvbWV0ZXItYW5pbWF0aW5nIik7CiAgICAgIH0sIDApLCB0aGlzLnZhbHVlID0gdCkgOiB2b2lkIDA7CiAgICB9LCB0LnByb3RvdHlwZS5yZW5kZXJEaWdpdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHkoaSk7CiAgICB9LCB0LnByb3RvdHlwZS5pbnNlcnREaWdpdCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHJldHVybiBudWxsICE9IGUgPyB0aGlzLmluc2lkZS5pbnNlcnRCZWZvcmUodCwgZSkgOiB0aGlzLmluc2lkZS5jaGlsZHJlbi5sZW5ndGggPyB0aGlzLmluc2lkZS5pbnNlcnRCZWZvcmUodCwgdGhpcy5pbnNpZGUuY2hpbGRyZW5bMF0pIDogdGhpcy5pbnNpZGUuYXBwZW5kQ2hpbGQodCk7CiAgICB9LCB0LnByb3RvdHlwZS5hZGRTcGFjZXIgPSBmdW5jdGlvbiAodCwgZSwgbikgewogICAgICB2YXIgaTsKICAgICAgcmV0dXJuIGkgPSB5KHMpLCBpLmlubmVySFRNTCA9IHQsIG4gJiYgdihpLCBuKSwgdGhpcy5pbnNlcnREaWdpdChpLCBlKTsKICAgIH0sIHQucHJvdG90eXBlLmFkZERpZ2l0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIG4sIGksIG8sIHI7CiAgICAgIGlmIChudWxsID09IGUgJiYgKGUgPSAhMCksICItIiA9PT0gdCkgcmV0dXJuIHRoaXMuYWRkU3BhY2VyKHQsIG51bGwsICJvZG9tZXRlci1uZWdhdGlvbi1tYXJrIik7CiAgICAgIGlmICgiLiIgPT09IHQpIHJldHVybiB0aGlzLmFkZFNwYWNlcihudWxsICE9IChyID0gdGhpcy5mb3JtYXQucmFkaXgpID8gciA6ICIuIiwgbnVsbCwgIm9kb21ldGVyLXJhZGl4LW1hcmsiKTsKICAgICAgaWYgKGUpIGZvciAobyA9ICExOzspIHsKICAgICAgICBpZiAoIXRoaXMuZm9ybWF0LnJlcGVhdGluZy5sZW5ndGgpIHsKICAgICAgICAgIGlmIChvKSB0aHJvdyBuZXcgRXJyb3IoIkJhZCBvZG9tZXRlciBmb3JtYXQgd2l0aG91dCBkaWdpdHMiKTsKICAgICAgICAgIHRoaXMucmVzZXRGb3JtYXQoKSwgbyA9ICEwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG4gPSB0aGlzLmZvcm1hdC5yZXBlYXRpbmdbdGhpcy5mb3JtYXQucmVwZWF0aW5nLmxlbmd0aCAtIDFdLCB0aGlzLmZvcm1hdC5yZXBlYXRpbmcgPSB0aGlzLmZvcm1hdC5yZXBlYXRpbmcuc3Vic3RyaW5nKDAsIHRoaXMuZm9ybWF0LnJlcGVhdGluZy5sZW5ndGggLSAxKSwgImQiID09PSBuKSBicmVhazsKICAgICAgICB0aGlzLmFkZFNwYWNlcihuKTsKICAgICAgfQogICAgICByZXR1cm4gaSA9IHRoaXMucmVuZGVyRGlnaXQoKSwgaS5xdWVyeVNlbGVjdG9yKCIub2RvbWV0ZXItdmFsdWUiKS5pbm5lckhUTUwgPSB0LCB0aGlzLmRpZ2l0cy5wdXNoKGkpLCB0aGlzLmluc2VydERpZ2l0KGkpOwogICAgfSwgdC5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBtICYmICJjb3VudCIgIT09IHRoaXMub3B0aW9ucy5hbmltYXRpb24gPyB0aGlzLmFuaW1hdGVTbGlkZSh0KSA6IHRoaXMuYW5pbWF0ZUNvdW50KHQpOwogICAgfSwgdC5wcm90b3R5cGUuYW5pbWF0ZUNvdW50ID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICBpLAogICAgICAgICAgbywKICAgICAgICAgIHIsCiAgICAgICAgICBfcywKICAgICAgICAgIGEgPSB0aGlzOwoKICAgICAgaWYgKGkgPSArdCAtIHRoaXMudmFsdWUpIHJldHVybiByID0gbyA9IGIoKSwgbiA9IHRoaXMudmFsdWUsIChfcyA9IGZ1bmN0aW9uIHMoKSB7CiAgICAgICAgdmFyIHUsIGwsIGM7CiAgICAgICAgcmV0dXJuIGIoKSAtIHIgPiBhLm9wdGlvbnMuZHVyYXRpb24gPyAoYS52YWx1ZSA9IHQsIGEucmVuZGVyKCksIHZvaWQgTShhLmVsLCAib2RvbWV0ZXJkb25lIikpIDogKHUgPSBiKCkgLSBvLCB1ID4gZSAmJiAobyA9IGIoKSwgYyA9IHUgLyBhLm9wdGlvbnMuZHVyYXRpb24sIGwgPSBpICogYywgbiArPSBsLCBhLnJlbmRlcihNYXRoLnJvdW5kKG4pKSksIG51bGwgIT0gRSA/IEUoX3MpIDogc2V0VGltZW91dChfcywgZSkpOwogICAgICB9KSgpOwogICAgfSwgdC5wcm90b3R5cGUuZ2V0RGlnaXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHQsIGUsIG4sIGksIG8sIHI7CgogICAgICBmb3IgKGkgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBQLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdLCB0ID0gbyA9IDAsIHIgPSBpLmxlbmd0aDsgciA+IG87IHQgPSArK28pIHsKICAgICAgICBuID0gaVt0XSwgaVt0XSA9IE1hdGguYWJzKG4pOwogICAgICB9CgogICAgICByZXR1cm4gZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGkpLCBNYXRoLmNlaWwoTWF0aC5sb2coZSArIDEpIC8gTWF0aC5sb2coMTApKTsKICAgIH0sIHQucHJvdG90eXBlLmdldEZyYWN0aW9uYWxEaWdpdENvdW50ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCwgZSwgbiwgaSwgbywgciwgczsKCiAgICAgIGZvciAobyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IFAuY2FsbChhcmd1bWVudHMsIDApIDogW10sIGUgPSAvXlwtP1xkKlwuKFxkKj8pMCokLywgdCA9IHIgPSAwLCBzID0gby5sZW5ndGg7IHMgPiByOyB0ID0gKytyKSB7CiAgICAgICAgaSA9IG9bdF0sIG9bdF0gPSBpLnRvU3RyaW5nKCksIG4gPSBlLmV4ZWMob1t0XSksIG51bGwgPT0gbiA/IG9bdF0gPSAwIDogb1t0XSA9IG5bMV0ubGVuZ3RoOwogICAgICB9CgogICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgbyk7CiAgICB9LCB0LnByb3RvdHlwZS5yZXNldERpZ2l0cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGlnaXRzID0gW10sIHRoaXMucmliYm9ucyA9IFtdLCB0aGlzLmluc2lkZS5pbm5lckhUTUwgPSAiIiwgdGhpcy5yZXNldEZvcm1hdCgpOwogICAgfSwgdC5wcm90b3R5cGUuYW5pbWF0ZVNsaWRlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGUsIG4sIGksIHIsIHMsIGEsIHUsIGwsIGMsIGQsIGgsIGYsIHAsIG0sIGcsIHksIHcsIGIsIHgsIEUsIEMsIFMsIE0sIEksIF8sIFQsIHo7CgogICAgICBpZiAoeSA9IHRoaXMudmFsdWUsIGwgPSB0aGlzLmdldEZyYWN0aW9uYWxEaWdpdENvdW50KHksIHQpLCBsICYmICh0ICo9IE1hdGgucG93KDEwLCBsKSwgeSAqPSBNYXRoLnBvdygxMCwgbCkpLCBpID0gdCAtIHkpIHsKICAgICAgICBmb3IgKHRoaXMuYmluZFRyYW5zaXRpb25FbmQoKSwgciA9IHRoaXMuZ2V0RGlnaXRDb3VudCh5LCB0KSwgcyA9IFtdLCBlID0gMCwgaCA9IHggPSAwOyByID49IDAgPyByID4geCA6IHggPiByOyBoID0gciA+PSAwID8gKyt4IDogLS14KSB7CiAgICAgICAgICBpZiAodyA9IGsoeSAvIE1hdGgucG93KDEwLCByIC0gaCAtIDEpKSwgdSA9IGsodCAvIE1hdGgucG93KDEwLCByIC0gaCAtIDEpKSwgYSA9IHUgLSB3LCBNYXRoLmFicyhhKSA+IHRoaXMuTUFYX1ZBTFVFUykgewogICAgICAgICAgICBmb3IgKGQgPSBbXSwgZiA9IGEgLyAodGhpcy5NQVhfVkFMVUVTICsgdGhpcy5NQVhfVkFMVUVTICogZSAqIG8pLCBuID0gdzsgYSA+IDAgJiYgdSA+IG4gfHwgMCA+IGEgJiYgbiA+IHU7KSB7CiAgICAgICAgICAgICAgZC5wdXNoKE1hdGgucm91bmQobikpLCBuICs9IGY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGRbZC5sZW5ndGggLSAxXSAhPT0gdSAmJiBkLnB1c2godSksIGUrKzsKICAgICAgICAgIH0gZWxzZSBkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB6ID0gW107CgogICAgICAgICAgICBmb3IgKHZhciB0ID0gdzsgdSA+PSB3ID8gdSA+PSB0IDogdCA+PSB1OyB1ID49IHcgPyB0KysgOiB0LS0pIHsKICAgICAgICAgICAgICB6LnB1c2godCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB6OwogICAgICAgICAgfS5hcHBseSh0aGlzKTsKCiAgICAgICAgICBmb3IgKGggPSBFID0gMCwgUyA9IGQubGVuZ3RoOyBTID4gRTsgaCA9ICsrRSkgewogICAgICAgICAgICBjID0gZFtoXSwgZFtoXSA9IE1hdGguYWJzKGMgJSAxMCk7CiAgICAgICAgICB9CgogICAgICAgICAgcy5wdXNoKGQpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh0aGlzLnJlc2V0RGlnaXRzKCksIFQgPSBzLnJldmVyc2UoKSwgaCA9IEMgPSAwLCBNID0gVC5sZW5ndGg7IE0gPiBDOyBoID0gKytDKSB7CiAgICAgICAgICBmb3IgKGQgPSBUW2hdLCB0aGlzLmRpZ2l0c1toXSB8fCB0aGlzLmFkZERpZ2l0KCIgIiwgaCA+PSBsKSwgbnVsbCA9PSAoYiA9IHRoaXMucmliYm9ucylbaF0gJiYgKGJbaF0gPSB0aGlzLmRpZ2l0c1toXS5xdWVyeVNlbGVjdG9yKCIub2RvbWV0ZXItcmliYm9uLWlubmVyIikpLCB0aGlzLnJpYmJvbnNbaF0uaW5uZXJIVE1MID0gIiIsIDAgPiBpICYmIChkID0gZC5yZXZlcnNlKCkpLCBwID0gXyA9IDAsIEkgPSBkLmxlbmd0aDsgSSA+IF87IHAgPSArK18pIHsKICAgICAgICAgICAgYyA9IGRbcF0sIGcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgZy5jbGFzc05hbWUgPSAib2RvbWV0ZXItdmFsdWUiLCBnLmlubmVySFRNTCA9IGMsIHRoaXMucmliYm9uc1toXS5hcHBlbmRDaGlsZChnKSwgcCA9PT0gZC5sZW5ndGggLSAxICYmIHYoZywgIm9kb21ldGVyLWxhc3QtdmFsdWUiKSwgMCA9PT0gcCAmJiB2KGcsICJvZG9tZXRlci1maXJzdC12YWx1ZSIpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDAgPiB3ICYmIHRoaXMuYWRkRGlnaXQoIi0iKSwgbSA9IHRoaXMuaW5zaWRlLnF1ZXJ5U2VsZWN0b3IoIi5vZG9tZXRlci1yYWRpeC1tYXJrIiksIG51bGwgIT0gbSAmJiBtLnBhcmVudC5yZW1vdmVDaGlsZChtKSwgbCA/IHRoaXMuYWRkU3BhY2VyKHRoaXMuZm9ybWF0LnJhZGl4LCB0aGlzLmRpZ2l0c1tsIC0gMV0sICJvZG9tZXRlci1yYWRpeC1tYXJrIikgOiB2b2lkIDA7CiAgICAgIH0KICAgIH0sIHQ7CiAgfSgpLCBoLm9wdGlvbnMgPSBudWxsICE9ICh6ID0gd2luZG93Lm9kb21ldGVyT3B0aW9ucykgPyB6IDoge30sIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgdmFyIHQsIGUsIG4sIGksIG87CgogICAgaWYgKHdpbmRvdy5vZG9tZXRlck9wdGlvbnMpIHsKICAgICAgaSA9IHdpbmRvdy5vZG9tZXRlck9wdGlvbnMsIG8gPSBbXTsKCiAgICAgIGZvciAodCBpbiBpKSB7CiAgICAgICAgZSA9IGlbdF0sIG8ucHVzaChudWxsICE9IChuID0gaC5vcHRpb25zKVt0XSA/IChuID0gaC5vcHRpb25zKVt0XSA6IG5bdF0gPSBlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG87CiAgICB9CiAgfSwgMCksIGguaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0LCBlLCBuLCBpLCBvLCByOwoKICAgIGlmIChudWxsICE9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHsKICAgICAgZm9yIChlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChoLm9wdGlvbnMuc2VsZWN0b3IgfHwgIi5vZG9tZXRlciIpLCByID0gW10sIG4gPSAwLCBpID0gZS5sZW5ndGg7IGkgPiBuOyBuKyspIHsKICAgICAgICB0ID0gZVtuXSwgci5wdXNoKHQub2RvbWV0ZXIgPSBuZXcgaCh7CiAgICAgICAgICBlbDogdCwKICAgICAgICAgIHZhbHVlOiBudWxsICE9IChvID0gdC5pbm5lclRleHQpID8gbyA6IHQudGV4dENvbnRlbnQKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfQogIH0sIG51bGwgIT0gKG51bGwgIT0gKE8gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpID8gTy5kb1Njcm9sbCA6IHZvaWQgMCkgJiYgbnVsbCAhPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCA/IChUID0gZG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlLCBkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gImNvbXBsZXRlIiA9PT0gZG9jdW1lbnQucmVhZHlTdGF0ZSAmJiBoLm9wdGlvbnMuYXV0byAhPT0gITEgJiYgaC5pbml0KCksIG51bGwgIT0gVCA/IFQuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHZvaWQgMDsKICB9KSA6IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaC5vcHRpb25zLmF1dG8gIT09ICExID8gaC5pbml0KCkgOiB2b2lkIDA7CiAgfSwgITEpLCAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbImpxdWVyeSJdLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaDsKICB9KSA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBleHBvcnRzICYmIG51bGwgIT09IGV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IGggOiB3aW5kb3cuT2RvbWV0ZXIgPSBoOwp9LmNhbGwodGhpcyksICFmdW5jdGlvbiAodCkgewogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsianF1ZXJ5Il0sIHQpIDogdCgib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IHJlcXVpcmUoImpxdWVyeSIpIDogd2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pOwp9KGZ1bmN0aW9uICh0KSB7CiAgdmFyIGUsCiAgICAgIG4sCiAgICAgIGksCiAgICAgIG8sCiAgICAgIHIsCiAgICAgIHMsCiAgICAgIGEgPSAiQ2xvc2UiLAogICAgICB1ID0gIkJlZm9yZUNsb3NlIiwKICAgICAgbCA9ICJBZnRlckNsb3NlIiwKICAgICAgYyA9ICJCZWZvcmVBcHBlbmQiLAogICAgICBkID0gIk1hcmt1cFBhcnNlIiwKICAgICAgaCA9ICJPcGVuIiwKICAgICAgZiA9ICJDaGFuZ2UiLAogICAgICBwID0gIm1mcCIsCiAgICAgIG0gPSAiLiIgKyBwLAogICAgICBnID0gIm1mcC1yZWFkeSIsCiAgICAgIHYgPSAibWZwLXJlbW92aW5nIiwKICAgICAgeSA9ICJtZnAtcHJldmVudC1jbG9zZSIsCiAgICAgIHcgPSBmdW5jdGlvbiB3KCkge30sCiAgICAgIGIgPSAhIXdpbmRvdy5qUXVlcnksCiAgICAgIHggPSB0KHdpbmRvdyksCiAgICAgIEUgPSBmdW5jdGlvbiBFKHQsIG4pIHsKICAgIGUuZXYub24ocCArIHQgKyBtLCBuKTsKICB9LAogICAgICBDID0gZnVuY3Rpb24gQyhlLCBuLCBpLCBvKSB7CiAgICB2YXIgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcmV0dXJuIHIuY2xhc3NOYW1lID0gIm1mcC0iICsgZSwgaSAmJiAoci5pbm5lckhUTUwgPSBpKSwgbyA/IG4gJiYgbi5hcHBlbmRDaGlsZChyKSA6IChyID0gdChyKSwgbiAmJiByLmFwcGVuZFRvKG4pKSwgcjsKICB9LAogICAgICBTID0gZnVuY3Rpb24gUyhuLCBpKSB7CiAgICBlLmV2LnRyaWdnZXJIYW5kbGVyKHAgKyBuLCBpKSwgZS5zdC5jYWxsYmFja3MgJiYgKG4gPSBuLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgbi5zbGljZSgxKSwgZS5zdC5jYWxsYmFja3Nbbl0gJiYgZS5zdC5jYWxsYmFja3Nbbl0uYXBwbHkoZSwgdC5pc0FycmF5KGkpID8gaSA6IFtpXSkpOwogIH0sCiAgICAgIE0gPSBmdW5jdGlvbiBNKG4pIHsKICAgIHJldHVybiBuID09PSBzICYmIGUuY3VyclRlbXBsYXRlLmNsb3NlQnRuIHx8IChlLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0biA9IHQoZS5zdC5jbG9zZU1hcmt1cC5yZXBsYWNlKCIldGl0bGUlIiwgZS5zdC50Q2xvc2UpKSwgcyA9IG4pLCBlLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bjsKICB9LAogICAgICBrID0gZnVuY3Rpb24gaygpIHsKICAgIHQubWFnbmlmaWNQb3B1cC5pbnN0YW5jZSB8fCAoZSA9IG5ldyB3KCksIGUuaW5pdCgpLCB0Lm1hZ25pZmljUG9wdXAuaW5zdGFuY2UgPSBlKTsKICB9LAogICAgICBJID0gZnVuY3Rpb24gSSgpIHsKICAgIHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLnN0eWxlLAogICAgICAgIGUgPSBbIm1zIiwgIk8iLCAiTW96IiwgIldlYmtpdCJdOwogICAgaWYgKHZvaWQgMCAhPT0gdC50cmFuc2l0aW9uKSByZXR1cm4gITA7CgogICAgZm9yICg7IGUubGVuZ3RoOykgewogICAgICBpZiAoZS5wb3AoKSArICJUcmFuc2l0aW9uIiBpbiB0KSByZXR1cm4gITA7CiAgICB9CgogICAgcmV0dXJuICExOwogIH07CgogIHcucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IHcsCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgbiA9IG5hdmlnYXRvci5hcHBWZXJzaW9uOwogICAgICBlLmlzSUU3ID0gLTEgIT09IG4uaW5kZXhPZigiTVNJRSA3LiIpLCBlLmlzSUU4ID0gLTEgIT09IG4uaW5kZXhPZigiTVNJRSA4LiIpLCBlLmlzTG93SUUgPSBlLmlzSUU3IHx8IGUuaXNJRTgsIGUuaXNBbmRyb2lkID0gL2FuZHJvaWQvZ2kudGVzdChuKSwgZS5pc0lPUyA9IC9pcGhvbmV8aXBhZHxpcG9kL2dpLnRlc3QobiksIGUuc3VwcG9ydHNUcmFuc2l0aW9uID0gSSgpLCBlLnByb2JhYmx5TW9iaWxlID0gZS5pc0FuZHJvaWQgfHwgZS5pc0lPUyB8fCAvKE9wZXJhIE1pbmkpfEtpbmRsZXx3ZWJPU3xCbGFja0JlcnJ5fChPcGVyYSBNb2JpKXwoV2luZG93cyBQaG9uZSl8SUVNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLCBpID0gdChkb2N1bWVudCksIGUucG9wdXBzQ2FjaGUgPSB7fTsKICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKG4pIHsKICAgICAgdmFyIG87CgogICAgICBpZiAobi5pc09iaiA9PT0gITEpIHsKICAgICAgICBlLml0ZW1zID0gbi5pdGVtcy50b0FycmF5KCksIGUuaW5kZXggPSAwOwogICAgICAgIHZhciBzLAogICAgICAgICAgICBhID0gbi5pdGVtczsKCiAgICAgICAgZm9yIChvID0gMDsgbyA8IGEubGVuZ3RoOyBvKyspIHsKICAgICAgICAgIGlmIChzID0gYVtvXSwgcy5wYXJzZWQgJiYgKHMgPSBzLmVsWzBdKSwgcyA9PT0gbi5lbFswXSkgewogICAgICAgICAgICBlLmluZGV4ID0gbzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgZS5pdGVtcyA9IHQuaXNBcnJheShuLml0ZW1zKSA/IG4uaXRlbXMgOiBbbi5pdGVtc10sIGUuaW5kZXggPSBuLmluZGV4IHx8IDA7CgogICAgICBpZiAoZS5pc09wZW4pIHJldHVybiB2b2lkIGUudXBkYXRlSXRlbUhUTUwoKTsKICAgICAgZS50eXBlcyA9IFtdLCByID0gIiIsIG4ubWFpbkVsICYmIG4ubWFpbkVsLmxlbmd0aCA/IGUuZXYgPSBuLm1haW5FbC5lcSgwKSA6IGUuZXYgPSBpLCBuLmtleSA/IChlLnBvcHVwc0NhY2hlW24ua2V5XSB8fCAoZS5wb3B1cHNDYWNoZVtuLmtleV0gPSB7fSksIGUuY3VyclRlbXBsYXRlID0gZS5wb3B1cHNDYWNoZVtuLmtleV0pIDogZS5jdXJyVGVtcGxhdGUgPSB7fSwgZS5zdCA9IHQuZXh0ZW5kKCEwLCB7fSwgdC5tYWduaWZpY1BvcHVwLmRlZmF1bHRzLCBuKSwgZS5maXhlZENvbnRlbnRQb3MgPSAiYXV0byIgPT09IGUuc3QuZml4ZWRDb250ZW50UG9zID8gIWUucHJvYmFibHlNb2JpbGUgOiBlLnN0LmZpeGVkQ29udGVudFBvcywgZS5zdC5tb2RhbCAmJiAoZS5zdC5jbG9zZU9uQ29udGVudENsaWNrID0gITEsIGUuc3QuY2xvc2VPbkJnQ2xpY2sgPSAhMSwgZS5zdC5zaG93Q2xvc2VCdG4gPSAhMSwgZS5zdC5lbmFibGVFc2NhcGVLZXkgPSAhMSksIGUuYmdPdmVybGF5IHx8IChlLmJnT3ZlcmxheSA9IEMoImJnIikub24oImNsaWNrIiArIG0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBlLmNsb3NlKCk7CiAgICAgIH0pLCBlLndyYXAgPSBDKCJ3cmFwIikuYXR0cigidGFiaW5kZXgiLCAtMSkub24oImNsaWNrIiArIG0sIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgZS5fY2hlY2tJZkNsb3NlKHQudGFyZ2V0KSAmJiBlLmNsb3NlKCk7CiAgICAgIH0pLCBlLmNvbnRhaW5lciA9IEMoImNvbnRhaW5lciIsIGUud3JhcCkpLCBlLmNvbnRlbnRDb250YWluZXIgPSBDKCJjb250ZW50IiksIGUuc3QucHJlbG9hZGVyICYmIChlLnByZWxvYWRlciA9IEMoInByZWxvYWRlciIsIGUuY29udGFpbmVyLCBlLnN0LnRMb2FkaW5nKSk7CiAgICAgIHZhciB1ID0gdC5tYWduaWZpY1BvcHVwLm1vZHVsZXM7CgogICAgICBmb3IgKG8gPSAwOyBvIDwgdS5sZW5ndGg7IG8rKykgewogICAgICAgIHZhciBsID0gdVtvXTsKICAgICAgICBsID0gbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGwuc2xpY2UoMSksIGVbImluaXQiICsgbF0uY2FsbChlKTsKICAgICAgfQoKICAgICAgUygiQmVmb3JlT3BlbiIpLCBlLnN0LnNob3dDbG9zZUJ0biAmJiAoZS5zdC5jbG9zZUJ0bkluc2lkZSA/IChFKGQsIGZ1bmN0aW9uICh0LCBlLCBuLCBpKSB7CiAgICAgICAgbi5jbG9zZV9yZXBsYWNlV2l0aCA9IE0oaS50eXBlKTsKICAgICAgfSksIHIgKz0gIiBtZnAtY2xvc2UtYnRuLWluIikgOiBlLndyYXAuYXBwZW5kKE0oKSkpLCBlLnN0LmFsaWduVG9wICYmIChyICs9ICIgbWZwLWFsaWduLXRvcCIpLCBlLmZpeGVkQ29udGVudFBvcyA/IGUud3JhcC5jc3MoewogICAgICAgIG92ZXJmbG93OiBlLnN0Lm92ZXJmbG93WSwKICAgICAgICBvdmVyZmxvd1g6ICJoaWRkZW4iLAogICAgICAgIG92ZXJmbG93WTogZS5zdC5vdmVyZmxvd1kKICAgICAgfSkgOiBlLndyYXAuY3NzKHsKICAgICAgICB0b3A6IHguc2Nyb2xsVG9wKCksCiAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIKICAgICAgfSksIChlLnN0LmZpeGVkQmdQb3MgPT09ICExIHx8ICJhdXRvIiA9PT0gZS5zdC5maXhlZEJnUG9zICYmICFlLmZpeGVkQ29udGVudFBvcykgJiYgZS5iZ092ZXJsYXkuY3NzKHsKICAgICAgICBoZWlnaHQ6IGkuaGVpZ2h0KCksCiAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIKICAgICAgfSksIGUuc3QuZW5hYmxlRXNjYXBlS2V5ICYmIGkub24oImtleXVwIiArIG0sIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgMjcgPT09IHQua2V5Q29kZSAmJiBlLmNsb3NlKCk7CiAgICAgIH0pLCB4Lm9uKCJyZXNpemUiICsgbSwgZnVuY3Rpb24gKCkgewogICAgICAgIGUudXBkYXRlU2l6ZSgpOwogICAgICB9KSwgZS5zdC5jbG9zZU9uQ29udGVudENsaWNrIHx8IChyICs9ICIgbWZwLWF1dG8tY3Vyc29yIiksIHIgJiYgZS53cmFwLmFkZENsYXNzKHIpOwogICAgICB2YXIgYyA9IGUud0ggPSB4LmhlaWdodCgpLAogICAgICAgICAgZiA9IHt9OwoKICAgICAgaWYgKGUuZml4ZWRDb250ZW50UG9zICYmIGUuX2hhc1Njcm9sbEJhcihjKSkgewogICAgICAgIHZhciBwID0gZS5fZ2V0U2Nyb2xsYmFyU2l6ZSgpOwoKICAgICAgICBwICYmIChmLm1hcmdpblJpZ2h0ID0gcCk7CiAgICAgIH0KCiAgICAgIGUuZml4ZWRDb250ZW50UG9zICYmIChlLmlzSUU3ID8gdCgiYm9keSwgaHRtbCIpLmNzcygib3ZlcmZsb3ciLCAiaGlkZGVuIikgOiBmLm92ZXJmbG93ID0gImhpZGRlbiIpOwogICAgICB2YXIgdiA9IGUuc3QubWFpbkNsYXNzOwogICAgICByZXR1cm4gZS5pc0lFNyAmJiAodiArPSAiIG1mcC1pZTciKSwgdiAmJiBlLl9hZGRDbGFzc1RvTUZQKHYpLCBlLnVwZGF0ZUl0ZW1IVE1MKCksIFMoIkJ1aWxkQ29udHJvbHMiKSwgdCgiaHRtbCIpLmNzcyhmKSwgZS5iZ092ZXJsYXkuYWRkKGUud3JhcCkucHJlcGVuZFRvKGUuc3QucHJlcGVuZFRvIHx8IHQoZG9jdW1lbnQuYm9keSkpLCBlLl9sYXN0Rm9jdXNlZEVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZS5jb250ZW50ID8gKGUuX2FkZENsYXNzVG9NRlAoZyksIGUuX3NldEZvY3VzKCkpIDogZS5iZ092ZXJsYXkuYWRkQ2xhc3MoZyksIGkub24oImZvY3VzaW4iICsgbSwgZS5fb25Gb2N1c0luKTsKICAgICAgfSwgMTYpLCBlLmlzT3BlbiA9ICEwLCBlLnVwZGF0ZVNpemUoYyksIFMoaCksIG47CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICBlLmlzT3BlbiAmJiAoUyh1KSwgZS5pc09wZW4gPSAhMSwgZS5zdC5yZW1vdmFsRGVsYXkgJiYgIWUuaXNMb3dJRSAmJiBlLnN1cHBvcnRzVHJhbnNpdGlvbiA/IChlLl9hZGRDbGFzc1RvTUZQKHYpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBlLl9jbG9zZSgpOwogICAgICB9LCBlLnN0LnJlbW92YWxEZWxheSkpIDogZS5fY2xvc2UoKSk7CiAgICB9LAogICAgX2Nsb3NlOiBmdW5jdGlvbiBfY2xvc2UoKSB7CiAgICAgIFMoYSk7CiAgICAgIHZhciBuID0gdiArICIgIiArIGcgKyAiICI7CgogICAgICBpZiAoZS5iZ092ZXJsYXkuZGV0YWNoKCksIGUud3JhcC5kZXRhY2goKSwgZS5jb250YWluZXIuZW1wdHkoKSwgZS5zdC5tYWluQ2xhc3MgJiYgKG4gKz0gZS5zdC5tYWluQ2xhc3MgKyAiICIpLCBlLl9yZW1vdmVDbGFzc0Zyb21NRlAobiksIGUuZml4ZWRDb250ZW50UG9zKSB7CiAgICAgICAgdmFyIG8gPSB7CiAgICAgICAgICBtYXJnaW5SaWdodDogIiIKICAgICAgICB9OwogICAgICAgIGUuaXNJRTcgPyB0KCJib2R5LCBodG1sIikuY3NzKCJvdmVyZmxvdyIsICIiKSA6IG8ub3ZlcmZsb3cgPSAiIiwgdCgiaHRtbCIpLmNzcyhvKTsKICAgICAgfQoKICAgICAgaS5vZmYoImtleXVwIiArIG0gKyAiIGZvY3VzaW4iICsgbSksIGUuZXYub2ZmKG0pLCBlLndyYXAuYXR0cigiY2xhc3MiLCAibWZwLXdyYXAiKS5yZW1vdmVBdHRyKCJzdHlsZSIpLCBlLmJnT3ZlcmxheS5hdHRyKCJjbGFzcyIsICJtZnAtYmciKSwgZS5jb250YWluZXIuYXR0cigiY2xhc3MiLCAibWZwLWNvbnRhaW5lciIpLCAhZS5zdC5zaG93Q2xvc2VCdG4gfHwgZS5zdC5jbG9zZUJ0bkluc2lkZSAmJiBlLmN1cnJUZW1wbGF0ZVtlLmN1cnJJdGVtLnR5cGVdICE9PSAhMCB8fCBlLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0biAmJiBlLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bi5kZXRhY2goKSwgZS5zdC5hdXRvRm9jdXNMYXN0ICYmIGUuX2xhc3RGb2N1c2VkRWwgJiYgdChlLl9sYXN0Rm9jdXNlZEVsKS5mb2N1cygpLCBlLmN1cnJJdGVtID0gbnVsbCwgZS5jb250ZW50ID0gbnVsbCwgZS5jdXJyVGVtcGxhdGUgPSBudWxsLCBlLnByZXZIZWlnaHQgPSAwLCBTKGwpOwogICAgfSwKICAgIHVwZGF0ZVNpemU6IGZ1bmN0aW9uIHVwZGF0ZVNpemUodCkgewogICAgICBpZiAoZS5pc0lPUykgewogICAgICAgIHZhciBuID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC8gd2luZG93LmlubmVyV2lkdGgsCiAgICAgICAgICAgIGkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiBuOwogICAgICAgIGUud3JhcC5jc3MoImhlaWdodCIsIGkpLCBlLndIID0gaTsKICAgICAgfSBlbHNlIGUud0ggPSB0IHx8IHguaGVpZ2h0KCk7CgogICAgICBlLmZpeGVkQ29udGVudFBvcyB8fCBlLndyYXAuY3NzKCJoZWlnaHQiLCBlLndIKSwgUygiUmVzaXplIik7CiAgICB9LAogICAgdXBkYXRlSXRlbUhUTUw6IGZ1bmN0aW9uIHVwZGF0ZUl0ZW1IVE1MKCkgewogICAgICB2YXIgbiA9IGUuaXRlbXNbZS5pbmRleF07CiAgICAgIGUuY29udGVudENvbnRhaW5lci5kZXRhY2goKSwgZS5jb250ZW50ICYmIGUuY29udGVudC5kZXRhY2goKSwgbi5wYXJzZWQgfHwgKG4gPSBlLnBhcnNlRWwoZS5pbmRleCkpOwogICAgICB2YXIgaSA9IG4udHlwZTsKCiAgICAgIGlmIChTKCJCZWZvcmVDaGFuZ2UiLCBbZS5jdXJySXRlbSA/IGUuY3Vyckl0ZW0udHlwZSA6ICIiLCBpXSksIGUuY3Vyckl0ZW0gPSBuLCAhZS5jdXJyVGVtcGxhdGVbaV0pIHsKICAgICAgICB2YXIgciA9IGUuc3RbaV0gPyBlLnN0W2ldLm1hcmt1cCA6ICExOwogICAgICAgIFMoIkZpcnN0TWFya3VwUGFyc2UiLCByKSwgciA/IGUuY3VyclRlbXBsYXRlW2ldID0gdChyKSA6IGUuY3VyclRlbXBsYXRlW2ldID0gITA7CiAgICAgIH0KCiAgICAgIG8gJiYgbyAhPT0gbi50eXBlICYmIGUuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJtZnAtIiArIG8gKyAiLWhvbGRlciIpOwogICAgICB2YXIgcyA9IGVbImdldCIgKyBpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgaS5zbGljZSgxKV0obiwgZS5jdXJyVGVtcGxhdGVbaV0pOwogICAgICBlLmFwcGVuZENvbnRlbnQocywgaSksIG4ucHJlbG9hZGVkID0gITAsIFMoZiwgbiksIG8gPSBuLnR5cGUsIGUuY29udGFpbmVyLnByZXBlbmQoZS5jb250ZW50Q29udGFpbmVyKSwgUygiQWZ0ZXJDaGFuZ2UiKTsKICAgIH0sCiAgICBhcHBlbmRDb250ZW50OiBmdW5jdGlvbiBhcHBlbmRDb250ZW50KHQsIG4pIHsKICAgICAgZS5jb250ZW50ID0gdCwgdCA/IGUuc3Quc2hvd0Nsb3NlQnRuICYmIGUuc3QuY2xvc2VCdG5JbnNpZGUgJiYgZS5jdXJyVGVtcGxhdGVbbl0gPT09ICEwID8gZS5jb250ZW50LmZpbmQoIi5tZnAtY2xvc2UiKS5sZW5ndGggfHwgZS5jb250ZW50LmFwcGVuZChNKCkpIDogZS5jb250ZW50ID0gdCA6IGUuY29udGVudCA9ICIiLCBTKGMpLCBlLmNvbnRhaW5lci5hZGRDbGFzcygibWZwLSIgKyBuICsgIi1ob2xkZXIiKSwgZS5jb250ZW50Q29udGFpbmVyLmFwcGVuZChlLmNvbnRlbnQpOwogICAgfSwKICAgIHBhcnNlRWw6IGZ1bmN0aW9uIHBhcnNlRWwobikgewogICAgICB2YXIgaSwKICAgICAgICAgIG8gPSBlLml0ZW1zW25dOwoKICAgICAgaWYgKG8udGFnTmFtZSA/IG8gPSB7CiAgICAgICAgZWw6IHQobykKICAgICAgfSA6IChpID0gby50eXBlLCBvID0gewogICAgICAgIGRhdGE6IG8sCiAgICAgICAgc3JjOiBvLnNyYwogICAgICB9KSwgby5lbCkgewogICAgICAgIGZvciAodmFyIHIgPSBlLnR5cGVzLCBzID0gMDsgcyA8IHIubGVuZ3RoOyBzKyspIHsKICAgICAgICAgIGlmIChvLmVsLmhhc0NsYXNzKCJtZnAtIiArIHJbc10pKSB7CiAgICAgICAgICAgIGkgPSByW3NdOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIG8uc3JjID0gby5lbC5hdHRyKCJkYXRhLW1mcC1zcmMiKSwgby5zcmMgfHwgKG8uc3JjID0gby5lbC5hdHRyKCJocmVmIikpOwogICAgICB9CgogICAgICByZXR1cm4gby50eXBlID0gaSB8fCBlLnN0LnR5cGUgfHwgImlubGluZSIsIG8uaW5kZXggPSBuLCBvLnBhcnNlZCA9ICEwLCBlLml0ZW1zW25dID0gbywgUygiRWxlbWVudFBhcnNlIiwgbyksIGUuaXRlbXNbbl07CiAgICB9LAogICAgYWRkR3JvdXA6IGZ1bmN0aW9uIGFkZEdyb3VwKHQsIG4pIHsKICAgICAgdmFyIGkgPSBmdW5jdGlvbiBpKF9pKSB7CiAgICAgICAgX2kubWZwRWwgPSB0aGlzLCBlLl9vcGVuQ2xpY2soX2ksIHQsIG4pOwogICAgICB9OwoKICAgICAgbiB8fCAobiA9IHt9KTsKICAgICAgdmFyIG8gPSAiY2xpY2subWFnbmlmaWNQb3B1cCI7CiAgICAgIG4ubWFpbkVsID0gdCwgbi5pdGVtcyA/IChuLmlzT2JqID0gITAsIHQub2ZmKG8pLm9uKG8sIGkpKSA6IChuLmlzT2JqID0gITEsIG4uZGVsZWdhdGUgPyB0Lm9mZihvKS5vbihvLCBuLmRlbGVnYXRlLCBpKSA6IChuLml0ZW1zID0gdCwgdC5vZmYobykub24obywgaSkpKTsKICAgIH0sCiAgICBfb3BlbkNsaWNrOiBmdW5jdGlvbiBfb3BlbkNsaWNrKG4sIGksIG8pIHsKICAgICAgdmFyIHIgPSB2b2lkIDAgIT09IG8ubWlkQ2xpY2sgPyBvLm1pZENsaWNrIDogdC5tYWduaWZpY1BvcHVwLmRlZmF1bHRzLm1pZENsaWNrOwoKICAgICAgaWYgKHIgfHwgISgyID09PSBuLndoaWNoIHx8IG4uY3RybEtleSB8fCBuLm1ldGFLZXkgfHwgbi5hbHRLZXkgfHwgbi5zaGlmdEtleSkpIHsKICAgICAgICB2YXIgcyA9IHZvaWQgMCAhPT0gby5kaXNhYmxlT24gPyBvLmRpc2FibGVPbiA6IHQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cy5kaXNhYmxlT247CiAgICAgICAgaWYgKHMpIGlmICh0LmlzRnVuY3Rpb24ocykpIHsKICAgICAgICAgIGlmICghcy5jYWxsKGUpKSByZXR1cm4gITA7CiAgICAgICAgfSBlbHNlIGlmICh4LndpZHRoKCkgPCBzKSByZXR1cm4gITA7CiAgICAgICAgbi50eXBlICYmIChuLnByZXZlbnREZWZhdWx0KCksIGUuaXNPcGVuICYmIG4uc3RvcFByb3BhZ2F0aW9uKCkpLCBvLmVsID0gdChuLm1mcEVsKSwgby5kZWxlZ2F0ZSAmJiAoby5pdGVtcyA9IGkuZmluZChvLmRlbGVnYXRlKSksIGUub3BlbihvKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVN0YXR1czogZnVuY3Rpb24gdXBkYXRlU3RhdHVzKHQsIGkpIHsKICAgICAgaWYgKGUucHJlbG9hZGVyKSB7CiAgICAgICAgbiAhPT0gdCAmJiBlLmNvbnRhaW5lci5yZW1vdmVDbGFzcygibWZwLXMtIiArIG4pLCBpIHx8ICJsb2FkaW5nIiAhPT0gdCB8fCAoaSA9IGUuc3QudExvYWRpbmcpOwogICAgICAgIHZhciBvID0gewogICAgICAgICAgc3RhdHVzOiB0LAogICAgICAgICAgdGV4dDogaQogICAgICAgIH07CiAgICAgICAgUygiVXBkYXRlU3RhdHVzIiwgbyksIHQgPSBvLnN0YXR1cywgaSA9IG8udGV4dCwgZS5wcmVsb2FkZXIuaHRtbChpKSwgZS5wcmVsb2FkZXIuZmluZCgiYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwogICAgICAgIH0pLCBlLmNvbnRhaW5lci5hZGRDbGFzcygibWZwLXMtIiArIHQpLCBuID0gdDsKICAgICAgfQogICAgfSwKICAgIF9jaGVja0lmQ2xvc2U6IGZ1bmN0aW9uIF9jaGVja0lmQ2xvc2UobikgewogICAgICBpZiAoIXQobikuaGFzQ2xhc3MoeSkpIHsKICAgICAgICB2YXIgaSA9IGUuc3QuY2xvc2VPbkNvbnRlbnRDbGljaywKICAgICAgICAgICAgbyA9IGUuc3QuY2xvc2VPbkJnQ2xpY2s7CiAgICAgICAgaWYgKGkgJiYgbykgcmV0dXJuICEwOwogICAgICAgIGlmICghZS5jb250ZW50IHx8IHQobikuaGFzQ2xhc3MoIm1mcC1jbG9zZSIpIHx8IGUucHJlbG9hZGVyICYmIG4gPT09IGUucHJlbG9hZGVyWzBdKSByZXR1cm4gITA7CgogICAgICAgIGlmIChuID09PSBlLmNvbnRlbnRbMF0gfHwgdC5jb250YWlucyhlLmNvbnRlbnRbMF0sIG4pKSB7CiAgICAgICAgICBpZiAoaSkgcmV0dXJuICEwOwogICAgICAgIH0gZWxzZSBpZiAobyAmJiB0LmNvbnRhaW5zKGRvY3VtZW50LCBuKSkgcmV0dXJuICEwOwoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0KICAgIH0sCiAgICBfYWRkQ2xhc3NUb01GUDogZnVuY3Rpb24gX2FkZENsYXNzVG9NRlAodCkgewogICAgICBlLmJnT3ZlcmxheS5hZGRDbGFzcyh0KSwgZS53cmFwLmFkZENsYXNzKHQpOwogICAgfSwKICAgIF9yZW1vdmVDbGFzc0Zyb21NRlA6IGZ1bmN0aW9uIF9yZW1vdmVDbGFzc0Zyb21NRlAodCkgewogICAgICB0aGlzLmJnT3ZlcmxheS5yZW1vdmVDbGFzcyh0KSwgZS53cmFwLnJlbW92ZUNsYXNzKHQpOwogICAgfSwKICAgIF9oYXNTY3JvbGxCYXI6IGZ1bmN0aW9uIF9oYXNTY3JvbGxCYXIodCkgewogICAgICByZXR1cm4gKGUuaXNJRTcgPyBpLmhlaWdodCgpIDogZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpID4gKHQgfHwgeC5oZWlnaHQoKSk7CiAgICB9LAogICAgX3NldEZvY3VzOiBmdW5jdGlvbiBfc2V0Rm9jdXMoKSB7CiAgICAgIChlLnN0LmZvY3VzID8gZS5jb250ZW50LmZpbmQoZS5zdC5mb2N1cykuZXEoMCkgOiBlLndyYXApLmZvY3VzKCk7CiAgICB9LAogICAgX29uRm9jdXNJbjogZnVuY3Rpb24gX29uRm9jdXNJbihuKSB7CiAgICAgIHJldHVybiBuLnRhcmdldCA9PT0gZS53cmFwWzBdIHx8IHQuY29udGFpbnMoZS53cmFwWzBdLCBuLnRhcmdldCkgPyB2b2lkIDAgOiAoZS5fc2V0Rm9jdXMoKSwgITEpOwogICAgfSwKICAgIF9wYXJzZU1hcmt1cDogZnVuY3Rpb24gX3BhcnNlTWFya3VwKGUsIG4sIGkpIHsKICAgICAgdmFyIG87CiAgICAgIGkuZGF0YSAmJiAobiA9IHQuZXh0ZW5kKGkuZGF0YSwgbikpLCBTKGQsIFtlLCBuLCBpXSksIHQuZWFjaChuLCBmdW5jdGlvbiAodCwgbikgewogICAgICAgIGlmICh2b2lkIDAgPT09IG4gfHwgbiA9PT0gITEpIHJldHVybiAhMDsKCiAgICAgICAgaWYgKG8gPSB0LnNwbGl0KCJfIiksIG8ubGVuZ3RoID4gMSkgewogICAgICAgICAgdmFyIGkgPSBlLmZpbmQobSArICItIiArIG9bMF0pOwoKICAgICAgICAgIGlmIChpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHIgPSBvWzFdOwogICAgICAgICAgICAicmVwbGFjZVdpdGgiID09PSByID8gaVswXSAhPT0gblswXSAmJiBpLnJlcGxhY2VXaXRoKG4pIDogImltZyIgPT09IHIgPyBpLmlzKCJpbWciKSA/IGkuYXR0cigic3JjIiwgbikgOiBpLnJlcGxhY2VXaXRoKCc8aW1nIHNyYz0iJyArIG4gKyAnIiBjbGFzcz0iJyArIGkuYXR0cigiY2xhc3MiKSArICciIC8+JykgOiBpLmF0dHIob1sxXSwgbik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGUuZmluZChtICsgIi0iICsgdCkuaHRtbChuKTsKICAgICAgfSk7CiAgICB9LAogICAgX2dldFNjcm9sbGJhclNpemU6IGZ1bmN0aW9uIF9nZXRTY3JvbGxiYXJTaXplKCkgewogICAgICBpZiAodm9pZCAwID09PSBlLnNjcm9sbGJhclNpemUpIHsKICAgICAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHQuc3R5bGUuY3NzVGV4dCA9ICJ3aWR0aDogOTlweDsgaGVpZ2h0OiA5OXB4OyBvdmVyZmxvdzogc2Nyb2xsOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTk5OTlweDsiLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLCBlLnNjcm9sbGJhclNpemUgPSB0Lm9mZnNldFdpZHRoIC0gdC5jbGllbnRXaWR0aCwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGUuc2Nyb2xsYmFyU2l6ZTsKICAgIH0KICB9LCB0Lm1hZ25pZmljUG9wdXAgPSB7CiAgICBpbnN0YW5jZTogbnVsbCwKICAgIHByb3RvOiB3LnByb3RvdHlwZSwKICAgIG1vZHVsZXM6IFtdLAogICAgb3BlbjogZnVuY3Rpb24gb3BlbihlLCBuKSB7CiAgICAgIHJldHVybiBrKCksIGUgPSBlID8gdC5leHRlbmQoITAsIHt9LCBlKSA6IHt9LCBlLmlzT2JqID0gITAsIGUuaW5kZXggPSBuIHx8IDAsIHRoaXMuaW5zdGFuY2Uub3BlbihlKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHJldHVybiB0Lm1hZ25pZmljUG9wdXAuaW5zdGFuY2UgJiYgdC5tYWduaWZpY1BvcHVwLmluc3RhbmNlLmNsb3NlKCk7CiAgICB9LAogICAgcmVnaXN0ZXJNb2R1bGU6IGZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlKGUsIG4pIHsKICAgICAgbi5vcHRpb25zICYmICh0Lm1hZ25pZmljUG9wdXAuZGVmYXVsdHNbZV0gPSBuLm9wdGlvbnMpLCB0LmV4dGVuZCh0aGlzLnByb3RvLCBuLnByb3RvKSwgdGhpcy5tb2R1bGVzLnB1c2goZSk7CiAgICB9LAogICAgZGVmYXVsdHM6IHsKICAgICAgZGlzYWJsZU9uOiAwLAogICAgICBrZXk6IG51bGwsCiAgICAgIG1pZENsaWNrOiAhMSwKICAgICAgbWFpbkNsYXNzOiAiIiwKICAgICAgcHJlbG9hZGVyOiAhMCwKICAgICAgZm9jdXM6ICIiLAogICAgICBjbG9zZU9uQ29udGVudENsaWNrOiAhMSwKICAgICAgY2xvc2VPbkJnQ2xpY2s6ICEwLAogICAgICBjbG9zZUJ0bkluc2lkZTogITAsCiAgICAgIHNob3dDbG9zZUJ0bjogITAsCiAgICAgIGVuYWJsZUVzY2FwZUtleTogITAsCiAgICAgIG1vZGFsOiAhMSwKICAgICAgYWxpZ25Ub3A6ICExLAogICAgICByZW1vdmFsRGVsYXk6IDAsCiAgICAgIHByZXBlbmRUbzogbnVsbCwKICAgICAgZml4ZWRDb250ZW50UG9zOiAiYXV0byIsCiAgICAgIGZpeGVkQmdQb3M6ICJhdXRvIiwKICAgICAgb3ZlcmZsb3dZOiAiYXV0byIsCiAgICAgIGNsb3NlTWFya3VwOiAnPGJ1dHRvbiB0aXRsZT0iJXRpdGxlJSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0ibWZwLWNsb3NlIj4mIzIxNTs8L2J1dHRvbj4nLAogICAgICB0Q2xvc2U6ICJDbG9zZSAoRXNjKSIsCiAgICAgIHRMb2FkaW5nOiAiTG9hZGluZy4uLiIsCiAgICAgIGF1dG9Gb2N1c0xhc3Q6ICEwCiAgICB9CiAgfSwgdC5mbi5tYWduaWZpY1BvcHVwID0gZnVuY3Rpb24gKG4pIHsKICAgIGsoKTsKICAgIHZhciBpID0gdCh0aGlzKTsKICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgbikgewogICAgICBpZiAoIm9wZW4iID09PSBuKSB7CiAgICAgICAgdmFyIG8sCiAgICAgICAgICAgIHIgPSBiID8gaS5kYXRhKCJtYWduaWZpY1BvcHVwIikgOiBpWzBdLm1hZ25pZmljUG9wdXAsCiAgICAgICAgICAgIHMgPSBwYXJzZUludChhcmd1bWVudHNbMV0sIDEwKSB8fCAwOwogICAgICAgIHIuaXRlbXMgPyBvID0gci5pdGVtc1tzXSA6IChvID0gaSwgci5kZWxlZ2F0ZSAmJiAobyA9IG8uZmluZChyLmRlbGVnYXRlKSksIG8gPSBvLmVxKHMpKSwgZS5fb3BlbkNsaWNrKHsKICAgICAgICAgIG1mcEVsOiBvCiAgICAgICAgfSwgaSwgcik7CiAgICAgIH0gZWxzZSBlLmlzT3BlbiAmJiBlW25dLmFwcGx5KGUsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpOwogICAgfSBlbHNlIG4gPSB0LmV4dGVuZCghMCwge30sIG4pLCBiID8gaS5kYXRhKCJtYWduaWZpY1BvcHVwIiwgbikgOiBpWzBdLm1hZ25pZmljUG9wdXAgPSBuLCBlLmFkZEdyb3VwKGksIG4pOwogICAgcmV0dXJuIGk7CiAgfTsKCiAgdmFyIF8sCiAgICAgIFQsCiAgICAgIHosCiAgICAgIE8gPSAiaW5saW5lIiwKICAgICAgUCA9IGZ1bmN0aW9uIFAoKSB7CiAgICB6ICYmIChULmFmdGVyKHouYWRkQ2xhc3MoXykpLmRldGFjaCgpLCB6ID0gbnVsbCk7CiAgfTsKCiAgdC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKE8sIHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGlkZGVuQ2xhc3M6ICJoaWRlIiwKICAgICAgbWFya3VwOiAiIiwKICAgICAgdE5vdEZvdW5kOiAiQ29udGVudCBub3QgZm91bmQiCiAgICB9LAogICAgcHJvdG86IHsKICAgICAgaW5pdElubGluZTogZnVuY3Rpb24gaW5pdElubGluZSgpIHsKICAgICAgICBlLnR5cGVzLnB1c2goTyksIEUoYSArICIuIiArIE8sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIFAoKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0SW5saW5lOiBmdW5jdGlvbiBnZXRJbmxpbmUobiwgaSkgewogICAgICAgIGlmIChQKCksIG4uc3JjKSB7CiAgICAgICAgICB2YXIgbyA9IGUuc3QuaW5saW5lLAogICAgICAgICAgICAgIHIgPSB0KG4uc3JjKTsKCiAgICAgICAgICBpZiAoci5sZW5ndGgpIHsKICAgICAgICAgICAgdmFyIHMgPSByWzBdLnBhcmVudE5vZGU7CiAgICAgICAgICAgIHMgJiYgcy50YWdOYW1lICYmIChUIHx8IChfID0gby5oaWRkZW5DbGFzcywgVCA9IEMoXyksIF8gPSAibWZwLSIgKyBfKSwgeiA9IHIuYWZ0ZXIoVCkuZGV0YWNoKCkucmVtb3ZlQ2xhc3MoXykpLCBlLnVwZGF0ZVN0YXR1cygicmVhZHkiKTsKICAgICAgICAgIH0gZWxzZSBlLnVwZGF0ZVN0YXR1cygiZXJyb3IiLCBvLnROb3RGb3VuZCksIHIgPSB0KCI8ZGl2PiIpOwoKICAgICAgICAgIHJldHVybiBuLmlubGluZUVsZW1lbnQgPSByLCByOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGUudXBkYXRlU3RhdHVzKCJyZWFkeSIpLCBlLl9wYXJzZU1hcmt1cChpLCB7fSwgbiksIGk7CiAgICAgIH0KICAgIH0KICB9KTsKCiAgdmFyIEwsCiAgICAgIEEgPSAiYWpheCIsCiAgICAgIEIgPSBmdW5jdGlvbiBCKCkgewogICAgTCAmJiB0KGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKEwpOwogIH0sCiAgICAgIEggPSBmdW5jdGlvbiBIKCkgewogICAgQigpLCBlLnJlcSAmJiBlLnJlcS5hYm9ydCgpOwogIH07CgogIHQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZShBLCB7CiAgICBvcHRpb25zOiB7CiAgICAgIHNldHRpbmdzOiBudWxsLAogICAgICBjdXJzb3I6ICJtZnAtYWpheC1jdXIiLAogICAgICB0RXJyb3I6ICc8YSBocmVmPSIldXJsJSI+VGhlIGNvbnRlbnQ8L2E+IGNvdWxkIG5vdCBiZSBsb2FkZWQuJwogICAgfSwKICAgIHByb3RvOiB7CiAgICAgIGluaXRBamF4OiBmdW5jdGlvbiBpbml0QWpheCgpIHsKICAgICAgICBlLnR5cGVzLnB1c2goQSksIEwgPSBlLnN0LmFqYXguY3Vyc29yLCBFKGEgKyAiLiIgKyBBLCBIKSwgRSgiQmVmb3JlQ2hhbmdlLiIgKyBBLCBIKTsKICAgICAgfSwKICAgICAgZ2V0QWpheDogZnVuY3Rpb24gZ2V0QWpheChuKSB7CiAgICAgICAgTCAmJiB0KGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKEwpLCBlLnVwZGF0ZVN0YXR1cygibG9hZGluZyIpOwogICAgICAgIHZhciBpID0gdC5leHRlbmQoewogICAgICAgICAgdXJsOiBuLnNyYywKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaSwgbywgcikgewogICAgICAgICAgICB2YXIgcyA9IHsKICAgICAgICAgICAgICBkYXRhOiBpLAogICAgICAgICAgICAgIHhocjogcgogICAgICAgICAgICB9OwogICAgICAgICAgICBTKCJQYXJzZUFqYXgiLCBzKSwgZS5hcHBlbmRDb250ZW50KHQocy5kYXRhKSwgQSksIG4uZmluaXNoZWQgPSAhMCwgQigpLCBlLl9zZXRGb2N1cygpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBlLndyYXAuYWRkQ2xhc3MoZyk7CiAgICAgICAgICAgIH0sIDE2KSwgZS51cGRhdGVTdGF0dXMoInJlYWR5IiksIFMoIkFqYXhDb250ZW50QWRkZWQiKTsKICAgICAgICAgIH0sCiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7CiAgICAgICAgICAgIEIoKSwgbi5maW5pc2hlZCA9IG4ubG9hZEVycm9yID0gITAsIGUudXBkYXRlU3RhdHVzKCJlcnJvciIsIGUuc3QuYWpheC50RXJyb3IucmVwbGFjZSgiJXVybCUiLCBuLnNyYykpOwogICAgICAgICAgfQogICAgICAgIH0sIGUuc3QuYWpheC5zZXR0aW5ncyk7CiAgICAgICAgcmV0dXJuIGUucmVxID0gdC5hamF4KGkpLCAiIjsKICAgICAgfQogICAgfQogIH0pOwoKICB2YXIgTiwKICAgICAgaiA9IGZ1bmN0aW9uIGoobikgewogICAgaWYgKG4uZGF0YSAmJiB2b2lkIDAgIT09IG4uZGF0YS50aXRsZSkgcmV0dXJuIG4uZGF0YS50aXRsZTsKICAgIHZhciBpID0gZS5zdC5pbWFnZS50aXRsZVNyYzsKCiAgICBpZiAoaSkgewogICAgICBpZiAodC5pc0Z1bmN0aW9uKGkpKSByZXR1cm4gaS5jYWxsKGUsIG4pOwogICAgICBpZiAobi5lbCkgcmV0dXJuIG4uZWwuYXR0cihpKSB8fCAiIjsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfTsKCiAgdC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKCJpbWFnZSIsIHsKICAgIG9wdGlvbnM6IHsKICAgICAgbWFya3VwOiAnPGRpdiBjbGFzcz0ibWZwLWZpZ3VyZSI+PGRpdiBjbGFzcz0ibWZwLWNsb3NlIj48L2Rpdj48ZmlndXJlPjxkaXYgY2xhc3M9Im1mcC1pbWciPjwvZGl2PjxmaWdjYXB0aW9uPjxkaXYgY2xhc3M9Im1mcC1ib3R0b20tYmFyIj48ZGl2IGNsYXNzPSJtZnAtdGl0bGUiPjwvZGl2PjxkaXYgY2xhc3M9Im1mcC1jb3VudGVyIj48L2Rpdj48L2Rpdj48L2ZpZ2NhcHRpb24+PC9maWd1cmU+PC9kaXY+JywKICAgICAgY3Vyc29yOiAibWZwLXpvb20tb3V0LWN1ciIsCiAgICAgIHRpdGxlU3JjOiAidGl0bGUiLAogICAgICB2ZXJ0aWNhbEZpdDogITAsCiAgICAgIHRFcnJvcjogJzxhIGhyZWY9IiV1cmwlIj5UaGUgaW1hZ2U8L2E+IGNvdWxkIG5vdCBiZSBsb2FkZWQuJwogICAgfSwKICAgIHByb3RvOiB7CiAgICAgIGluaXRJbWFnZTogZnVuY3Rpb24gaW5pdEltYWdlKCkgewogICAgICAgIHZhciBuID0gZS5zdC5pbWFnZSwKICAgICAgICAgICAgaSA9ICIuaW1hZ2UiOwogICAgICAgIGUudHlwZXMucHVzaCgiaW1hZ2UiKSwgRShoICsgaSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgImltYWdlIiA9PT0gZS5jdXJySXRlbS50eXBlICYmIG4uY3Vyc29yICYmIHQoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3Mobi5jdXJzb3IpOwogICAgICAgIH0pLCBFKGEgKyBpLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBuLmN1cnNvciAmJiB0KGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKG4uY3Vyc29yKSwgeC5vZmYoInJlc2l6ZSIgKyBtKTsKICAgICAgICB9KSwgRSgiUmVzaXplIiArIGksIGUucmVzaXplSW1hZ2UpLCBlLmlzTG93SUUgJiYgRSgiQWZ0ZXJDaGFuZ2UiLCBlLnJlc2l6ZUltYWdlKTsKICAgICAgfSwKICAgICAgcmVzaXplSW1hZ2U6IGZ1bmN0aW9uIHJlc2l6ZUltYWdlKCkgewogICAgICAgIHZhciB0ID0gZS5jdXJySXRlbTsKCiAgICAgICAgaWYgKHQgJiYgdC5pbWcgJiYgZS5zdC5pbWFnZS52ZXJ0aWNhbEZpdCkgewogICAgICAgICAgdmFyIG4gPSAwOwogICAgICAgICAgZS5pc0xvd0lFICYmIChuID0gcGFyc2VJbnQodC5pbWcuY3NzKCJwYWRkaW5nLXRvcCIpLCAxMCkgKyBwYXJzZUludCh0LmltZy5jc3MoInBhZGRpbmctYm90dG9tIiksIDEwKSksIHQuaW1nLmNzcygibWF4LWhlaWdodCIsIGUud0ggLSBuKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9vbkltYWdlSGFzU2l6ZTogZnVuY3Rpb24gX29uSW1hZ2VIYXNTaXplKHQpIHsKICAgICAgICB0LmltZyAmJiAodC5oYXNTaXplID0gITAsIE4gJiYgY2xlYXJJbnRlcnZhbChOKSwgdC5pc0NoZWNraW5nSW1nU2l6ZSA9ICExLCBTKCJJbWFnZUhhc1NpemUiLCB0KSwgdC5pbWdIaWRkZW4gJiYgKGUuY29udGVudCAmJiBlLmNvbnRlbnQucmVtb3ZlQ2xhc3MoIm1mcC1sb2FkaW5nIiksIHQuaW1nSGlkZGVuID0gITEpKTsKICAgICAgfSwKICAgICAgZmluZEltYWdlU2l6ZTogZnVuY3Rpb24gZmluZEltYWdlU2l6ZSh0KSB7CiAgICAgICAgdmFyIG4gPSAwLAogICAgICAgICAgICBpID0gdC5pbWdbMF0sCiAgICAgICAgICAgIG8gPSBmdW5jdGlvbiBvKHIpIHsKICAgICAgICAgIE4gJiYgY2xlYXJJbnRlcnZhbChOKSwgTiA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGkubmF0dXJhbFdpZHRoID4gMCA/IHZvaWQgZS5fb25JbWFnZUhhc1NpemUodCkgOiAobiA+IDIwMCAmJiBjbGVhckludGVydmFsKE4pLCBuKyssIHZvaWQgKDMgPT09IG4gPyBvKDEwKSA6IDQwID09PSBuID8gbyg1MCkgOiAxMDAgPT09IG4gJiYgbyg1MDApKSk7CiAgICAgICAgICB9LCByKTsKICAgICAgICB9OwoKICAgICAgICBvKDEpOwogICAgICB9LAogICAgICBnZXRJbWFnZTogZnVuY3Rpb24gZ2V0SW1hZ2UobiwgaSkgewogICAgICAgIHZhciBvID0gMCwKICAgICAgICAgICAgciA9IGZ1bmN0aW9uIHIoKSB7CiAgICAgICAgICBuICYmIChuLmltZ1swXS5jb21wbGV0ZSA/IChuLmltZy5vZmYoIi5tZnBsb2FkZXIiKSwgbiA9PT0gZS5jdXJySXRlbSAmJiAoZS5fb25JbWFnZUhhc1NpemUobiksIGUudXBkYXRlU3RhdHVzKCJyZWFkeSIpKSwgbi5oYXNTaXplID0gITAsIG4ubG9hZGVkID0gITAsIFMoIkltYWdlTG9hZENvbXBsZXRlIikpIDogKG8rKywgMjAwID4gbyA/IHNldFRpbWVvdXQociwgMTAwKSA6IHMoKSkpOwogICAgICAgIH0sCiAgICAgICAgICAgIHMgPSBmdW5jdGlvbiBzKCkgewogICAgICAgICAgbiAmJiAobi5pbWcub2ZmKCIubWZwbG9hZGVyIiksIG4gPT09IGUuY3Vyckl0ZW0gJiYgKGUuX29uSW1hZ2VIYXNTaXplKG4pLCBlLnVwZGF0ZVN0YXR1cygiZXJyb3IiLCBhLnRFcnJvci5yZXBsYWNlKCIldXJsJSIsIG4uc3JjKSkpLCBuLmhhc1NpemUgPSAhMCwgbi5sb2FkZWQgPSAhMCwgbi5sb2FkRXJyb3IgPSAhMCk7CiAgICAgICAgfSwKICAgICAgICAgICAgYSA9IGUuc3QuaW1hZ2UsCiAgICAgICAgICAgIHUgPSBpLmZpbmQoIi5tZnAtaW1nIik7CgogICAgICAgIGlmICh1Lmxlbmd0aCkgewogICAgICAgICAgdmFyIGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgICAgICAgIGwuY2xhc3NOYW1lID0gIm1mcC1pbWciLCBuLmVsICYmIG4uZWwuZmluZCgiaW1nIikubGVuZ3RoICYmIChsLmFsdCA9IG4uZWwuZmluZCgiaW1nIikuYXR0cigiYWx0IikpLCBuLmltZyA9IHQobCkub24oImxvYWQubWZwbG9hZGVyIiwgcikub24oImVycm9yLm1mcGxvYWRlciIsIHMpLCBsLnNyYyA9IG4uc3JjLCB1LmlzKCJpbWciKSAmJiAobi5pbWcgPSBuLmltZy5jbG9uZSgpKSwgbCA9IG4uaW1nWzBdLCBsLm5hdHVyYWxXaWR0aCA+IDAgPyBuLmhhc1NpemUgPSAhMCA6IGwud2lkdGggfHwgKG4uaGFzU2l6ZSA9ICExKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBlLl9wYXJzZU1hcmt1cChpLCB7CiAgICAgICAgICB0aXRsZTogaihuKSwKICAgICAgICAgIGltZ19yZXBsYWNlV2l0aDogbi5pbWcKICAgICAgICB9LCBuKSwgZS5yZXNpemVJbWFnZSgpLCBuLmhhc1NpemUgPyAoTiAmJiBjbGVhckludGVydmFsKE4pLCBuLmxvYWRFcnJvciA/IChpLmFkZENsYXNzKCJtZnAtbG9hZGluZyIpLCBlLnVwZGF0ZVN0YXR1cygiZXJyb3IiLCBhLnRFcnJvci5yZXBsYWNlKCIldXJsJSIsIG4uc3JjKSkpIDogKGkucmVtb3ZlQ2xhc3MoIm1mcC1sb2FkaW5nIiksIGUudXBkYXRlU3RhdHVzKCJyZWFkeSIpKSwgaSkgOiAoZS51cGRhdGVTdGF0dXMoImxvYWRpbmciKSwgbi5sb2FkaW5nID0gITAsIG4uaGFzU2l6ZSB8fCAobi5pbWdIaWRkZW4gPSAhMCwgaS5hZGRDbGFzcygibWZwLWxvYWRpbmciKSwgZS5maW5kSW1hZ2VTaXplKG4pKSwgaSk7CiAgICAgIH0KICAgIH0KICB9KTsKCiAgdmFyIFcsCiAgICAgIFIgPSBmdW5jdGlvbiBSKCkgewogICAgcmV0dXJuIHZvaWQgMCA9PT0gVyAmJiAoVyA9IHZvaWQgMCAhPT0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLnN0eWxlLk1velRyYW5zZm9ybSksIFc7CiAgfTsKCiAgdC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKCJ6b29tIiwgewogICAgb3B0aW9uczogewogICAgICBlbmFibGVkOiAhMSwKICAgICAgZWFzaW5nOiAiZWFzZS1pbi1vdXQiLAogICAgICBkdXJhdGlvbjogMzAwLAogICAgICBvcGVuZXI6IGZ1bmN0aW9uIG9wZW5lcih0KSB7CiAgICAgICAgcmV0dXJuIHQuaXMoImltZyIpID8gdCA6IHQuZmluZCgiaW1nIik7CiAgICAgIH0KICAgIH0sCiAgICBwcm90bzogewogICAgICBpbml0Wm9vbTogZnVuY3Rpb24gaW5pdFpvb20oKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBlLnN0Lnpvb20sCiAgICAgICAgICAgIGkgPSAiLnpvb20iOwoKICAgICAgICBpZiAobi5lbmFibGVkICYmIGUuc3VwcG9ydHNUcmFuc2l0aW9uKSB7CiAgICAgICAgICB2YXIgbywKICAgICAgICAgICAgICByLAogICAgICAgICAgICAgIHMgPSBuLmR1cmF0aW9uLAogICAgICAgICAgICAgIGwgPSBmdW5jdGlvbiBsKHQpIHsKICAgICAgICAgICAgdmFyIGUgPSB0LmNsb25lKCkucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVBdHRyKCJjbGFzcyIpLmFkZENsYXNzKCJtZnAtYW5pbWF0ZWQtaW1hZ2UiKSwKICAgICAgICAgICAgICAgIGkgPSAiYWxsICIgKyBuLmR1cmF0aW9uIC8gMWUzICsgInMgIiArIG4uZWFzaW5nLAogICAgICAgICAgICAgICAgbyA9IHsKICAgICAgICAgICAgICBwb3NpdGlvbjogImZpeGVkIiwKICAgICAgICAgICAgICB6SW5kZXg6IDk5OTksCiAgICAgICAgICAgICAgbGVmdDogMCwKICAgICAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICAgICAgIi13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eSI6ICJoaWRkZW4iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByID0gInRyYW5zaXRpb24iOwogICAgICAgICAgICByZXR1cm4gb1siLXdlYmtpdC0iICsgcl0gPSBvWyItbW96LSIgKyByXSA9IG9bIi1vLSIgKyByXSA9IG9bcl0gPSBpLCBlLmNzcyhvKSwgZTsKICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYyA9IGZ1bmN0aW9uIGMoKSB7CiAgICAgICAgICAgIGUuY29udGVudC5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgICAgfTsKCiAgICAgICAgICBFKCJCdWlsZENvbnRyb2xzIiArIGksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGUuX2FsbG93Wm9vbSgpKSB7CiAgICAgICAgICAgICAgaWYgKGNsZWFyVGltZW91dChvKSwgZS5jb250ZW50LmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKSwgdCA9IGUuX2dldEl0ZW1Ub1pvb20oKSwgIXQpIHJldHVybiB2b2lkIGMoKTsKICAgICAgICAgICAgICByID0gbCh0KSwgci5jc3MoZS5fZ2V0T2Zmc2V0KCkpLCBlLndyYXAuYXBwZW5kKHIpLCBvID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByLmNzcyhlLl9nZXRPZmZzZXQoITApKSwgbyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjKCksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHIucmVtb3ZlKCksIHQgPSByID0gbnVsbCwgUygiWm9vbUFuaW1hdGlvbkVuZGVkIik7CiAgICAgICAgICAgICAgICAgIH0sIDE2KTsKICAgICAgICAgICAgICAgIH0sIHMpOwogICAgICAgICAgICAgIH0sIDE2KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSksIEUodSArIGksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGUuX2FsbG93Wm9vbSgpKSB7CiAgICAgICAgICAgICAgaWYgKGNsZWFyVGltZW91dChvKSwgZS5zdC5yZW1vdmFsRGVsYXkgPSBzLCAhdCkgewogICAgICAgICAgICAgICAgaWYgKHQgPSBlLl9nZXRJdGVtVG9ab29tKCksICF0KSByZXR1cm47CiAgICAgICAgICAgICAgICByID0gbCh0KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHIuY3NzKGUuX2dldE9mZnNldCghMCkpLCBlLndyYXAuYXBwZW5kKHIpLCBlLmNvbnRlbnQuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHIuY3NzKGUuX2dldE9mZnNldCgpKTsKICAgICAgICAgICAgICB9LCAxNik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCBFKGEgKyBpLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGUuX2FsbG93Wm9vbSgpICYmIChjKCksIHIgJiYgci5yZW1vdmUoKSwgdCA9IG51bGwpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfYWxsb3dab29tOiBmdW5jdGlvbiBfYWxsb3dab29tKCkgewogICAgICAgIHJldHVybiAiaW1hZ2UiID09PSBlLmN1cnJJdGVtLnR5cGU7CiAgICAgIH0sCiAgICAgIF9nZXRJdGVtVG9ab29tOiBmdW5jdGlvbiBfZ2V0SXRlbVRvWm9vbSgpIHsKICAgICAgICByZXR1cm4gZS5jdXJySXRlbS5oYXNTaXplID8gZS5jdXJySXRlbS5pbWcgOiAhMTsKICAgICAgfSwKICAgICAgX2dldE9mZnNldDogZnVuY3Rpb24gX2dldE9mZnNldChuKSB7CiAgICAgICAgdmFyIGk7CiAgICAgICAgaSA9IG4gPyBlLmN1cnJJdGVtLmltZyA6IGUuc3Quem9vbS5vcGVuZXIoZS5jdXJySXRlbS5lbCB8fCBlLmN1cnJJdGVtKTsKICAgICAgICB2YXIgbyA9IGkub2Zmc2V0KCksCiAgICAgICAgICAgIHIgPSBwYXJzZUludChpLmNzcygicGFkZGluZy10b3AiKSwgMTApLAogICAgICAgICAgICBzID0gcGFyc2VJbnQoaS5jc3MoInBhZGRpbmctYm90dG9tIiksIDEwKTsKICAgICAgICBvLnRvcCAtPSB0KHdpbmRvdykuc2Nyb2xsVG9wKCkgLSByOwogICAgICAgIHZhciBhID0gewogICAgICAgICAgd2lkdGg6IGkud2lkdGgoKSwKICAgICAgICAgIGhlaWdodDogKGIgPyBpLmlubmVySGVpZ2h0KCkgOiBpWzBdLm9mZnNldEhlaWdodCkgLSBzIC0gcgogICAgICAgIH07CiAgICAgICAgcmV0dXJuIFIoKSA/IGFbIi1tb3otdHJhbnNmb3JtIl0gPSBhLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoIiArIG8ubGVmdCArICJweCwiICsgby50b3AgKyAicHgpIiA6IChhLmxlZnQgPSBvLmxlZnQsIGEudG9wID0gby50b3ApLCBhOwogICAgICB9CiAgICB9CiAgfSk7CgogIHZhciBGID0gImlmcmFtZSIsCiAgICAgIHEgPSAiLy9hYm91dDpibGFuayIsCiAgICAgIEQgPSBmdW5jdGlvbiBEKHQpIHsKICAgIGlmIChlLmN1cnJUZW1wbGF0ZVtGXSkgewogICAgICB2YXIgbiA9IGUuY3VyclRlbXBsYXRlW0ZdLmZpbmQoImlmcmFtZSIpOwogICAgICBuLmxlbmd0aCAmJiAodCB8fCAoblswXS5zcmMgPSBxKSwgZS5pc0lFOCAmJiBuLmNzcygiZGlzcGxheSIsIHQgPyAiYmxvY2siIDogIm5vbmUiKSk7CiAgICB9CiAgfTsKCiAgdC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKEYsIHsKICAgIG9wdGlvbnM6IHsKICAgICAgbWFya3VwOiAnPGRpdiBjbGFzcz0ibWZwLWlmcmFtZS1zY2FsZXIiPjxkaXYgY2xhc3M9Im1mcC1jbG9zZSI+PC9kaXY+PGlmcmFtZSBjbGFzcz0ibWZwLWlmcmFtZSIgc3JjPSIvL2Fib3V0OmJsYW5rIiBmcmFtZWJvcmRlcj0iMCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPjwvZGl2PicsCiAgICAgIHNyY0FjdGlvbjogImlmcmFtZV9zcmMiLAogICAgICBwYXR0ZXJuczogewogICAgICAgIHlvdXR1YmU6IHsKICAgICAgICAgIGluZGV4OiAieW91dHViZS5jb20iLAogICAgICAgICAgaWQ6ICJ2PSIsCiAgICAgICAgICBzcmM6ICIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8laWQlP2F1dG9wbGF5PTEiCiAgICAgICAgfSwKICAgICAgICB2aW1lbzogewogICAgICAgICAgaW5kZXg6ICJ2aW1lby5jb20vIiwKICAgICAgICAgIGlkOiAiLyIsCiAgICAgICAgICBzcmM6ICIvL3BsYXllci52aW1lby5jb20vdmlkZW8vJWlkJT9hdXRvcGxheT0xIgogICAgICAgIH0sCiAgICAgICAgZ21hcHM6IHsKICAgICAgICAgIGluZGV4OiAiLy9tYXBzLmdvb2dsZS4iLAogICAgICAgICAgc3JjOiAiJWlkJSZvdXRwdXQ9ZW1iZWQiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcHJvdG86IHsKICAgICAgaW5pdElmcmFtZTogZnVuY3Rpb24gaW5pdElmcmFtZSgpIHsKICAgICAgICBlLnR5cGVzLnB1c2goRiksIEUoIkJlZm9yZUNoYW5nZSIsIGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAgICAgICBlICE9PSBuICYmIChlID09PSBGID8gRCgpIDogbiA9PT0gRiAmJiBEKCEwKSk7CiAgICAgICAgfSksIEUoYSArICIuIiArIEYsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEQoKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0SWZyYW1lOiBmdW5jdGlvbiBnZXRJZnJhbWUobiwgaSkgewogICAgICAgIHZhciBvID0gbi5zcmMsCiAgICAgICAgICAgIHIgPSBlLnN0LmlmcmFtZTsKICAgICAgICB0LmVhY2goci5wYXR0ZXJucywgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG8uaW5kZXhPZih0aGlzLmluZGV4KSA+IC0xID8gKHRoaXMuaWQgJiYgKG8gPSAic3RyaW5nIiA9PSB0eXBlb2YgdGhpcy5pZCA/IG8uc3Vic3RyKG8ubGFzdEluZGV4T2YodGhpcy5pZCkgKyB0aGlzLmlkLmxlbmd0aCwgby5sZW5ndGgpIDogdGhpcy5pZC5jYWxsKHRoaXMsIG8pKSwgbyA9IHRoaXMuc3JjLnJlcGxhY2UoIiVpZCUiLCBvKSwgITEpIDogdm9pZCAwOwogICAgICAgIH0pOwogICAgICAgIHZhciBzID0ge307CiAgICAgICAgcmV0dXJuIHIuc3JjQWN0aW9uICYmIChzW3Iuc3JjQWN0aW9uXSA9IG8pLCBlLl9wYXJzZU1hcmt1cChpLCBzLCBuKSwgZS51cGRhdGVTdGF0dXMoInJlYWR5IiksIGk7CiAgICAgIH0KICAgIH0KICB9KTsKCiAgdmFyICQgPSBmdW5jdGlvbiAkKHQpIHsKICAgIHZhciBuID0gZS5pdGVtcy5sZW5ndGg7CiAgICByZXR1cm4gdCA+IG4gLSAxID8gdCAtIG4gOiAwID4gdCA/IG4gKyB0IDogdDsKICB9LAogICAgICBRID0gZnVuY3Rpb24gUSh0LCBlLCBuKSB7CiAgICByZXR1cm4gdC5yZXBsYWNlKC8lY3VyciUvZ2ksIGUgKyAxKS5yZXBsYWNlKC8ldG90YWwlL2dpLCBuKTsKICB9OwoKICB0Lm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoImdhbGxlcnkiLCB7CiAgICBvcHRpb25zOiB7CiAgICAgIGVuYWJsZWQ6ICExLAogICAgICBhcnJvd01hcmt1cDogJzxidXR0b24gdGl0bGU9IiV0aXRsZSUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9Im1mcC1hcnJvdyBtZnAtYXJyb3ctJWRpciUiPjwvYnV0dG9uPicsCiAgICAgIHByZWxvYWQ6IFswLCAyXSwKICAgICAgbmF2aWdhdGVCeUltZ0NsaWNrOiAhMCwKICAgICAgYXJyb3dzOiAhMCwKICAgICAgdFByZXY6ICJQcmV2aW91cyAoTGVmdCBhcnJvdyBrZXkpIiwKICAgICAgdE5leHQ6ICJOZXh0IChSaWdodCBhcnJvdyBrZXkpIiwKICAgICAgdENvdW50ZXI6ICIlY3VyciUgb2YgJXRvdGFsJSIKICAgIH0sCiAgICBwcm90bzogewogICAgICBpbml0R2FsbGVyeTogZnVuY3Rpb24gaW5pdEdhbGxlcnkoKSB7CiAgICAgICAgdmFyIG4gPSBlLnN0LmdhbGxlcnksCiAgICAgICAgICAgIG8gPSAiLm1mcC1nYWxsZXJ5IiwKICAgICAgICAgICAgcyA9IEJvb2xlYW4odC5mbi5tZnBGYXN0Q2xpY2spOwogICAgICAgIHJldHVybiBlLmRpcmVjdGlvbiA9ICEwLCBuICYmIG4uZW5hYmxlZCA/IChyICs9ICIgbWZwLWdhbGxlcnkiLCBFKGggKyBvLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBuLm5hdmlnYXRlQnlJbWdDbGljayAmJiBlLndyYXAub24oImNsaWNrIiArIG8sICIubWZwLWltZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGUuaXRlbXMubGVuZ3RoID4gMSA/IChlLm5leHQoKSwgITEpIDogdm9pZCAwOwogICAgICAgICAgfSksIGkub24oImtleWRvd24iICsgbywgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgMzcgPT09IHQua2V5Q29kZSA/IGUucHJldigpIDogMzkgPT09IHQua2V5Q29kZSAmJiBlLm5leHQoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLCBFKCJVcGRhdGVTdGF0dXMiICsgbywgZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICAgIG4udGV4dCAmJiAobi50ZXh0ID0gUShuLnRleHQsIGUuY3Vyckl0ZW0uaW5kZXgsIGUuaXRlbXMubGVuZ3RoKSk7CiAgICAgICAgfSksIEUoZCArIG8sIGZ1bmN0aW9uICh0LCBpLCBvLCByKSB7CiAgICAgICAgICB2YXIgcyA9IGUuaXRlbXMubGVuZ3RoOwogICAgICAgICAgby5jb3VudGVyID0gcyA+IDEgPyBRKG4udENvdW50ZXIsIHIuaW5kZXgsIHMpIDogIiI7CiAgICAgICAgfSksIEUoIkJ1aWxkQ29udHJvbHMiICsgbywgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGUuaXRlbXMubGVuZ3RoID4gMSAmJiBuLmFycm93cyAmJiAhZS5hcnJvd0xlZnQpIHsKICAgICAgICAgICAgdmFyIGkgPSBuLmFycm93TWFya3VwLAogICAgICAgICAgICAgICAgbyA9IGUuYXJyb3dMZWZ0ID0gdChpLnJlcGxhY2UoLyV0aXRsZSUvZ2ksIG4udFByZXYpLnJlcGxhY2UoLyVkaXIlL2dpLCAibGVmdCIpKS5hZGRDbGFzcyh5KSwKICAgICAgICAgICAgICAgIHIgPSBlLmFycm93UmlnaHQgPSB0KGkucmVwbGFjZSgvJXRpdGxlJS9naSwgbi50TmV4dCkucmVwbGFjZSgvJWRpciUvZ2ksICJyaWdodCIpKS5hZGRDbGFzcyh5KSwKICAgICAgICAgICAgICAgIGEgPSBzID8gIm1mcEZhc3RDbGljayIgOiAiY2xpY2siOwogICAgICAgICAgICBvW2FdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBlLnByZXYoKTsKICAgICAgICAgICAgfSksIHJbYV0oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGUubmV4dCgpOwogICAgICAgICAgICB9KSwgZS5pc0lFNyAmJiAoQygiYiIsIG9bMF0sICExLCAhMCksIEMoImEiLCBvWzBdLCAhMSwgITApLCBDKCJiIiwgclswXSwgITEsICEwKSwgQygiYSIsIHJbMF0sICExLCAhMCkpLCBlLmNvbnRhaW5lci5hcHBlbmQoby5hZGQocikpOwogICAgICAgICAgfQogICAgICAgIH0pLCBFKGYgKyBvLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBlLl9wcmVsb2FkVGltZW91dCAmJiBjbGVhclRpbWVvdXQoZS5fcHJlbG9hZFRpbWVvdXQpLCBlLl9wcmVsb2FkVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBlLnByZWxvYWROZWFyYnlJbWFnZXMoKSwgZS5fcHJlbG9hZFRpbWVvdXQgPSBudWxsOwogICAgICAgICAgfSwgMTYpOwogICAgICAgIH0pLCB2b2lkIEUoYSArIG8sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGkub2ZmKG8pLCBlLndyYXAub2ZmKCJjbGljayIgKyBvKSwgZS5hcnJvd0xlZnQgJiYgcyAmJiBlLmFycm93TGVmdC5hZGQoZS5hcnJvd1JpZ2h0KS5kZXN0cm95TWZwRmFzdENsaWNrKCksIGUuYXJyb3dSaWdodCA9IGUuYXJyb3dMZWZ0ID0gbnVsbDsKICAgICAgICB9KSkgOiAhMTsKICAgICAgfSwKICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgICBlLmRpcmVjdGlvbiA9ICEwLCBlLmluZGV4ID0gJChlLmluZGV4ICsgMSksIGUudXBkYXRlSXRlbUhUTUwoKTsKICAgICAgfSwKICAgICAgcHJldjogZnVuY3Rpb24gcHJldigpIHsKICAgICAgICBlLmRpcmVjdGlvbiA9ICExLCBlLmluZGV4ID0gJChlLmluZGV4IC0gMSksIGUudXBkYXRlSXRlbUhUTUwoKTsKICAgICAgfSwKICAgICAgZ29UbzogZnVuY3Rpb24gZ29Ubyh0KSB7CiAgICAgICAgZS5kaXJlY3Rpb24gPSB0ID49IGUuaW5kZXgsIGUuaW5kZXggPSB0LCBlLnVwZGF0ZUl0ZW1IVE1MKCk7CiAgICAgIH0sCiAgICAgIHByZWxvYWROZWFyYnlJbWFnZXM6IGZ1bmN0aW9uIHByZWxvYWROZWFyYnlJbWFnZXMoKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBlLnN0LmdhbGxlcnkucHJlbG9hZCwKICAgICAgICAgICAgaSA9IE1hdGgubWluKG5bMF0sIGUuaXRlbXMubGVuZ3RoKSwKICAgICAgICAgICAgbyA9IE1hdGgubWluKG5bMV0sIGUuaXRlbXMubGVuZ3RoKTsKCiAgICAgICAgZm9yICh0ID0gMTsgdCA8PSAoZS5kaXJlY3Rpb24gPyBvIDogaSk7IHQrKykgewogICAgICAgICAgZS5fcHJlbG9hZEl0ZW0oZS5pbmRleCArIHQpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh0ID0gMTsgdCA8PSAoZS5kaXJlY3Rpb24gPyBpIDogbyk7IHQrKykgewogICAgICAgICAgZS5fcHJlbG9hZEl0ZW0oZS5pbmRleCAtIHQpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgX3ByZWxvYWRJdGVtOiBmdW5jdGlvbiBfcHJlbG9hZEl0ZW0obikgewogICAgICAgIGlmIChuID0gJChuKSwgIWUuaXRlbXNbbl0ucHJlbG9hZGVkKSB7CiAgICAgICAgICB2YXIgaSA9IGUuaXRlbXNbbl07CiAgICAgICAgICBpLnBhcnNlZCB8fCAoaSA9IGUucGFyc2VFbChuKSksIFMoIkxhenlMb2FkIiwgaSksICJpbWFnZSIgPT09IGkudHlwZSAmJiAoaS5pbWcgPSB0KCc8aW1nIGNsYXNzPSJtZnAtaW1nIiAvPicpLm9uKCJsb2FkLm1mcGxvYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaS5oYXNTaXplID0gITA7CiAgICAgICAgICB9KS5vbigiZXJyb3IubWZwbG9hZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpLmhhc1NpemUgPSAhMCwgaS5sb2FkRXJyb3IgPSAhMCwgUygiTGF6eUxvYWRFcnJvciIsIGkpOwogICAgICAgICAgfSkuYXR0cigic3JjIiwgaS5zcmMpKSwgaS5wcmVsb2FkZWQgPSAhMDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKICB2YXIgVSA9ICJyZXRpbmEiOwogIHQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZShVLCB7CiAgICBvcHRpb25zOiB7CiAgICAgIHJlcGxhY2VTcmM6IGZ1bmN0aW9uIHJlcGxhY2VTcmModCkgewogICAgICAgIHJldHVybiB0LnNyYy5yZXBsYWNlKC9cLlx3KyQvLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuICJAMngiICsgdDsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcmF0aW86IDEKICAgIH0sCiAgICBwcm90bzogewogICAgICBpbml0UmV0aW5hOiBmdW5jdGlvbiBpbml0UmV0aW5hKCkgewogICAgICAgIGlmICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEpIHsKICAgICAgICAgIHZhciB0ID0gZS5zdC5yZXRpbmEsCiAgICAgICAgICAgICAgbiA9IHQucmF0aW87CiAgICAgICAgICBuID0gaXNOYU4obikgPyBuKCkgOiBuLCBuID4gMSAmJiAoRSgiSW1hZ2VIYXNTaXplLiIgKyBVLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICBlLmltZy5jc3MoewogICAgICAgICAgICAgICJtYXgtd2lkdGgiOiBlLmltZ1swXS5uYXR1cmFsV2lkdGggLyBuLAogICAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSwgRSgiRWxlbWVudFBhcnNlLiIgKyBVLCBmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgICBpLnNyYyA9IHQucmVwbGFjZVNyYyhpLCBuKTsKICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KSwgZnVuY3Rpb24gKCkgewogICAgdmFyIGUgPSAxZTMsCiAgICAgICAgbiA9ICJvbnRvdWNoc3RhcnQiIGluIHdpbmRvdywKICAgICAgICBpID0gZnVuY3Rpb24gaSgpIHsKICAgICAgeC5vZmYoInRvdWNobW92ZSIgKyByICsgIiB0b3VjaGVuZCIgKyByKTsKICAgIH0sCiAgICAgICAgbyA9ICJtZnBGYXN0Q2xpY2siLAogICAgICAgIHIgPSAiLiIgKyBvOwoKICAgIHQuZm4ubWZwRmFzdENsaWNrID0gZnVuY3Rpb24gKG8pIHsKICAgICAgcmV0dXJuIHQodGhpcykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHMsCiAgICAgICAgICAgIGEgPSB0KHRoaXMpOwoKICAgICAgICBpZiAobikgewogICAgICAgICAgdmFyIHUsIGwsIGMsIGQsIGgsIGY7CiAgICAgICAgICBhLm9uKCJ0b3VjaHN0YXJ0IiArIHIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIGQgPSAhMSwgZiA9IDEsIGggPSB0Lm9yaWdpbmFsRXZlbnQgPyB0Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSA6IHQudG91Y2hlc1swXSwgbCA9IGguY2xpZW50WCwgYyA9IGguY2xpZW50WSwgeC5vbigidG91Y2htb3ZlIiArIHIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgaCA9IHQub3JpZ2luYWxFdmVudCA/IHQub3JpZ2luYWxFdmVudC50b3VjaGVzIDogdC50b3VjaGVzLCBmID0gaC5sZW5ndGgsIGggPSBoWzBdLCAoTWF0aC5hYnMoaC5jbGllbnRYIC0gbCkgPiAxMCB8fCBNYXRoLmFicyhoLmNsaWVudFkgLSBjKSA+IDEwKSAmJiAoZCA9ICEwLCBpKCkpOwogICAgICAgICAgICB9KS5vbigidG91Y2hlbmQiICsgciwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICBpKCksIGQgfHwgZiA+IDEgfHwgKHMgPSAhMCwgdC5wcmV2ZW50RGVmYXVsdCgpLCBjbGVhclRpbWVvdXQodSksIHUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHMgPSAhMTsKICAgICAgICAgICAgICB9LCBlKSwgbygpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGEub24oImNsaWNrIiArIHIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHMgfHwgbygpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sIHQuZm4uZGVzdHJveU1mcEZhc3RDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgdCh0aGlzKS5vZmYoInRvdWNoc3RhcnQiICsgciArICIgY2xpY2siICsgciksIG4gJiYgeC5vZmYoInRvdWNobW92ZSIgKyByICsgIiB0b3VjaGVuZCIgKyByKTsKICAgIH07CiAgfSgpLCBrKCk7Cn0pLCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiB0KCkgewogICAgdmFyIHQgPSAvTVNJRSAoWzAtOS5dKykvLmV4ZWMod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpOwogICAgaWYgKG51bGwgPT09IHQpIHJldHVybiBudWxsOwogICAgdmFyIGUgPSBwYXJzZUludCh0WzFdLCAxMCksCiAgICAgICAgbiA9IE1hdGguZmxvb3IoZSk7CiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIGUoKSB7CiAgICB2YXIgdCA9IG5ldyBGdW5jdGlvbigiLypAY2Nfb24gcmV0dXJuIEBfanNjcmlwdF92ZXJzaW9uOyBAKi8iKSgpOwogICAgcmV0dXJuIHZvaWQgMCA9PT0gdCA/IDExIDogOSA+IHQgPyA4IDogdDsKICB9CgogIHZhciBuID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7CgogIGlmICghKG4uaW5kZXhPZigiT3BlcmEiKSA+IC0xIHx8IG4uaW5kZXhPZigiUHJlc3RvIikgPiAtMSkpIHsKICAgIHZhciBpID0gdCgpOwoKICAgIGlmIChudWxsICE9PSBpKSB7CiAgICAgIHZhciBvID0gZSgpOwogICAgICBpICE9PSBvICYmIHdpbmRvdy5hbGVydCgiV0FSTklORzogWW91IGFwcGVhciB0byBiZSB1c2luZyBJRSIgKyBvICsgIiBpbiBJRSIgKyBpICsgIiBlbXVsYXRpb24gbW9kZS5cbklFIGVtdWxhdGlvbiBtb2RlcyBjYW4gYmVoYXZlIHNpZ25pZmljYW50bHkgZGlmZmVyZW50bHkgZnJvbSBBQ1RVQUwgb2xkZXIgdmVyc2lvbnMgb2YgSUUuXG5QTEVBU0UgRE9OJ1QgRklMRSBCT09UU1RSQVAgQlVHUyBiYXNlZCBvbiB0ZXN0aW5nIGluIElFIGVtdWxhdGlvbiBtb2RlcyEiKTsKICAgIH0KICB9Cn0oKSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0lFTW9iaWxlXC8xMFwuMC8pKSB7CiAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICB0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJALW1zLXZpZXdwb3J0e3dpZHRoOmF1dG8haW1wb3J0YW50fSIpKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpLmFwcGVuZENoaWxkKHQpOwogIH0KfSgpOwp2YXIgSG9sZGVyID0gSG9sZGVyIHx8IHt9OwohZnVuY3Rpb24gKHQsIGUpIHsKICBmdW5jdGlvbiBuKHQsIGUpIHsKICAgIHZhciBuID0gImNvbXBsZXRlIiwKICAgICAgICBpID0gInJlYWR5c3RhdGVjaGFuZ2UiLAogICAgICAgIG8gPSAhMSwKICAgICAgICByID0gbywKICAgICAgICBzID0gITAsCiAgICAgICAgYSA9IHQuZG9jdW1lbnQsCiAgICAgICAgdSA9IGEuZG9jdW1lbnRFbGVtZW50LAogICAgICAgIGwgPSBhLmFkZEV2ZW50TGlzdGVuZXIgPyAiYWRkRXZlbnRMaXN0ZW5lciIgOiAiYXR0YWNoRXZlbnQiLAogICAgICAgIGMgPSBhLmFkZEV2ZW50TGlzdGVuZXIgPyAicmVtb3ZlRXZlbnRMaXN0ZW5lciIgOiAiZGV0YWNoRXZlbnQiLAogICAgICAgIGQgPSBhLmFkZEV2ZW50TGlzdGVuZXIgPyAiIiA6ICJvbiIsCiAgICAgICAgaCA9IGZ1bmN0aW9uIGgocykgewogICAgICAocy50eXBlICE9IGkgfHwgYS5yZWFkeVN0YXRlID09IG4pICYmICgoImxvYWQiID09IHMudHlwZSA/IHQgOiBhKVtjXShkICsgcy50eXBlLCBoLCBvKSwgIXIgJiYgKHIgPSAhMCkgJiYgZS5jYWxsKHQsIG51bGwpKTsKICAgIH0sCiAgICAgICAgZiA9IGZ1bmN0aW9uIGYoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdS5kb1Njcm9sbCgibGVmdCIpOwogICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgcmV0dXJuIHZvaWQgc2V0VGltZW91dChmLCA1MCk7CiAgICAgIH0KCiAgICAgIGgoInBvbGwiKTsKICAgIH07CgogICAgaWYgKGEucmVhZHlTdGF0ZSA9PSBuKSBlLmNhbGwodCwgImxhenkiKTtlbHNlIHsKICAgICAgaWYgKGEuY3JlYXRlRXZlbnRPYmplY3QgJiYgdS5kb1Njcm9sbCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBzID0gIXQuZnJhbWVFbGVtZW50OwogICAgICAgIH0gY2F0Y2ggKHApIHt9CgogICAgICAgIHMgJiYgZigpOwogICAgICB9CgogICAgICBhW2xdKGQgKyAiRE9NQ29udGVudExvYWRlZCIsIGgsIG8pLCBhW2xdKGQgKyBpLCBoLCBvKSwgdFtsXShkICsgImxvYWQiLCBoLCBvKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGkodCkgewogICAgdCA9IHQubWF0Y2goL14oXFcpPyguKikvKTsKICAgIHZhciBlID0gZG9jdW1lbnRbImdldEVsZW1lbnQiICsgKHRbMV0gPyAiIyIgPT0gdFsxXSA/ICJCeUlkIiA6ICJzQnlDbGFzc05hbWUiIDogInNCeVRhZ05hbWUiKV0odFsyXSksCiAgICAgICAgbiA9IFtdOwogICAgcmV0dXJuIG51bGwgIT09IGUgJiYgKG4gPSBlLmxlbmd0aCA/IGUgOiAwID09PSBlLmxlbmd0aCA/IGUgOiBbZV0pLCBuOwogIH0KCiAgZnVuY3Rpb24gbyh0LCBlKSB7CiAgICB2YXIgbiA9IHt9OwoKICAgIGZvciAodmFyIGkgaW4gdCkgewogICAgICB0Lmhhc093blByb3BlcnR5KGkpICYmIChuW2ldID0gdFtpXSk7CiAgICB9CgogICAgZm9yICh2YXIgaSBpbiBlKSB7CiAgICAgIGUuaGFzT3duUHJvcGVydHkoaSkgJiYgKG5baV0gPSBlW2ldKTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIHIodCwgZSwgbikgewogICAgZSA9IHBhcnNlSW50KGUsIDEwKSwgdCA9IHBhcnNlSW50KHQsIDEwKTsKICAgIHZhciBpID0gTWF0aC5tYXgoZSwgdCksCiAgICAgICAgbyA9IE1hdGgubWluKGUsIHQpLAogICAgICAgIHIgPSAxIC8gMTIsCiAgICAgICAgcyA9IE1hdGgubWluKC43NSAqIG8sIC43NSAqIGkgKiByKTsKICAgIHJldHVybiB7CiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1heChuLnNpemUsIHMpKQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHModCkgewogICAgdmFyIGUgPSB0LmN0eCwKICAgICAgICBuID0gdC5kaW1lbnNpb25zLAogICAgICAgIGkgPSB0LnRlbXBsYXRlLAogICAgICAgIG8gPSB0LnJhdGlvLAogICAgICAgIHMgPSB0LmhvbGRlciwKICAgICAgICBhID0gImxpdGVyYWwiID09IHMudGV4dG1vZGUsCiAgICAgICAgdSA9ICJleGFjdCIgPT0gcy50ZXh0bW9kZSwKICAgICAgICBsID0gcihuLndpZHRoLCBuLmhlaWdodCwgaSksCiAgICAgICAgYyA9IGwuaGVpZ2h0LAogICAgICAgIGQgPSBuLndpZHRoICogbywKICAgICAgICBoID0gbi5oZWlnaHQgKiBvLAogICAgICAgIHAgPSBpLmZvbnQgPyBpLmZvbnQgOiAic2Fucy1zZXJpZiI7CiAgICBmLndpZHRoID0gZCwgZi5oZWlnaHQgPSBoLCBlLnRleHRBbGlnbiA9ICJjZW50ZXIiLCBlLnRleHRCYXNlbGluZSA9ICJtaWRkbGUiLCBlLmZpbGxTdHlsZSA9IGkuYmFja2dyb3VuZCwgZS5maWxsUmVjdCgwLCAwLCBkLCBoKSwgZS5maWxsU3R5bGUgPSBpLmZvcmVncm91bmQsIGUuZm9udCA9ICJib2xkICIgKyBjICsgInB4ICIgKyBwOwogICAgdmFyIG0gPSBpLnRleHQgPyBpLnRleHQgOiBNYXRoLmZsb29yKG4ud2lkdGgpICsgIngiICsgTWF0aC5mbG9vcihuLmhlaWdodCk7CgogICAgaWYgKGEpIHsKICAgICAgdmFyIG4gPSBzLmRpbWVuc2lvbnM7CiAgICAgIG0gPSBuLndpZHRoICsgIngiICsgbi5oZWlnaHQ7CiAgICB9IGVsc2UgaWYgKHUgJiYgcy5leGFjdF9kaW1lbnNpb25zKSB7CiAgICAgIHZhciBuID0gcy5leGFjdF9kaW1lbnNpb25zOwogICAgICBtID0gTWF0aC5mbG9vcihuLndpZHRoKSArICJ4IiArIE1hdGguZmxvb3Iobi5oZWlnaHQpOwogICAgfQoKICAgIHZhciBnID0gZS5tZWFzdXJlVGV4dChtKS53aWR0aDsKICAgIHJldHVybiBnIC8gZCA+PSAuNzUgJiYgKGMgPSBNYXRoLmZsb29yKC43NSAqIGMgKiAoZCAvIGcpKSksIGUuZm9udCA9ICJib2xkICIgKyBjICogbyArICJweCAiICsgcCwgZS5maWxsVGV4dChtLCBkIC8gMiwgaCAvIDIsIGQpLCBmLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CiAgfQoKICBmdW5jdGlvbiBhKHQsIGUsIG4sIGkpIHsKICAgIHZhciByID0gbi5kaW1lbnNpb25zLAogICAgICAgIGEgPSBuLnRoZW1lLAogICAgICAgIHUgPSBuLnRleHQgPyBkZWNvZGVVUklDb21wb25lbnQobi50ZXh0KSA6IG4udGV4dCwKICAgICAgICBjID0gci53aWR0aCArICJ4IiArIHIuaGVpZ2h0OwogICAgYSA9IHUgPyBvKGEsIHsKICAgICAgdGV4dDogdQogICAgfSkgOiBhLCBhID0gbi5mb250ID8gbyhhLCB7CiAgICAgIGZvbnQ6IG4uZm9udAogICAgfSkgOiBhLCBlLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCBpKSwgbi50aGVtZSA9IGEsIGUuaG9sZGVyX2RhdGEgPSBuLCAiaW1hZ2UiID09IHQgPyAoZS5zZXRBdHRyaWJ1dGUoImFsdCIsIHUgPyB1IDogYS50ZXh0ID8gYS50ZXh0ICsgIiBbIiArIGMgKyAiXSIgOiBjKSwgKGggfHwgIW4uYXV0bykgJiYgKGUuc3R5bGUud2lkdGggPSByLndpZHRoICsgInB4IiwgZS5zdHlsZS5oZWlnaHQgPSByLmhlaWdodCArICJweCIpLCBoID8gZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBhLmJhY2tncm91bmQgOiAoZS5zZXRBdHRyaWJ1dGUoInNyYyIsIHMoewogICAgICBjdHg6IHYsCiAgICAgIGRpbWVuc2lvbnM6IHIsCiAgICAgIHRlbXBsYXRlOiBhLAogICAgICByYXRpbzogeSwKICAgICAgaG9sZGVyOiBuCiAgICB9KSksIG4udGV4dG1vZGUgJiYgImV4YWN0IiA9PSBuLnRleHRtb2RlICYmIChnLnB1c2goZSksIGwoZSkpKSkgOiAiYmFja2dyb3VuZCIgPT0gdCA/IGggfHwgKGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gInVybCgiICsgcyh7CiAgICAgIGN0eDogdiwKICAgICAgZGltZW5zaW9uczogciwKICAgICAgdGVtcGxhdGU6IGEsCiAgICAgIHJhdGlvOiB5LAogICAgICBob2xkZXI6IG4KICAgIH0pICsgIikiLCBlLnN0eWxlLmJhY2tncm91bmRTaXplID0gci53aWR0aCArICJweCAiICsgci5oZWlnaHQgKyAicHgiKSA6ICJmbHVpZCIgPT0gdCAmJiAoZS5zZXRBdHRyaWJ1dGUoImFsdCIsIHUgPyB1IDogYS50ZXh0ID8gYS50ZXh0ICsgIiBbIiArIGMgKyAiXSIgOiBjKSwgZS5zdHlsZS5oZWlnaHQgPSAiJSIgPT0gci5oZWlnaHQuc2xpY2UoLTEpID8gci5oZWlnaHQgOiByLmhlaWdodCArICJweCIsIGUuc3R5bGUud2lkdGggPSAiJSIgPT0gci53aWR0aC5zbGljZSgtMSkgPyByLndpZHRoIDogci53aWR0aCArICJweCIsICgiaW5saW5lIiA9PSBlLnN0eWxlLmRpc3BsYXkgfHwgIiIgPT09IGUuc3R5bGUuZGlzcGxheSB8fCAibm9uZSIgPT0gZS5zdHlsZS5kaXNwbGF5KSAmJiAoZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIiksIGggPyBlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGEuYmFja2dyb3VuZCA6IChnLnB1c2goZSksIGwoZSkpKTsKICB9CgogIGZ1bmN0aW9uIHUodCwgZSkgewogICAgdmFyIG4gPSB7CiAgICAgIGhlaWdodDogdC5jbGllbnRIZWlnaHQsCiAgICAgIHdpZHRoOiB0LmNsaWVudFdpZHRoCiAgICB9OwoKICAgIGlmICghbi5oZWlnaHQgJiYgIW4ud2lkdGgpIHsKICAgICAgaWYgKHQuaGFzQXR0cmlidXRlKCJkYXRhLWhvbGRlci1pbnZpc2libGUiKSkgdGhyb3cgbmV3IEVycm9yKCJIb2xkZXI6IHBsYWNlaG9sZGVyIGlzIG5vdCB2aXNpYmxlIik7CiAgICAgIHJldHVybiB0LnNldEF0dHJpYnV0ZSgiZGF0YS1ob2xkZXItaW52aXNpYmxlIiwgITApLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBlLmNhbGwodGhpcywgdCk7CiAgICAgIH0sIDEpLCBudWxsOwogICAgfQoKICAgIHJldHVybiB0LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1ob2xkZXItaW52aXNpYmxlIiksIG47CiAgfQoKICBmdW5jdGlvbiBsKHQpIHsKICAgIHZhciBlOwogICAgZSA9IG51bGwgPT0gdC5ub2RlVHlwZSA/IGcgOiBbdF07CgogICAgZm9yICh2YXIgbiBpbiBlKSB7CiAgICAgIGlmIChlLmhhc093blByb3BlcnR5KG4pKSB7CiAgICAgICAgdmFyIGkgPSBlW25dOwoKICAgICAgICBpZiAoaS5ob2xkZXJfZGF0YSkgewogICAgICAgICAgdmFyIG8gPSBpLmhvbGRlcl9kYXRhLAogICAgICAgICAgICAgIHIgPSB1KGksIGwpOwogICAgICAgICAgciAmJiAoby5mbHVpZCAmJiBpLnNldEF0dHJpYnV0ZSgic3JjIiwgcyh7CiAgICAgICAgICAgIGN0eDogdiwKICAgICAgICAgICAgZGltZW5zaW9uczogciwKICAgICAgICAgICAgdGVtcGxhdGU6IG8udGhlbWUsCiAgICAgICAgICAgIHJhdGlvOiB5LAogICAgICAgICAgICBob2xkZXI6IG8KICAgICAgICAgIH0pKSwgby50ZXh0bW9kZSAmJiAiZXhhY3QiID09IG8udGV4dG1vZGUgJiYgKG8uZXhhY3RfZGltZW5zaW9ucyA9IHIsIGkuc2V0QXR0cmlidXRlKCJzcmMiLCBzKHsKICAgICAgICAgICAgY3R4OiB2LAogICAgICAgICAgICBkaW1lbnNpb25zOiBvLmRpbWVuc2lvbnMsCiAgICAgICAgICAgIHRlbXBsYXRlOiBvLnRoZW1lLAogICAgICAgICAgICByYXRpbzogeSwKICAgICAgICAgICAgaG9sZGVyOiBvCiAgICAgICAgICB9KSkpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGMoZSwgbikgewogICAgdmFyIGkgPSB7CiAgICAgIHRoZW1lOiBvKHcudGhlbWVzLmdyYXksIHt9KQogICAgfSwKICAgICAgICByID0gITE7CgogICAgZm9yIChzbCA9IGUubGVuZ3RoLCBqID0gMDsgc2wgPiBqOyBqKyspIHsKICAgICAgdmFyIHMgPSBlW2pdOwogICAgICB0LmZsYWdzLmRpbWVuc2lvbnMubWF0Y2gocykgPyAociA9ICEwLCBpLmRpbWVuc2lvbnMgPSB0LmZsYWdzLmRpbWVuc2lvbnMub3V0cHV0KHMpKSA6IHQuZmxhZ3MuZmx1aWQubWF0Y2gocykgPyAociA9ICEwLCBpLmRpbWVuc2lvbnMgPSB0LmZsYWdzLmZsdWlkLm91dHB1dChzKSwgaS5mbHVpZCA9ICEwKSA6IHQuZmxhZ3MudGV4dG1vZGUubWF0Y2gocykgPyBpLnRleHRtb2RlID0gdC5mbGFncy50ZXh0bW9kZS5vdXRwdXQocykgOiB0LmZsYWdzLmNvbG9ycy5tYXRjaChzKSA/IGkudGhlbWUgPSB0LmZsYWdzLmNvbG9ycy5vdXRwdXQocykgOiBuLnRoZW1lc1tzXSA/IG4udGhlbWVzLmhhc093blByb3BlcnR5KHMpICYmIChpLnRoZW1lID0gbyhuLnRoZW1lc1tzXSwge30pKSA6IHQuZmxhZ3MuZm9udC5tYXRjaChzKSA/IGkuZm9udCA9IHQuZmxhZ3MuZm9udC5vdXRwdXQocykgOiB0LmZsYWdzLmF1dG8ubWF0Y2gocykgPyBpLmF1dG8gPSAhMCA6IHQuZmxhZ3MudGV4dC5tYXRjaChzKSAmJiAoaS50ZXh0ID0gdC5mbGFncy50ZXh0Lm91dHB1dChzKSk7CiAgICB9CgogICAgcmV0dXJuIHIgPyBpIDogITE7CiAgfQoKICB2YXIgZCA9ICExLAogICAgICBoID0gITEsCiAgICAgIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSwKICAgICAgcCA9IDEsCiAgICAgIG0gPSAxLAogICAgICBnID0gW107CiAgaWYgKGYuZ2V0Q29udGV4dCkgewogICAgaWYgKGYudG9EYXRhVVJMKCJpbWFnZS9wbmciKS5pbmRleE9mKCJkYXRhOmltYWdlL3BuZyIpIDwgMCkgaCA9ICEwO2Vsc2UgdmFyIHYgPSBmLmdldENvbnRleHQoIjJkIik7CiAgfSBlbHNlIGggPSAhMDsKICBoIHx8IChwID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSwgbSA9IHYud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCB2Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgdi5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgdi5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCB2LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSk7CiAgdmFyIHkgPSBwIC8gbSwKICAgICAgdyA9IHsKICAgIGRvbWFpbjogImhvbGRlci5qcyIsCiAgICBpbWFnZXM6ICJpbWciLAogICAgYmdub2RlczogIi5ob2xkZXJqcyIsCiAgICB0aGVtZXM6IHsKICAgICAgZ3JheTogewogICAgICAgIGJhY2tncm91bmQ6ICIjZWVlIiwKICAgICAgICBmb3JlZ3JvdW5kOiAiI2FhYSIsCiAgICAgICAgc2l6ZTogMTIKICAgICAgfSwKICAgICAgc29jaWFsOiB7CiAgICAgICAgYmFja2dyb3VuZDogIiMzYTVhOTciLAogICAgICAgIGZvcmVncm91bmQ6ICIjZmZmIiwKICAgICAgICBzaXplOiAxMgogICAgICB9LAogICAgICBpbmR1c3RyaWFsOiB7CiAgICAgICAgYmFja2dyb3VuZDogIiM0MzRBNTIiLAogICAgICAgIGZvcmVncm91bmQ6ICIjQzJGMjAwIiwKICAgICAgICBzaXplOiAxMgogICAgICB9LAogICAgICBza3k6IHsKICAgICAgICBiYWNrZ3JvdW5kOiAiIzBEOEZEQiIsCiAgICAgICAgZm9yZWdyb3VuZDogIiNmZmYiLAogICAgICAgIHNpemU6IDEyCiAgICAgIH0sCiAgICAgIHZpbmU6IHsKICAgICAgICBiYWNrZ3JvdW5kOiAiIzM5REJBQyIsCiAgICAgICAgZm9yZWdyb3VuZDogIiMxRTI5MkMiLAogICAgICAgIHNpemU6IDEyCiAgICAgIH0sCiAgICAgIGxhdmE6IHsKICAgICAgICBiYWNrZ3JvdW5kOiAiI0Y4NTkxQSIsCiAgICAgICAgZm9yZWdyb3VuZDogIiMxQzI4NDYiLAogICAgICAgIHNpemU6IDEyCiAgICAgIH0KICAgIH0sCiAgICBzdHlsZXNoZWV0OiAiIgogIH07CiAgdC5mbGFncyA9IHsKICAgIGRpbWVuc2lvbnM6IHsKICAgICAgcmVnZXg6IC9eKFxkKyl4KFxkKykkLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHZhciBlID0gdGhpcy5yZWdleC5leGVjKHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogK2VbMV0sCiAgICAgICAgICBoZWlnaHQ6ICtlWzJdCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGZsdWlkOiB7CiAgICAgIHJlZ2V4OiAvXihbMC05JV0rKXgoWzAtOSVdKykkLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHZhciBlID0gdGhpcy5yZWdleC5leGVjKHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogZVsxXSwKICAgICAgICAgIGhlaWdodDogZVsyXQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBjb2xvcnM6IHsKICAgICAgcmVnZXg6IC8jKFswLTlhLWZdezMsfSlcOiMoWzAtOWEtZl17Myx9KS9pLAogICAgICBvdXRwdXQ6IGZ1bmN0aW9uIG91dHB1dCh0KSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLnJlZ2V4LmV4ZWModCk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNpemU6IHcudGhlbWVzLmdyYXkuc2l6ZSwKICAgICAgICAgIGZvcmVncm91bmQ6ICIjIiArIGVbMl0sCiAgICAgICAgICBiYWNrZ3JvdW5kOiAiIyIgKyBlWzFdCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHRleHQ6IHsKICAgICAgcmVnZXg6IC90ZXh0XDooLiopLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHJldHVybiB0aGlzLnJlZ2V4LmV4ZWModClbMV07CiAgICAgIH0KICAgIH0sCiAgICBmb250OiB7CiAgICAgIHJlZ2V4OiAvZm9udFw6KC4qKS8sCiAgICAgIG91dHB1dDogZnVuY3Rpb24gb3V0cHV0KHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZWdleC5leGVjKHQpWzFdOwogICAgICB9CiAgICB9LAogICAgYXV0bzogewogICAgICByZWdleDogL15hdXRvJC8KICAgIH0sCiAgICB0ZXh0bW9kZTogewogICAgICByZWdleDogL3RleHRtb2RlXDooLiopLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHJldHVybiB0aGlzLnJlZ2V4LmV4ZWModClbMV07CiAgICAgIH0KICAgIH0KICB9LCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIHx8IChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlLAogICAgICAgIG4sCiAgICAgICAgaSwKICAgICAgICBvID0gZG9jdW1lbnQsCiAgICAgICAgciA9IFtdOwogICAgaWYgKG8ucXVlcnlTZWxlY3RvckFsbCkgcmV0dXJuIG8ucXVlcnlTZWxlY3RvckFsbCgiLiIgKyB0KTsKICAgIGlmIChvLmV2YWx1YXRlKSBmb3IgKG4gPSAiLi8vKltjb250YWlucyhjb25jYXQoJyAnLCBAY2xhc3MsICcgJyksICcgIiArIHQgKyAiICcpXSIsIGUgPSBvLmV2YWx1YXRlKG4sIG8sIG51bGwsIDAsIG51bGwpOyBpID0gZS5pdGVyYXRlTmV4dCgpOykgewogICAgICByLnB1c2goaSk7CiAgICB9IGVsc2UgZm9yIChlID0gby5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLCBuID0gbmV3IFJlZ0V4cCgiKF58XFxzKSIgKyB0ICsgIihcXHN8JCkiKSwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CiAgICAgIG4udGVzdChlW2ldLmNsYXNzTmFtZSkgJiYgci5wdXNoKGVbaV0pOwogICAgfQogICAgcmV0dXJuIHI7CiAgfSksIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlIHx8ICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gdGhpcy5lbCA9IHQsIHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gLyhcLShbYS16XSl7MX0pL2c7CiAgICAgIHJldHVybiAiZmxvYXQiID09IGUgJiYgKGUgPSAic3R5bGVGbG9hdCIpLCBuLnRlc3QoZSkgJiYgKGUgPSBlLnJlcGxhY2UobiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBhcmd1bWVudHNbMl0udG9VcHBlckNhc2UoKTsKICAgICAgfSkpLCB0LmN1cnJlbnRTdHlsZVtlXSA/IHQuY3VycmVudFN0eWxlW2VdIDogbnVsbDsKICAgIH0sIHRoaXM7CiAgfSksIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLl9fcHJvdG9fXyB8fCB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZTsKICAgIHJldHVybiB0IGluIHRoaXMgJiYgKCEodCBpbiBlKSB8fCBlW3RdICE9PSB0aGlzW3RdKTsKICB9KTsKCiAgZm9yICh2YXIgYiBpbiB0LmZsYWdzKSB7CiAgICB0LmZsYWdzLmhhc093blByb3BlcnR5KGIpICYmICh0LmZsYWdzW2JdLm1hdGNoID0gZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIHQubWF0Y2godGhpcy5yZWdleCk7CiAgICB9KTsKICB9CgogIHQuYWRkX3RoZW1lID0gZnVuY3Rpb24gKGUsIG4pIHsKICAgIHJldHVybiBudWxsICE9IGUgJiYgbnVsbCAhPSBuICYmICh3LnRoZW1lc1tlXSA9IG4pLCB0OwogIH0sIHQuYWRkX2ltYWdlID0gZnVuY3Rpb24gKGUsIG4pIHsKICAgIHZhciBvID0gaShuKTsKICAgIGlmIChvLmxlbmd0aCkgZm9yICh2YXIgciA9IDAsIHMgPSBvLmxlbmd0aDsgcyA+IHI7IHIrKykgewogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICBhLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCBlKSwgb1tyXS5hcHBlbmRDaGlsZChhKTsKICAgIH0KICAgIHJldHVybiB0OwogIH0sIHQucnVuID0gZnVuY3Rpb24gKGUpIHsKICAgIGQgPSAhMDsKICAgIHZhciBuID0gbyh3LCBlKSwKICAgICAgICByID0gW10sCiAgICAgICAgcyA9IFtdLAogICAgICAgIHUgPSBbXTsKCiAgICBmb3IgKCJzdHJpbmciID09IHR5cGVvZiBuLmltYWdlcyA/IHMgPSBpKG4uaW1hZ2VzKSA6IHdpbmRvdy5Ob2RlTGlzdCAmJiBuLmltYWdlcyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCA/IHMgPSBuLmltYWdlcyA6IHdpbmRvdy5Ob2RlICYmIG4uaW1hZ2VzIGluc3RhbmNlb2Ygd2luZG93Lk5vZGUgJiYgKHMgPSBbbi5pbWFnZXNdKSwgInN0cmluZyIgPT0gdHlwZW9mIG4uYmdub2RlcyA/IHUgPSBpKG4uYmdub2RlcykgOiB3aW5kb3cuTm9kZUxpc3QgJiYgbi5lbGVtZW50cyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCA/IHUgPSBuLmJnbm9kZXMgOiB3aW5kb3cuTm9kZSAmJiBuLmJnbm9kZXMgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSAmJiAodSA9IFtuLmJnbm9kZXNdKSwgcCA9IDAsIGYgPSBzLmxlbmd0aDsgZiA+IHA7IHArKykgewogICAgICByLnB1c2goc1twXSk7CiAgICB9CgogICAgdmFyIGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaG9sZGVyanMtc3R5bGUiKTsKICAgIGwgfHwgKGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLCBsLnNldEF0dHJpYnV0ZSgiaWQiLCAiaG9sZGVyanMtc3R5bGUiKSwgbC50eXBlID0gInRleHQvY3NzIiwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChsKSksIG4ubm9jc3MgfHwgKGwuc3R5bGVTaGVldCA/IGwuc3R5bGVTaGVldC5jc3NUZXh0ICs9IG4uc3R5bGVzaGVldCA6IGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi5zdHlsZXNoZWV0KSkpOwoKICAgIGZvciAodmFyIGggPSBuZXcgUmVnRXhwKG4uZG9tYWluICsgJy8oLio/KSI/XFwpJyksIGYgPSB1Lmxlbmd0aCwgcCA9IDA7IGYgPiBwOyBwKyspIHsKICAgICAgdmFyIG0gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh1W3BdLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWltYWdlIiksCiAgICAgICAgICBnID0gbS5tYXRjaChoKSwKICAgICAgICAgIHYgPSB1W3BdLmdldEF0dHJpYnV0ZSgiZGF0YS1iYWNrZ3JvdW5kLXNyYyIpOwoKICAgICAgaWYgKGcpIHsKICAgICAgICB2YXIgeSA9IGMoZ1sxXS5zcGxpdCgiLyIpLCBuKTsKICAgICAgICB5ICYmIGEoImJhY2tncm91bmQiLCB1W3BdLCB5LCBtKTsKICAgICAgfSBlbHNlIGlmIChudWxsICE9IHYpIHsKICAgICAgICB2YXIgeSA9IGModi5zdWJzdHIodi5sYXN0SW5kZXhPZihuLmRvbWFpbikgKyBuLmRvbWFpbi5sZW5ndGggKyAxKS5zcGxpdCgiLyIpLCBuKTsKICAgICAgICB5ICYmIGEoImJhY2tncm91bmQiLCB1W3BdLCB5LCBtKTsKICAgICAgfQogICAgfQoKICAgIGZvciAoZiA9IHIubGVuZ3RoLCBwID0gMDsgZiA+IHA7IHArKykgewogICAgICB2YXIgYiwgeDsKICAgICAgeCA9IGIgPSBtID0gbnVsbDsKCiAgICAgIHRyeSB7CiAgICAgICAgeCA9IHJbcF0uZ2V0QXR0cmlidXRlKCJzcmMiKSwgYXR0cl9kYXRhc3JjID0gcltwXS5nZXRBdHRyaWJ1dGUoImRhdGEtc3JjIik7CiAgICAgIH0gY2F0Y2ggKEUpIHt9CgogICAgICBpZiAobnVsbCA9PSBhdHRyX2RhdGFzcmMgJiYgeCAmJiB4LmluZGV4T2Yobi5kb21haW4pID49IDAgPyBtID0geCA6IGF0dHJfZGF0YXNyYyAmJiBhdHRyX2RhdGFzcmMuaW5kZXhPZihuLmRvbWFpbikgPj0gMCAmJiAobSA9IGF0dHJfZGF0YXNyYyksIG0pIHsKICAgICAgICB2YXIgeSA9IGMobS5zdWJzdHIobS5sYXN0SW5kZXhPZihuLmRvbWFpbikgKyBuLmRvbWFpbi5sZW5ndGggKyAxKS5zcGxpdCgiLyIpLCBuKTsKICAgICAgICB5ICYmICh5LmZsdWlkID8gYSgiZmx1aWQiLCByW3BdLCB5LCBtKSA6IGEoImltYWdlIiwgcltwXSwgeSwgbSkpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfSwgbihlLCBmdW5jdGlvbiAoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA/ICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgbCwgITEpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLCBsLCAhMSkpIDogd2luZG93LmF0dGFjaEV2ZW50KCJvbnJlc2l6ZSIsIGwpLCBkIHx8IHQucnVuKCk7CiAgfSksICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kICYmIGRlZmluZShbXSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHQ7CiAgfSk7Cn0oSG9sZGVyLCB3aW5kb3cpOwp2YXIgSG9sZGVyID0gSG9sZGVyIHx8IHt9OwohZnVuY3Rpb24gKHQsIGUpIHsKICBmdW5jdGlvbiBuKHQsIGUpIHsKICAgIHZhciBuID0gImNvbXBsZXRlIiwKICAgICAgICBpID0gInJlYWR5c3RhdGVjaGFuZ2UiLAogICAgICAgIG8gPSAhMSwKICAgICAgICByID0gbywKICAgICAgICBzID0gITAsCiAgICAgICAgYSA9IHQuZG9jdW1lbnQsCiAgICAgICAgdSA9IGEuZG9jdW1lbnRFbGVtZW50LAogICAgICAgIGwgPSBhLmFkZEV2ZW50TGlzdGVuZXIgPyAiYWRkRXZlbnRMaXN0ZW5lciIgOiAiYXR0YWNoRXZlbnQiLAogICAgICAgIGMgPSBhLmFkZEV2ZW50TGlzdGVuZXIgPyAicmVtb3ZlRXZlbnRMaXN0ZW5lciIgOiAiZGV0YWNoRXZlbnQiLAogICAgICAgIGQgPSBhLmFkZEV2ZW50TGlzdGVuZXIgPyAiIiA6ICJvbiIsCiAgICAgICAgaCA9IGZ1bmN0aW9uIGgocykgewogICAgICAocy50eXBlICE9IGkgfHwgYS5yZWFkeVN0YXRlID09IG4pICYmICgoImxvYWQiID09IHMudHlwZSA/IHQgOiBhKVtjXShkICsgcy50eXBlLCBoLCBvKSwgIXIgJiYgKHIgPSAhMCkgJiYgZS5jYWxsKHQsIG51bGwpKTsKICAgIH0sCiAgICAgICAgZiA9IGZ1bmN0aW9uIGYoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdS5kb1Njcm9sbCgibGVmdCIpOwogICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgcmV0dXJuIHZvaWQgc2V0VGltZW91dChmLCA1MCk7CiAgICAgIH0KCiAgICAgIGgoInBvbGwiKTsKICAgIH07CgogICAgaWYgKGEucmVhZHlTdGF0ZSA9PSBuKSBlLmNhbGwodCwgImxhenkiKTtlbHNlIHsKICAgICAgaWYgKGEuY3JlYXRlRXZlbnRPYmplY3QgJiYgdS5kb1Njcm9sbCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBzID0gIXQuZnJhbWVFbGVtZW50OwogICAgICAgIH0gY2F0Y2ggKHApIHt9CgogICAgICAgIHMgJiYgZigpOwogICAgICB9CgogICAgICBhW2xdKGQgKyAiRE9NQ29udGVudExvYWRlZCIsIGgsIG8pLCBhW2xdKGQgKyBpLCBoLCBvKSwgdFtsXShkICsgImxvYWQiLCBoLCBvKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGkodCkgewogICAgdCA9IHQubWF0Y2goL14oXFcpPyguKikvKTsKICAgIHZhciBlID0gZG9jdW1lbnRbImdldEVsZW1lbnQiICsgKHRbMV0gPyAiIyIgPT0gdFsxXSA/ICJCeUlkIiA6ICJzQnlDbGFzc05hbWUiIDogInNCeVRhZ05hbWUiKV0odFsyXSksCiAgICAgICAgbiA9IFtdOwogICAgcmV0dXJuIG51bGwgIT09IGUgJiYgKG4gPSBlLmxlbmd0aCA/IGUgOiAwID09PSBlLmxlbmd0aCA/IGUgOiBbZV0pLCBuOwogIH0KCiAgZnVuY3Rpb24gbyh0LCBlKSB7CiAgICB2YXIgbiA9IHt9OwoKICAgIGZvciAodmFyIGkgaW4gdCkgewogICAgICB0Lmhhc093blByb3BlcnR5KGkpICYmIChuW2ldID0gdFtpXSk7CiAgICB9CgogICAgZm9yICh2YXIgaSBpbiBlKSB7CiAgICAgIGUuaGFzT3duUHJvcGVydHkoaSkgJiYgKG5baV0gPSBlW2ldKTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIHIodCwgZSwgbikgewogICAgZSA9IHBhcnNlSW50KGUsIDEwKSwgdCA9IHBhcnNlSW50KHQsIDEwKTsKICAgIHZhciBpID0gTWF0aC5tYXgoZSwgdCksCiAgICAgICAgbyA9IE1hdGgubWluKGUsIHQpLAogICAgICAgIHIgPSAxIC8gMTIsCiAgICAgICAgcyA9IE1hdGgubWluKC43NSAqIG8sIC43NSAqIGkgKiByKTsKICAgIHJldHVybiB7CiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1heChuLnNpemUsIHMpKQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHModCkgewogICAgdmFyIGUgPSB0LmN0eCwKICAgICAgICBuID0gdC5kaW1lbnNpb25zLAogICAgICAgIGkgPSB0LnRlbXBsYXRlLAogICAgICAgIG8gPSB0LnJhdGlvLAogICAgICAgIHMgPSB0LmhvbGRlciwKICAgICAgICBhID0gImxpdGVyYWwiID09IHMudGV4dG1vZGUsCiAgICAgICAgdSA9ICJleGFjdCIgPT0gcy50ZXh0bW9kZSwKICAgICAgICBsID0gcihuLndpZHRoLCBuLmhlaWdodCwgaSksCiAgICAgICAgYyA9IGwuaGVpZ2h0LAogICAgICAgIGQgPSBuLndpZHRoICogbywKICAgICAgICBoID0gbi5oZWlnaHQgKiBvLAogICAgICAgIHAgPSBpLmZvbnQgPyBpLmZvbnQgOiAic2Fucy1zZXJpZiI7CiAgICBmLndpZHRoID0gZCwgZi5oZWlnaHQgPSBoLCBlLnRleHRBbGlnbiA9ICJjZW50ZXIiLCBlLnRleHRCYXNlbGluZSA9ICJtaWRkbGUiLCBlLmZpbGxTdHlsZSA9IGkuYmFja2dyb3VuZCwgZS5maWxsUmVjdCgwLCAwLCBkLCBoKSwgZS5maWxsU3R5bGUgPSBpLmZvcmVncm91bmQsIGUuZm9udCA9ICJib2xkICIgKyBjICsgInB4ICIgKyBwOwogICAgdmFyIG0gPSBpLnRleHQgPyBpLnRleHQgOiBNYXRoLmZsb29yKG4ud2lkdGgpICsgIngiICsgTWF0aC5mbG9vcihuLmhlaWdodCk7CgogICAgaWYgKGEpIHsKICAgICAgdmFyIG4gPSBzLmRpbWVuc2lvbnM7CiAgICAgIG0gPSBuLndpZHRoICsgIngiICsgbi5oZWlnaHQ7CiAgICB9IGVsc2UgaWYgKHUgJiYgcy5leGFjdF9kaW1lbnNpb25zKSB7CiAgICAgIHZhciBuID0gcy5leGFjdF9kaW1lbnNpb25zOwogICAgICBtID0gTWF0aC5mbG9vcihuLndpZHRoKSArICJ4IiArIE1hdGguZmxvb3Iobi5oZWlnaHQpOwogICAgfQoKICAgIHZhciBnID0gZS5tZWFzdXJlVGV4dChtKS53aWR0aDsKICAgIHJldHVybiBnIC8gZCA+PSAuNzUgJiYgKGMgPSBNYXRoLmZsb29yKC43NSAqIGMgKiAoZCAvIGcpKSksIGUuZm9udCA9ICJib2xkICIgKyBjICogbyArICJweCAiICsgcCwgZS5maWxsVGV4dChtLCBkIC8gMiwgaCAvIDIsIGQpLCBmLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CiAgfQoKICBmdW5jdGlvbiBhKHQsIGUsIG4sIGkpIHsKICAgIHZhciByID0gbi5kaW1lbnNpb25zLAogICAgICAgIGEgPSBuLnRoZW1lLAogICAgICAgIHUgPSBuLnRleHQgPyBkZWNvZGVVUklDb21wb25lbnQobi50ZXh0KSA6IG4udGV4dCwKICAgICAgICBjID0gci53aWR0aCArICJ4IiArIHIuaGVpZ2h0OwogICAgYSA9IHUgPyBvKGEsIHsKICAgICAgdGV4dDogdQogICAgfSkgOiBhLCBhID0gbi5mb250ID8gbyhhLCB7CiAgICAgIGZvbnQ6IG4uZm9udAogICAgfSkgOiBhLCBlLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCBpKSwgbi50aGVtZSA9IGEsIGUuaG9sZGVyX2RhdGEgPSBuLCAiaW1hZ2UiID09IHQgPyAoZS5zZXRBdHRyaWJ1dGUoImFsdCIsIHUgPyB1IDogYS50ZXh0ID8gYS50ZXh0ICsgIiBbIiArIGMgKyAiXSIgOiBjKSwgKGggfHwgIW4uYXV0bykgJiYgKGUuc3R5bGUud2lkdGggPSByLndpZHRoICsgInB4IiwgZS5zdHlsZS5oZWlnaHQgPSByLmhlaWdodCArICJweCIpLCBoID8gZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBhLmJhY2tncm91bmQgOiAoZS5zZXRBdHRyaWJ1dGUoInNyYyIsIHMoewogICAgICBjdHg6IHYsCiAgICAgIGRpbWVuc2lvbnM6IHIsCiAgICAgIHRlbXBsYXRlOiBhLAogICAgICByYXRpbzogeSwKICAgICAgaG9sZGVyOiBuCiAgICB9KSksIG4udGV4dG1vZGUgJiYgImV4YWN0IiA9PSBuLnRleHRtb2RlICYmIChnLnB1c2goZSksIGwoZSkpKSkgOiAiYmFja2dyb3VuZCIgPT0gdCA/IGggfHwgKGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gInVybCgiICsgcyh7CiAgICAgIGN0eDogdiwKICAgICAgZGltZW5zaW9uczogciwKICAgICAgdGVtcGxhdGU6IGEsCiAgICAgIHJhdGlvOiB5LAogICAgICBob2xkZXI6IG4KICAgIH0pICsgIikiLCBlLnN0eWxlLmJhY2tncm91bmRTaXplID0gci53aWR0aCArICJweCAiICsgci5oZWlnaHQgKyAicHgiKSA6ICJmbHVpZCIgPT0gdCAmJiAoZS5zZXRBdHRyaWJ1dGUoImFsdCIsIHUgPyB1IDogYS50ZXh0ID8gYS50ZXh0ICsgIiBbIiArIGMgKyAiXSIgOiBjKSwgIiUiID09IHIuaGVpZ2h0LnNsaWNlKC0xKSA/IGUuc3R5bGUuaGVpZ2h0ID0gci5oZWlnaHQgOiBlLnN0eWxlLmhlaWdodCA9IHIuaGVpZ2h0ICsgInB4IiwgIiUiID09IHIud2lkdGguc2xpY2UoLTEpID8gZS5zdHlsZS53aWR0aCA9IHIud2lkdGggOiBlLnN0eWxlLndpZHRoID0gci53aWR0aCArICJweCIsICgiaW5saW5lIiA9PSBlLnN0eWxlLmRpc3BsYXkgfHwgIiIgPT09IGUuc3R5bGUuZGlzcGxheSB8fCAibm9uZSIgPT0gZS5zdHlsZS5kaXNwbGF5KSAmJiAoZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIiksIGggPyBlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGEuYmFja2dyb3VuZCA6IChnLnB1c2goZSksIGwoZSkpKTsKICB9CgogIGZ1bmN0aW9uIHUodCwgZSkgewogICAgdmFyIG4gPSB7CiAgICAgIGhlaWdodDogdC5jbGllbnRIZWlnaHQsCiAgICAgIHdpZHRoOiB0LmNsaWVudFdpZHRoCiAgICB9OwoKICAgIGlmICghbi5oZWlnaHQgJiYgIW4ud2lkdGgpIHsKICAgICAgaWYgKHQuaGFzQXR0cmlidXRlKCJkYXRhLWhvbGRlci1pbnZpc2libGUiKSkgdGhyb3cgbmV3IEVycm9yKCJIb2xkZXI6IHBsYWNlaG9sZGVyIGlzIG5vdCB2aXNpYmxlIik7CiAgICAgIHJldHVybiB0LnNldEF0dHJpYnV0ZSgiZGF0YS1ob2xkZXItaW52aXNpYmxlIiwgITApLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBlLmNhbGwodGhpcywgdCk7CiAgICAgIH0sIDEpLCBudWxsOwogICAgfQoKICAgIHJldHVybiB0LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1ob2xkZXItaW52aXNpYmxlIiksIG47CiAgfQoKICBmdW5jdGlvbiBsKHQpIHsKICAgIHZhciBlOwogICAgZSA9IG51bGwgPT0gdC5ub2RlVHlwZSA/IGcgOiBbdF07CgogICAgZm9yICh2YXIgbiBpbiBlKSB7CiAgICAgIGlmIChlLmhhc093blByb3BlcnR5KG4pKSB7CiAgICAgICAgdmFyIGkgPSBlW25dOwoKICAgICAgICBpZiAoaS5ob2xkZXJfZGF0YSkgewogICAgICAgICAgdmFyIG8gPSBpLmhvbGRlcl9kYXRhLAogICAgICAgICAgICAgIHIgPSB1KGksIGwpOwogICAgICAgICAgciAmJiAoby5mbHVpZCAmJiBpLnNldEF0dHJpYnV0ZSgic3JjIiwgcyh7CiAgICAgICAgICAgIGN0eDogdiwKICAgICAgICAgICAgZGltZW5zaW9uczogciwKICAgICAgICAgICAgdGVtcGxhdGU6IG8udGhlbWUsCiAgICAgICAgICAgIHJhdGlvOiB5LAogICAgICAgICAgICBob2xkZXI6IG8KICAgICAgICAgIH0pKSwgby50ZXh0bW9kZSAmJiAiZXhhY3QiID09IG8udGV4dG1vZGUgJiYgKG8uZXhhY3RfZGltZW5zaW9ucyA9IHIsIGkuc2V0QXR0cmlidXRlKCJzcmMiLCBzKHsKICAgICAgICAgICAgY3R4OiB2LAogICAgICAgICAgICBkaW1lbnNpb25zOiBvLmRpbWVuc2lvbnMsCiAgICAgICAgICAgIHRlbXBsYXRlOiBvLnRoZW1lLAogICAgICAgICAgICByYXRpbzogeSwKICAgICAgICAgICAgaG9sZGVyOiBvCiAgICAgICAgICB9KSkpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGMoZSwgbikgewogICAgdmFyIGkgPSB7CiAgICAgIHRoZW1lOiBvKHcudGhlbWVzLmdyYXksIHt9KQogICAgfSwKICAgICAgICByID0gITE7CgogICAgZm9yIChzbCA9IGUubGVuZ3RoLCBqID0gMDsgaiA8IHNsOyBqKyspIHsKICAgICAgdmFyIHMgPSBlW2pdOwogICAgICB0LmZsYWdzLmRpbWVuc2lvbnMubWF0Y2gocykgPyAociA9ICEwLCBpLmRpbWVuc2lvbnMgPSB0LmZsYWdzLmRpbWVuc2lvbnMub3V0cHV0KHMpKSA6IHQuZmxhZ3MuZmx1aWQubWF0Y2gocykgPyAociA9ICEwLCBpLmRpbWVuc2lvbnMgPSB0LmZsYWdzLmZsdWlkLm91dHB1dChzKSwgaS5mbHVpZCA9ICEwKSA6IHQuZmxhZ3MudGV4dG1vZGUubWF0Y2gocykgPyBpLnRleHRtb2RlID0gdC5mbGFncy50ZXh0bW9kZS5vdXRwdXQocykgOiB0LmZsYWdzLmNvbG9ycy5tYXRjaChzKSA/IGkudGhlbWUgPSB0LmZsYWdzLmNvbG9ycy5vdXRwdXQocykgOiBuLnRoZW1lc1tzXSA/IG4udGhlbWVzLmhhc093blByb3BlcnR5KHMpICYmIChpLnRoZW1lID0gbyhuLnRoZW1lc1tzXSwge30pKSA6IHQuZmxhZ3MuZm9udC5tYXRjaChzKSA/IGkuZm9udCA9IHQuZmxhZ3MuZm9udC5vdXRwdXQocykgOiB0LmZsYWdzLmF1dG8ubWF0Y2gocykgPyBpLmF1dG8gPSAhMCA6IHQuZmxhZ3MudGV4dC5tYXRjaChzKSAmJiAoaS50ZXh0ID0gdC5mbGFncy50ZXh0Lm91dHB1dChzKSk7CiAgICB9CgogICAgcmV0dXJuIHIgPyBpIDogITE7CiAgfQoKICB2YXIgZCA9ICExLAogICAgICBoID0gITEsCiAgICAgIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSwKICAgICAgcCA9IDEsCiAgICAgIG0gPSAxLAogICAgICBnID0gW107CiAgaWYgKGYuZ2V0Q29udGV4dCkgewogICAgaWYgKGYudG9EYXRhVVJMKCJpbWFnZS9wbmciKS5pbmRleE9mKCJkYXRhOmltYWdlL3BuZyIpIDwgMCkgaCA9ICEwO2Vsc2UgdmFyIHYgPSBmLmdldENvbnRleHQoIjJkIik7CiAgfSBlbHNlIGggPSAhMDsKICBoIHx8IChwID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSwgbSA9IHYud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCB2Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgdi5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgdi5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCB2LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSk7CiAgdmFyIHkgPSBwIC8gbSwKICAgICAgdyA9IHsKICAgIGRvbWFpbjogImhvbGRlci5qcyIsCiAgICBpbWFnZXM6ICJpbWciLAogICAgYmdub2RlczogIi5ob2xkZXJqcyIsCiAgICB0aGVtZXM6IHsKICAgICAgZ3JheTogewogICAgICAgIGJhY2tncm91bmQ6ICIjZWVlIiwKICAgICAgICBmb3JlZ3JvdW5kOiAiI2FhYSIsCiAgICAgICAgc2l6ZTogMTIKICAgICAgfSwKICAgICAgc29jaWFsOiB7CiAgICAgICAgYmFja2dyb3VuZDogIiMzYTVhOTciLAogICAgICAgIGZvcmVncm91bmQ6ICIjZmZmIiwKICAgICAgICBzaXplOiAxMgogICAgICB9LAogICAgICBpbmR1c3RyaWFsOiB7CiAgICAgICAgYmFja2dyb3VuZDogIiM0MzRBNTIiLAogICAgICAgIGZvcmVncm91bmQ6ICIjQzJGMjAwIiwKICAgICAgICBzaXplOiAxMgogICAgICB9LAogICAgICBza3k6IHsKICAgICAgICBiYWNrZ3JvdW5kOiAiIzBEOEZEQiIsCiAgICAgICAgZm9yZWdyb3VuZDogIiNmZmYiLAogICAgICAgIHNpemU6IDEyCiAgICAgIH0sCiAgICAgIHZpbmU6IHsKICAgICAgICBiYWNrZ3JvdW5kOiAiIzM5REJBQyIsCiAgICAgICAgZm9yZWdyb3VuZDogIiMxRTI5MkMiLAogICAgICAgIHNpemU6IDEyCiAgICAgIH0sCiAgICAgIGxhdmE6IHsKICAgICAgICBiYWNrZ3JvdW5kOiAiI0Y4NTkxQSIsCiAgICAgICAgZm9yZWdyb3VuZDogIiMxQzI4NDYiLAogICAgICAgIHNpemU6IDEyCiAgICAgIH0KICAgIH0sCiAgICBzdHlsZXNoZWV0OiAiIgogIH07CiAgdC5mbGFncyA9IHsKICAgIGRpbWVuc2lvbnM6IHsKICAgICAgcmVnZXg6IC9eKFxkKyl4KFxkKykkLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHZhciBlID0gdGhpcy5yZWdleC5leGVjKHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogK2VbMV0sCiAgICAgICAgICBoZWlnaHQ6ICtlWzJdCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGZsdWlkOiB7CiAgICAgIHJlZ2V4OiAvXihbMC05JV0rKXgoWzAtOSVdKykkLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHZhciBlID0gdGhpcy5yZWdleC5leGVjKHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogZVsxXSwKICAgICAgICAgIGhlaWdodDogZVsyXQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBjb2xvcnM6IHsKICAgICAgcmVnZXg6IC8jKFswLTlhLWZdezMsfSlcOiMoWzAtOWEtZl17Myx9KS9pLAogICAgICBvdXRwdXQ6IGZ1bmN0aW9uIG91dHB1dCh0KSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLnJlZ2V4LmV4ZWModCk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNpemU6IHcudGhlbWVzLmdyYXkuc2l6ZSwKICAgICAgICAgIGZvcmVncm91bmQ6ICIjIiArIGVbMl0sCiAgICAgICAgICBiYWNrZ3JvdW5kOiAiIyIgKyBlWzFdCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHRleHQ6IHsKICAgICAgcmVnZXg6IC90ZXh0XDooLiopLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHJldHVybiB0aGlzLnJlZ2V4LmV4ZWModClbMV07CiAgICAgIH0KICAgIH0sCiAgICBmb250OiB7CiAgICAgIHJlZ2V4OiAvZm9udFw6KC4qKS8sCiAgICAgIG91dHB1dDogZnVuY3Rpb24gb3V0cHV0KHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZWdleC5leGVjKHQpWzFdOwogICAgICB9CiAgICB9LAogICAgYXV0bzogewogICAgICByZWdleDogL15hdXRvJC8KICAgIH0sCiAgICB0ZXh0bW9kZTogewogICAgICByZWdleDogL3RleHRtb2RlXDooLiopLywKICAgICAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodCkgewogICAgICAgIHJldHVybiB0aGlzLnJlZ2V4LmV4ZWModClbMV07CiAgICAgIH0KICAgIH0KICB9LCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIHx8IChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlLAogICAgICAgIG4sCiAgICAgICAgaSwKICAgICAgICBvID0gZG9jdW1lbnQsCiAgICAgICAgciA9IFtdOwogICAgaWYgKG8ucXVlcnlTZWxlY3RvckFsbCkgcmV0dXJuIG8ucXVlcnlTZWxlY3RvckFsbCgiLiIgKyB0KTsKICAgIGlmIChvLmV2YWx1YXRlKSBmb3IgKG4gPSAiLi8vKltjb250YWlucyhjb25jYXQoJyAnLCBAY2xhc3MsICcgJyksICcgIiArIHQgKyAiICcpXSIsIGUgPSBvLmV2YWx1YXRlKG4sIG8sIG51bGwsIDAsIG51bGwpOyBpID0gZS5pdGVyYXRlTmV4dCgpOykgewogICAgICByLnB1c2goaSk7CiAgICB9IGVsc2UgZm9yIChlID0gby5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLCBuID0gbmV3IFJlZ0V4cCgiKF58XFxzKSIgKyB0ICsgIihcXHN8JCkiKSwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CiAgICAgIG4udGVzdChlW2ldLmNsYXNzTmFtZSkgJiYgci5wdXNoKGVbaV0pOwogICAgfQogICAgcmV0dXJuIHI7CiAgfSksIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlIHx8ICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gdGhpcy5lbCA9IHQsIHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gLyhcLShbYS16XSl7MX0pL2c7CiAgICAgIHJldHVybiAiZmxvYXQiID09IGUgJiYgKGUgPSAic3R5bGVGbG9hdCIpLCBuLnRlc3QoZSkgJiYgKGUgPSBlLnJlcGxhY2UobiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBhcmd1bWVudHNbMl0udG9VcHBlckNhc2UoKTsKICAgICAgfSkpLCB0LmN1cnJlbnRTdHlsZVtlXSA/IHQuY3VycmVudFN0eWxlW2VdIDogbnVsbDsKICAgIH0sIHRoaXM7CiAgfSksIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLl9fcHJvdG9fXyB8fCB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZTsKICAgIHJldHVybiB0IGluIHRoaXMgJiYgKCEodCBpbiBlKSB8fCBlW3RdICE9PSB0aGlzW3RdKTsKICB9KTsKCiAgZm9yICh2YXIgYiBpbiB0LmZsYWdzKSB7CiAgICB0LmZsYWdzLmhhc093blByb3BlcnR5KGIpICYmICh0LmZsYWdzW2JdLm1hdGNoID0gZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIHQubWF0Y2godGhpcy5yZWdleCk7CiAgICB9KTsKICB9CgogIHQuYWRkX3RoZW1lID0gZnVuY3Rpb24gKGUsIG4pIHsKICAgIHJldHVybiBudWxsICE9IGUgJiYgbnVsbCAhPSBuICYmICh3LnRoZW1lc1tlXSA9IG4pLCB0OwogIH0sIHQuYWRkX2ltYWdlID0gZnVuY3Rpb24gKGUsIG4pIHsKICAgIHZhciBvID0gaShuKTsKICAgIGlmIChvLmxlbmd0aCkgZm9yICh2YXIgciA9IDAsIHMgPSBvLmxlbmd0aDsgcyA+IHI7IHIrKykgewogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICBhLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCBlKSwgb1tyXS5hcHBlbmRDaGlsZChhKTsKICAgIH0KICAgIHJldHVybiB0OwogIH0sIHQucnVuID0gZnVuY3Rpb24gKGUpIHsKICAgIGQgPSAhMDsKICAgIHZhciBuID0gbyh3LCBlKSwKICAgICAgICByID0gW10sCiAgICAgICAgcyA9IFtdLAogICAgICAgIHUgPSBbXTsKCiAgICBmb3IgKCJzdHJpbmciID09IHR5cGVvZiBuLmltYWdlcyA/IHMgPSBpKG4uaW1hZ2VzKSA6IHdpbmRvdy5Ob2RlTGlzdCAmJiBuLmltYWdlcyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCA/IHMgPSBuLmltYWdlcyA6IHdpbmRvdy5Ob2RlICYmIG4uaW1hZ2VzIGluc3RhbmNlb2Ygd2luZG93Lk5vZGUgJiYgKHMgPSBbbi5pbWFnZXNdKSwgInN0cmluZyIgPT0gdHlwZW9mIG4uYmdub2RlcyA/IHUgPSBpKG4uYmdub2RlcykgOiB3aW5kb3cuTm9kZUxpc3QgJiYgbi5lbGVtZW50cyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCA/IHUgPSBuLmJnbm9kZXMgOiB3aW5kb3cuTm9kZSAmJiBuLmJnbm9kZXMgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSAmJiAodSA9IFtuLmJnbm9kZXNdKSwgcCA9IDAsIGYgPSBzLmxlbmd0aDsgZiA+IHA7IHArKykgewogICAgICByLnB1c2goc1twXSk7CiAgICB9CgogICAgdmFyIGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaG9sZGVyanMtc3R5bGUiKTsKICAgIGwgfHwgKGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLCBsLnNldEF0dHJpYnV0ZSgiaWQiLCAiaG9sZGVyanMtc3R5bGUiKSwgbC50eXBlID0gInRleHQvY3NzIiwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChsKSksIG4ubm9jc3MgfHwgKGwuc3R5bGVTaGVldCA/IGwuc3R5bGVTaGVldC5jc3NUZXh0ICs9IG4uc3R5bGVzaGVldCA6IGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobi5zdHlsZXNoZWV0KSkpOwoKICAgIGZvciAodmFyIGggPSBuZXcgUmVnRXhwKG4uZG9tYWluICsgJy8oLio/KSI/XFwpJyksIGYgPSB1Lmxlbmd0aCwgcCA9IDA7IGYgPiBwOyBwKyspIHsKICAgICAgdmFyIG0gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh1W3BdLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWltYWdlIiksCiAgICAgICAgICBnID0gbS5tYXRjaChoKSwKICAgICAgICAgIHYgPSB1W3BdLmdldEF0dHJpYnV0ZSgiZGF0YS1iYWNrZ3JvdW5kLXNyYyIpOwoKICAgICAgaWYgKGcpIHsKICAgICAgICB2YXIgeSA9IGMoZ1sxXS5zcGxpdCgiLyIpLCBuKTsKICAgICAgICB5ICYmIGEoImJhY2tncm91bmQiLCB1W3BdLCB5LCBtKTsKICAgICAgfSBlbHNlIGlmIChudWxsICE9IHYpIHsKICAgICAgICB2YXIgeSA9IGModi5zdWJzdHIodi5sYXN0SW5kZXhPZihuLmRvbWFpbikgKyBuLmRvbWFpbi5sZW5ndGggKyAxKS5zcGxpdCgiLyIpLCBuKTsKICAgICAgICB5ICYmIGEoImJhY2tncm91bmQiLCB1W3BdLCB5LCBtKTsKICAgICAgfQogICAgfQoKICAgIGZvciAoZiA9IHIubGVuZ3RoLCBwID0gMDsgZiA+IHA7IHArKykgewogICAgICB2YXIgYiwgeDsKICAgICAgeCA9IGIgPSBtID0gbnVsbDsKCiAgICAgIHRyeSB7CiAgICAgICAgeCA9IHJbcF0uZ2V0QXR0cmlidXRlKCJzcmMiKSwgYXR0cl9kYXRhc3JjID0gcltwXS5nZXRBdHRyaWJ1dGUoImRhdGEtc3JjIik7CiAgICAgIH0gY2F0Y2ggKEUpIHt9CgogICAgICBpZiAobnVsbCA9PSBhdHRyX2RhdGFzcmMgJiYgeCAmJiB4LmluZGV4T2Yobi5kb21haW4pID49IDAgPyBtID0geCA6IGF0dHJfZGF0YXNyYyAmJiBhdHRyX2RhdGFzcmMuaW5kZXhPZihuLmRvbWFpbikgPj0gMCAmJiAobSA9IGF0dHJfZGF0YXNyYyksIG0pIHsKICAgICAgICB2YXIgeSA9IGMobS5zdWJzdHIobS5sYXN0SW5kZXhPZihuLmRvbWFpbikgKyBuLmRvbWFpbi5sZW5ndGggKyAxKS5zcGxpdCgiLyIpLCBuKTsKICAgICAgICB5ICYmICh5LmZsdWlkID8gYSgiZmx1aWQiLCByW3BdLCB5LCBtKSA6IGEoImltYWdlIiwgcltwXSwgeSwgbSkpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfSwgbihlLCBmdW5jdGlvbiAoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA/ICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgbCwgITEpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLCBsLCAhMSkpIDogd2luZG93LmF0dGFjaEV2ZW50KCJvbnJlc2l6ZSIsIGwpLCBkIHx8IHQucnVuKCk7CiAgfSksICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kICYmIGRlZmluZShbXSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHQ7CiAgfSk7Cn0oSG9sZGVyLCB3aW5kb3cpLCAhZnVuY3Rpb24gKHQsIGUpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShlKSA6ICJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpID8gbW9kdWxlLmV4cG9ydHMgPSBlKCkgOiB0LnRyYW5zZm9ybWljb25zID0gZSgpOwp9KHRoaXMgfHwgd2luZG93LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgdCA9IHt9LAogICAgICBlID0gInRjb24tdHJhbnNmb3JtIiwKICAgICAgbiA9IHsKICAgIHRyYW5zZm9ybTogWyJjbGljayJdLAogICAgcmV2ZXJ0OiBbImNsaWNrIl0KICB9LAogICAgICBpID0gZnVuY3Rpb24gaSh0KSB7CiAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHQgPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKSA6ICJ1bmRlZmluZWQiID09IHR5cGVvZiB0IHx8IHQgaW5zdGFuY2VvZiBBcnJheSA/IHQgOiBbdF07CiAgfSwKICAgICAgbyA9IGZ1bmN0aW9uIG8odCkgewogICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiB0ID8gdC50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikgOiB0OwogIH0sCiAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIF9yKSB7CiAgICB2YXIgYSA9IChfciA/ICJyZW1vdmUiIDogImFkZCIpICsgIkV2ZW50TGlzdGVuZXIiLAogICAgICAgIHUgPSBpKHQpLAogICAgICAgIGwgPSB1Lmxlbmd0aCwKICAgICAgICBjID0ge307CgogICAgZm9yICh2YXIgZCBpbiBuKSB7CiAgICAgIGNbZF0gPSBlICYmIGVbZF0gPyBvKGVbZF0pIDogbltkXTsKICAgIH0KCiAgICBmb3IgKDsgbC0tOykgewogICAgICBmb3IgKHZhciBoIGluIGMpIHsKICAgICAgICBmb3IgKHZhciBmID0gY1toXS5sZW5ndGg7IGYtLTspIHsKICAgICAgICAgIHVbbF1bYV0oY1toXVtmXSwgcyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICAgICAgcyA9IGZ1bmN0aW9uIHMoZSkgewogICAgdC50b2dnbGUoZS5jdXJyZW50VGFyZ2V0KTsKICB9OwoKICByZXR1cm4gdC5hZGQgPSBmdW5jdGlvbiAoZSwgbikgewogICAgcmV0dXJuIHIoZSwgbiksIHQ7CiAgfSwgdC5yZW1vdmUgPSBmdW5jdGlvbiAoZSwgbikgewogICAgcmV0dXJuIHIoZSwgbiwgITApLCB0OwogIH0sIHQudHJhbnNmb3JtID0gZnVuY3Rpb24gKG4pIHsKICAgIHJldHVybiBpKG4pLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdC5jbGFzc0xpc3QuYWRkKGUpOwogICAgfSksIHQ7CiAgfSwgdC5yZXZlcnQgPSBmdW5jdGlvbiAobikgewogICAgcmV0dXJuIGkobikuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoZSk7CiAgICB9KSwgdDsKICB9LCB0LnRvZ2dsZSA9IGZ1bmN0aW9uIChuKSB7CiAgICByZXR1cm4gaShuKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgIHRbbi5jbGFzc0xpc3QuY29udGFpbnMoZSkgPyAicmV2ZXJ0IiA6ICJ0cmFuc2Zvcm0iXShuKTsKICAgIH0pLCB0OwogIH0sIHQ7Cn0pLCBmdW5jdGlvbiAoKSB7CiAgdmFyIHQsCiAgICAgIGUsCiAgICAgIG4sCiAgICAgIGksCiAgICAgIG8sCiAgICAgIHIsCiAgICAgIHMsCiAgICAgIGEsCiAgICAgIHUsCiAgICAgIGwsCiAgICAgIGMsCiAgICAgIGQsCiAgICAgIGgsCiAgICAgIGYsCiAgICAgIHAsCiAgICAgIG0sCiAgICAgIGcsCiAgICAgIHYsCiAgICAgIHksCiAgICAgIHcsCiAgICAgIF9iLAogICAgICB4LAogICAgICBFLAogICAgICBDLAogICAgICBTLAogICAgICBNLAogICAgICBrLAogICAgICBJLAogICAgICBfLAogICAgICBULAogICAgICB6LAogICAgICBPLAogICAgICBQLAogICAgICBMLAogICAgICBBLAogICAgICBCLAogICAgICBILAogICAgICBOLAogICAgICBqLAogICAgICBXLAogICAgICBSLAogICAgICBGLAogICAgICBxLAogICAgICBELAogICAgICBRLAogICAgICBVLAogICAgICBZLAogICAgICBWID0gW10uc2xpY2UsCiAgICAgIFggPSB7fS5oYXNPd25Qcm9wZXJ0eSwKICAgICAgRyA9IGZ1bmN0aW9uIEcodCwgZSkgewogICAgZnVuY3Rpb24gbigpIHsKICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IHQ7CiAgICB9CgogICAgZm9yICh2YXIgaSBpbiBlKSB7CiAgICAgIFguY2FsbChlLCBpKSAmJiAodFtpXSA9IGVbaV0pOwogICAgfQoKICAgIHJldHVybiBuLnByb3RvdHlwZSA9IGUucHJvdG90eXBlLCB0LnByb3RvdHlwZSA9IG5ldyBuKCksIHQuX19zdXBlcl9fID0gZS5wcm90b3R5cGUsIHQ7CiAgfSwKICAgICAgWiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24gKHQpIHsKICAgIGZvciAodmFyIGUgPSAwLCBuID0gdGhpcy5sZW5ndGg7IG4gPiBlOyBlKyspIHsKICAgICAgaWYgKGUgaW4gdGhpcyAmJiB0aGlzW2VdID09PSB0KSByZXR1cm4gZTsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfTsKCiAgZm9yICh3ID0gewogICAgY2F0Y2h1cFRpbWU6IDUwMCwKICAgIGluaXRpYWxSYXRlOiAuMDMsCiAgICBtaW5UaW1lOiA1MDAsCiAgICBnaG9zdFRpbWU6IDUwMCwKICAgIG1heFByb2dyZXNzUGVyRnJhbWU6IDEwLAogICAgZWFzZUZhY3RvcjogMS4yNSwKICAgIHN0YXJ0T25QYWdlTG9hZDogITAsCiAgICByZXN0YXJ0T25QdXNoU3RhdGU6ICEwLAogICAgcmVzdGFydE9uUmVxdWVzdEFmdGVyOiA1MDAsCiAgICB0YXJnZXQ6ICIucHJlbG9hZGVyIiwKICAgIGVsZW1lbnRzOiB7CiAgICAgIGNoZWNrSW50ZXJ2YWw6IDEwMCwKICAgICAgc2VsZWN0b3JzOiBbIi5wcmVsb2FkZXIiXQogICAgfSwKICAgIGV2ZW50TGFnOiB7CiAgICAgIG1pblNhbXBsZXM6IDEwLAogICAgICBzYW1wbGVDb3VudDogMywKICAgICAgbGFnVGhyZXNob2xkOiAzCiAgICB9LAogICAgYWpheDogITEKICB9LCBJID0gZnVuY3Rpb24gSSgpIHsKICAgIHZhciB0OwogICAgcmV0dXJuIG51bGwgIT0gKHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgcGVyZm9ybWFuY2UgJiYgbnVsbCAhPT0gcGVyZm9ybWFuY2UgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID8gcGVyZm9ybWFuY2Uubm93KCkgOiB2b2lkIDApID8gdCA6ICtuZXcgRGF0ZSgpOwogIH0sIFQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHkgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lLCBudWxsID09IFQgJiYgKFQgPSBmdW5jdGlvbiBUKHQpIHsKICAgIHJldHVybiBzZXRUaW1lb3V0KHQsIDUwKTsKICB9LCB5ID0gZnVuY3Rpb24geSh0KSB7CiAgICByZXR1cm4gY2xlYXJUaW1lb3V0KHQpOwogIH0pLCBPID0gZnVuY3Rpb24gTyh0KSB7CiAgICB2YXIgZSwgX247CgogICAgcmV0dXJuIGUgPSBJKCksIChfbiA9IGZ1bmN0aW9uIG4oKSB7CiAgICAgIHZhciBpOwogICAgICByZXR1cm4gaSA9IEkoKSAtIGUsIGkgPj0gMzMgPyAoZSA9IEkoKSwgdChpLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIFQoX24pOwogICAgICB9KSkgOiBzZXRUaW1lb3V0KF9uLCAzMyAtIGkpOwogICAgfSkoKTsKICB9LCB6ID0gZnVuY3Rpb24geigpIHsKICAgIHZhciB0LCBlLCBuOwogICAgcmV0dXJuIG4gPSBhcmd1bWVudHNbMF0sIGUgPSBhcmd1bWVudHNbMV0sIHQgPSAzIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBWLmNhbGwoYXJndW1lbnRzLCAyKSA6IFtdLCAiZnVuY3Rpb24iID09IHR5cGVvZiBuW2VdID8gbltlXS5hcHBseShuLCB0KSA6IG5bZV07CiAgfSwgX2IgPSBmdW5jdGlvbiBiKCkgewogICAgdmFyIHQsIGUsIG4sIGksIG8sIHIsIHM7CgogICAgZm9yIChlID0gYXJndW1lbnRzWzBdLCBpID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gVi5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXSwgciA9IDAsIHMgPSBpLmxlbmd0aDsgcyA+IHI7IHIrKykgewogICAgICBpZiAobiA9IGlbcl0pIGZvciAodCBpbiBuKSB7CiAgICAgICAgWC5jYWxsKG4sIHQpICYmIChvID0gblt0XSwgbnVsbCAhPSBlW3RdICYmICJvYmplY3QiID09IF90eXBlb2YoZVt0XSkgJiYgbnVsbCAhPSBvICYmICJvYmplY3QiID09IF90eXBlb2YobykgPyBfYihlW3RdLCBvKSA6IGVbdF0gPSBvKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBlOwogIH0sIG0gPSBmdW5jdGlvbiBtKHQpIHsKICAgIHZhciBlLCBuLCBpLCBvLCByOwoKICAgIGZvciAobiA9IGUgPSAwLCBvID0gMCwgciA9IHQubGVuZ3RoOyByID4gbzsgbysrKSB7CiAgICAgIGkgPSB0W29dLCBuICs9IE1hdGguYWJzKGkpLCBlKys7CiAgICB9CgogICAgcmV0dXJuIG4gLyBlOwogIH0sIEUgPSBmdW5jdGlvbiBFKHQsIGUpIHsKICAgIHZhciBuLCBpLCBvOwoKICAgIGlmIChudWxsID09IHQgJiYgKHQgPSAib3B0aW9ucyIpLCBudWxsID09IGUgJiYgKGUgPSAhMCksIG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbZGF0YS1wYWNlLSIgKyB0ICsgIl0iKSkgewogICAgICBpZiAobiA9IG8uZ2V0QXR0cmlidXRlKCJkYXRhLXBhY2UtIiArIHQpLCAhZSkgcmV0dXJuIG47CgogICAgICB0cnkgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKG4pOwogICAgICB9IGNhdGNoIChyKSB7CiAgICAgICAgcmV0dXJuIGkgPSByLCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgY29uc29sZSAmJiBudWxsICE9PSBjb25zb2xlID8gY29uc29sZS5lcnJvcigiRXJyb3IgcGFyc2luZyBpbmxpbmUgcGFjZSBvcHRpb25zIiwgaSkgOiB2b2lkIDA7CiAgICAgIH0KICAgIH0KICB9LCBzID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCgpIHt9CgogICAgcmV0dXJuIHQucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKHQsIGUsIG4sIGkpIHsKICAgICAgdmFyIG87CiAgICAgIHJldHVybiBudWxsID09IGkgJiYgKGkgPSAhMSksIG51bGwgPT0gdGhpcy5iaW5kaW5ncyAmJiAodGhpcy5iaW5kaW5ncyA9IHt9KSwgbnVsbCA9PSAobyA9IHRoaXMuYmluZGluZ3MpW3RdICYmIChvW3RdID0gW10pLCB0aGlzLmJpbmRpbmdzW3RdLnB1c2goewogICAgICAgIGhhbmRsZXI6IGUsCiAgICAgICAgY3R4OiBuLAogICAgICAgIG9uY2U6IGkKICAgICAgfSk7CiAgICB9LCB0LnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKHQsIGUsIG4pIHsKICAgICAgcmV0dXJuIHRoaXMub24odCwgZSwgbiwgITApOwogICAgfSwgdC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIG4sIGksIG87CgogICAgICBpZiAobnVsbCAhPSAobnVsbCAhPSAoaSA9IHRoaXMuYmluZGluZ3MpID8gaVt0XSA6IHZvaWQgMCkpIHsKICAgICAgICBpZiAobnVsbCA9PSBlKSByZXR1cm4gZGVsZXRlIHRoaXMuYmluZGluZ3NbdF07CgogICAgICAgIGZvciAobiA9IDAsIG8gPSBbXTsgbiA8IHRoaXMuYmluZGluZ3NbdF0ubGVuZ3RoOykgewogICAgICAgICAgdGhpcy5iaW5kaW5nc1t0XVtuXS5oYW5kbGVyID09PSBlID8gby5wdXNoKHRoaXMuYmluZGluZ3NbdF0uc3BsaWNlKG4sIDEpKSA6IG8ucHVzaChuKyspOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG87CiAgICAgIH0KICAgIH0sIHQucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0LCBlLCBuLCBpLCBvLCByLCBzLCBhLCB1OwoKICAgICAgaWYgKG4gPSBhcmd1bWVudHNbMF0sIHQgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBWLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdLCBudWxsICE9IChzID0gdGhpcy5iaW5kaW5ncykgPyBzW25dIDogdm9pZCAwKSB7CiAgICAgICAgZm9yIChvID0gMCwgdSA9IFtdOyBvIDwgdGhpcy5iaW5kaW5nc1tuXS5sZW5ndGg7KSB7CiAgICAgICAgICBhID0gdGhpcy5iaW5kaW5nc1tuXVtvXSwgaSA9IGEuaGFuZGxlciwgZSA9IGEuY3R4LCByID0gYS5vbmNlLCBpLmFwcGx5KG51bGwgIT0gZSA/IGUgOiB0aGlzLCB0KSwgciA/IHUucHVzaCh0aGlzLmJpbmRpbmdzW25dLnNwbGljZShvLCAxKSkgOiB1LnB1c2gobysrKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgICB9CiAgICB9LCB0OwogIH0oKSwgbnVsbCA9PSB3aW5kb3cuUGFjZSAmJiAod2luZG93LlBhY2UgPSB7fSksIF9iKFBhY2UsIHMucHJvdG90eXBlKSwgXyA9IFBhY2Uub3B0aW9ucyA9IF9iKHt9LCB3LCB3aW5kb3cucGFjZU9wdGlvbnMsIEUoKSksIFEgPSBbImFqYXgiLCAiZG9jdW1lbnQiLCAiZXZlbnRMYWciLCAiZWxlbWVudHMiXSwgUiA9IDAsIHEgPSBRLmxlbmd0aDsgcSA+IFI7IFIrKykgewogICAgQSA9IFFbUl0sIF9bQV0gPT09ICEwICYmIChfW0FdID0gd1tBXSk7CiAgfQoKICB1ID0gZnVuY3Rpb24gKHQpIHsKICAgIGZ1bmN0aW9uIGUoKSB7CiAgICAgIHJldHVybiBVID0gZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gRyhlLCB0KSwgZTsKICB9KEVycm9yKSwgZSA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIHQoKSB7CiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwOwogICAgfQoKICAgIHJldHVybiB0LnByb3RvdHlwZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdDsKCiAgICAgIGlmIChudWxsID09IHRoaXMuZWwpIHsKICAgICAgICBpZiAodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXy50YXJnZXQpLCAhdCkgdGhyb3cgbmV3IHUoKTsKICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksIHRoaXMuZWwuY2xhc3NOYW1lID0gInBhY2UgcGFjZS1hY3RpdmUiLCBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoInBhY2UtZG9uZSIsICIiKSwgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gIiBwYWNlLXJ1bm5pbmciLCB0aGlzLmVsLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJwYWNlLXByb2dyZXNzIj5cbiAgPGRpdiBjbGFzcz0icGFjZS1wcm9ncmVzcy1pbm5lciI+PC9kaXY+XG48L2Rpdj5cbjxkaXYgY2xhc3M9InBhY2UtYWN0aXZpdHkiPjwvZGl2PicsIG51bGwgIT0gdC5maXJzdENoaWxkID8gdC5pbnNlcnRCZWZvcmUodGhpcy5lbCwgdC5maXJzdENoaWxkKSA6IHQuYXBwZW5kQ2hpbGQodGhpcy5lbCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmVsOwogICAgfSwgdC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkgewogICAgICAkKCIucHJlbG9hZGVyIikuZmFkZU91dCg1MDApOwogICAgICB2YXIgdDsKICAgICAgcmV0dXJuIHQgPSB0aGlzLmdldEVsZW1lbnQoKSwgdC5jbGFzc05hbWUgPSB0LmNsYXNzTmFtZS5yZXBsYWNlKCJwYWNlLWFjdGl2ZSIsICIiKSwgdC5jbGFzc05hbWUgKz0gIiBwYWNlLWluYWN0aXZlIiwgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5yZXBsYWNlKCJwYWNlLXJ1bm5pbmciLCAiIiksIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lICs9ICIgcGFjZS1kb25lIjsKICAgIH0sIHQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzID0gdCwgdGhpcy5yZW5kZXIoKTsKICAgIH0sIHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmdldEVsZW1lbnQoKSk7CiAgICAgIH0gY2F0Y2ggKHQpIHsKICAgICAgICB1ID0gdDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZWwgPSB2b2lkIDA7CiAgICB9LCB0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0LCBlOwogICAgICByZXR1cm4gbnVsbCA9PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKF8udGFyZ2V0KSA/ICExIDogKHQgPSB0aGlzLmdldEVsZW1lbnQoKSwgdC5jaGlsZHJlblswXS5zdHlsZS53aWR0aCA9ICIiICsgdGhpcy5wcm9ncmVzcyArICIlIiwgKCF0aGlzLmxhc3RSZW5kZXJlZFByb2dyZXNzIHx8IHRoaXMubGFzdFJlbmRlcmVkUHJvZ3Jlc3MgfCAwICE9PSB0aGlzLnByb2dyZXNzIHwgMCkgJiYgKHQuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCJkYXRhLXByb2dyZXNzLXRleHQiLCAiIiArICgwIHwgdGhpcy5wcm9ncmVzcykgKyAiJSIpLCB0aGlzLnByb2dyZXNzID49IDEwMCA/IGUgPSAiOTkiIDogKGUgPSB0aGlzLnByb2dyZXNzIDwgMTAgPyAiMCIgOiAiIiwgZSArPSAwIHwgdGhpcy5wcm9ncmVzcyksIHQuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCJkYXRhLXByb2dyZXNzIiwgIiIgKyBlKSksIHRoaXMubGFzdFJlbmRlcmVkUHJvZ3Jlc3MgPSB0aGlzLnByb2dyZXNzKTsKICAgIH0sIHQucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzID49IDEwMDsKICAgIH0sIHQ7CiAgfSgpLCBhID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgdGhpcy5iaW5kaW5ncyA9IHt9OwogICAgfQoKICAgIHJldHVybiB0LnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIG4sIGksIG8sIHIsIHM7CgogICAgICBpZiAobnVsbCAhPSB0aGlzLmJpbmRpbmdzW3RdKSB7CiAgICAgICAgZm9yIChyID0gdGhpcy5iaW5kaW5nc1t0XSwgcyA9IFtdLCBpID0gMCwgbyA9IHIubGVuZ3RoOyBvID4gaTsgaSsrKSB7CiAgICAgICAgICBuID0gcltpXSwgcy5wdXNoKG4uY2FsbCh0aGlzLCBlKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gczsKICAgICAgfQogICAgfSwgdC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgbjsKICAgICAgcmV0dXJuIG51bGwgPT0gKG4gPSB0aGlzLmJpbmRpbmdzKVt0XSAmJiAoblt0XSA9IFtdKSwgdGhpcy5iaW5kaW5nc1t0XS5wdXNoKGUpOwogICAgfSwgdDsKICB9KCksIFcgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QsIGogPSB3aW5kb3cuWERvbWFpblJlcXVlc3QsIE4gPSB3aW5kb3cuV2ViU29ja2V0LCB4ID0gZnVuY3Rpb24geCh0LCBlKSB7CiAgICB2YXIgbiwgaSwgbywgcjsKICAgIHIgPSBbXTsKCiAgICBmb3IgKGkgaW4gZS5wcm90b3R5cGUpIHsKICAgICAgdHJ5IHsKICAgICAgICBvID0gZS5wcm90b3R5cGVbaV0sIG51bGwgPT0gdFtpXSAmJiAiZnVuY3Rpb24iICE9IHR5cGVvZiBvID8gci5wdXNoKHRbaV0gPSBvKSA6IHIucHVzaCh2b2lkIDApOwogICAgICB9IGNhdGNoIChzKSB7CiAgICAgICAgbiA9IHM7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcjsKICB9LCBNID0gW10sIFBhY2UuaWdub3JlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQsIGUsIG47CiAgICByZXR1cm4gZSA9IGFyZ3VtZW50c1swXSwgdCA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IFYuY2FsbChhcmd1bWVudHMsIDEpIDogW10sIE0udW5zaGlmdCgiaWdub3JlIiksIG4gPSBlLmFwcGx5KG51bGwsIHQpLCBNLnNoaWZ0KCksIG47CiAgfSwgUGFjZS50cmFjayA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0LCBlLCBuOwogICAgcmV0dXJuIGUgPSBhcmd1bWVudHNbMF0sIHQgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBWLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdLCBNLnVuc2hpZnQoInRyYWNrIiksIG4gPSBlLmFwcGx5KG51bGwsIHQpLCBNLnNoaWZ0KCksIG47CiAgfSwgTCA9IGZ1bmN0aW9uIEwodCkgewogICAgdmFyIGU7CiAgICBpZiAobnVsbCA9PSB0ICYmICh0ID0gIkdFVCIpLCAidHJhY2siID09PSBNWzBdKSByZXR1cm4gImZvcmNlIjsKCiAgICBpZiAoIU0ubGVuZ3RoICYmIF8uYWpheCkgewogICAgICBpZiAoInNvY2tldCIgPT09IHQgJiYgXy5hamF4LnRyYWNrV2ViU29ja2V0cykgcmV0dXJuICEwOwogICAgICBpZiAoZSA9IHQudG9VcHBlckNhc2UoKSwgWi5jYWxsKF8uYWpheC50cmFja01ldGhvZHMsIGUpID49IDApIHJldHVybiAhMDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfSwgbCA9IGZ1bmN0aW9uICh0KSB7CiAgICBmdW5jdGlvbiBlKCkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4gPSB0aGlzOwogICAgICBlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0ID0gZnVuY3Rpb24gdChfdCkgewogICAgICAgIHZhciBlOwogICAgICAgIHJldHVybiBlID0gX3Qub3BlbiwgX3Qub3BlbiA9IGZ1bmN0aW9uIChpLCBvLCByKSB7CiAgICAgICAgICByZXR1cm4gTChpKSAmJiBuLnRyaWdnZXIoInJlcXVlc3QiLCB7CiAgICAgICAgICAgIHR5cGU6IGksCiAgICAgICAgICAgIHVybDogbywKICAgICAgICAgICAgcmVxdWVzdDogX3QKICAgICAgICAgIH0pLCBlLmFwcGx5KF90LCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0sIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIG47CiAgICAgICAgcmV0dXJuIG4gPSBuZXcgVyhlKSwgdChuKSwgbjsKICAgICAgfSwgeCh3aW5kb3cuWE1MSHR0cFJlcXVlc3QsIFcpLCBudWxsICE9IGogJiYgKHdpbmRvdy5YRG9tYWluUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZTsKICAgICAgICByZXR1cm4gZSA9IG5ldyBqKCksIHQoZSksIGU7CiAgICAgIH0sIHgod2luZG93LlhEb21haW5SZXF1ZXN0LCBqKSksIG51bGwgIT0gTiAmJiBfLmFqYXgudHJhY2tXZWJTb2NrZXRzICYmICh3aW5kb3cuV2ViU29ja2V0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB2YXIgaTsKICAgICAgICByZXR1cm4gaSA9IG5ldyBOKHQsIGUpLCBMKCJzb2NrZXQiKSAmJiBuLnRyaWdnZXIoInJlcXVlc3QiLCB7CiAgICAgICAgICB0eXBlOiAic29ja2V0IiwKICAgICAgICAgIHVybDogdCwKICAgICAgICAgIHByb3RvY29sczogZSwKICAgICAgICAgIHJlcXVlc3Q6IGkKICAgICAgICB9KSwgaTsKICAgICAgfSwgeCh3aW5kb3cuV2ViU29ja2V0LCBOKSk7CiAgICB9CgogICAgcmV0dXJuIEcoZSwgdCksIGU7CiAgfShhKSwgRiA9IG51bGwsIEMgPSBmdW5jdGlvbiBDKCkgewogICAgcmV0dXJuIG51bGwgPT0gRiAmJiAoRiA9IG5ldyBsKCkpLCBGOwogIH0sIEMoKS5vbigicmVxdWVzdCIsIGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgbiwgaSwgbywgcjsKICAgIHJldHVybiByID0gZS50eXBlLCBvID0gZS5yZXF1ZXN0LCBQYWNlLnJ1bm5pbmcgfHwgXy5yZXN0YXJ0T25SZXF1ZXN0QWZ0ZXIgPT09ICExICYmICJmb3JjZSIgIT09IEwocikgPyB2b2lkIDAgOiAoaSA9IGFyZ3VtZW50cywgbiA9IF8ucmVzdGFydE9uUmVxdWVzdEFmdGVyIHx8IDAsICJib29sZWFuIiA9PSB0eXBlb2YgbiAmJiAobiA9IDApLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUsIG4sIHMsIGEsIHUsIGw7CgogICAgICBpZiAoZSA9ICJzb2NrZXQiID09PSByID8gby5yZWFkeVN0YXRlIDwgMiA6IDAgPCAoYSA9IG8ucmVhZHlTdGF0ZSkgJiYgNCA+IGEpIHsKICAgICAgICBmb3IgKFBhY2UucmVzdGFydCgpLCB1ID0gUGFjZS5zb3VyY2VzLCBsID0gW10sIG4gPSAwLCBzID0gdS5sZW5ndGg7IHMgPiBuOyBuKyspIHsKICAgICAgICAgIGlmIChBID0gdVtuXSwgQSBpbnN0YW5jZW9mIHQpIHsKICAgICAgICAgICAgQS53YXRjaC5hcHBseShBLCBpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgbC5wdXNoKHZvaWQgMCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbDsKICAgICAgfQogICAgfSwgbikpOwogIH0pLCB0ID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgdmFyIHQgPSB0aGlzOwogICAgICB0aGlzLmVsZW1lbnRzID0gW10sIEMoKS5vbigicmVxdWVzdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdC53YXRjaC5hcHBseSh0LCBhcmd1bWVudHMpOwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gdC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAodCkgewogICAgICB2YXIgZSwgbiwgaTsKICAgICAgcmV0dXJuIGkgPSB0LnR5cGUsIGUgPSB0LnJlcXVlc3QsIG4gPSAic29ja2V0IiA9PT0gaSA/IG5ldyBoKGUpIDogbmV3IGYoZSksIHRoaXMuZWxlbWVudHMucHVzaChuKTsKICAgIH0sIHQ7CiAgfSgpLCBmID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCh0KSB7CiAgICAgIHZhciBlLAogICAgICAgICAgbiwKICAgICAgICAgIGksCiAgICAgICAgICBvLAogICAgICAgICAgciwKICAgICAgICAgIHMsCiAgICAgICAgICBhID0gdGhpczsKICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPSAwLCBudWxsICE9IHdpbmRvdy5Qcm9ncmVzc0V2ZW50KSBmb3IgKG4gPSBudWxsLCB0LmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdC5sZW5ndGhDb21wdXRhYmxlID8gYS5wcm9ncmVzcyA9IDEwMCAqIHQubG9hZGVkIC8gdC50b3RhbCA6IGEucHJvZ3Jlc3MgPSBhLnByb2dyZXNzICsgKDEwMCAtIGEucHJvZ3Jlc3MpIC8gMjsKICAgICAgfSksIHMgPSBbImxvYWQiLCAiYWJvcnQiLCAidGltZW91dCIsICJlcnJvciJdLCBpID0gMCwgbyA9IHMubGVuZ3RoOyBvID4gaTsgaSsrKSB7CiAgICAgICAgZSA9IHNbaV0sIHQuYWRkRXZlbnRMaXN0ZW5lcihlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gYS5wcm9ncmVzcyA9IDEwMDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHIgPSB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSwgdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGU7CiAgICAgICAgcmV0dXJuIDAgPT09IChlID0gdC5yZWFkeVN0YXRlKSB8fCA0ID09PSBlID8gYS5wcm9ncmVzcyA9IDEwMCA6IDMgPT09IHQucmVhZHlTdGF0ZSAmJiAoYS5wcm9ncmVzcyA9IDUwKSwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgciA/IHIuYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IHZvaWQgMDsKICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9KCksIGggPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiB0KHQpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBuLAogICAgICAgICAgaSwKICAgICAgICAgIG8sCiAgICAgICAgICByID0gdGhpczsKCiAgICAgIGZvciAodGhpcy5wcm9ncmVzcyA9IDAsIG8gPSBbImVycm9yIiwgIm9wZW4iXSwgbiA9IDAsIGkgPSBvLmxlbmd0aDsgaSA+IG47IG4rKykgewogICAgICAgIGUgPSBvW25dLCB0LmFkZEV2ZW50TGlzdGVuZXIoZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHIucHJvZ3Jlc3MgPSAxMDA7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdDsKICB9KCksIGkgPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiB0KHQpIHsKICAgICAgdmFyIGUsIG4sIGksIHI7CgogICAgICBmb3IgKG51bGwgPT0gdCAmJiAodCA9IHt9KSwgdGhpcy5lbGVtZW50cyA9IFtdLCBudWxsID09IHQuc2VsZWN0b3JzICYmICh0LnNlbGVjdG9ycyA9IFtdKSwgciA9IHQuc2VsZWN0b3JzLCBuID0gMCwgaSA9IHIubGVuZ3RoOyBpID4gbjsgbisrKSB7CiAgICAgICAgZSA9IHJbbl0sIHRoaXMuZWxlbWVudHMucHVzaChuZXcgbyhlKSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdDsKICB9KCksIG8gPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiB0KHQpIHsKICAgICAgdGhpcy5zZWxlY3RvciA9IHQsIHRoaXMucHJvZ3Jlc3MgPSAwLCB0aGlzLmNoZWNrKCk7CiAgICB9CgogICAgcmV0dXJuIHQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpID8gdGhpcy5kb25lKCkgOiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdC5jaGVjaygpOwogICAgICB9LCBfLmVsZW1lbnRzLmNoZWNrSW50ZXJ2YWwpOwogICAgfSwgdC5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3MgPSAxMDA7CiAgICB9LCB0OwogIH0oKSwgbiA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIHQoKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgZSwKICAgICAgICAgIG4gPSB0aGlzOwogICAgICB0aGlzLnByb2dyZXNzID0gbnVsbCAhPSAoZSA9IHRoaXMuc3RhdGVzW2RvY3VtZW50LnJlYWR5U3RhdGVdKSA/IGUgOiAxMDAsIHQgPSBkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UsIGRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbnVsbCAhPSBuLnN0YXRlc1tkb2N1bWVudC5yZWFkeVN0YXRlXSAmJiAobi5wcm9ncmVzcyA9IG4uc3RhdGVzW2RvY3VtZW50LnJlYWR5U3RhdGVdKSwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/IHQuYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IHZvaWQgMDsKICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gdC5wcm90b3R5cGUuc3RhdGVzID0gewogICAgICBsb2FkaW5nOiAwLAogICAgICBpbnRlcmFjdGl2ZTogNTAsCiAgICAgIGNvbXBsZXRlOiAxMDAKICAgIH0sIHQ7CiAgfSgpLCByID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBlLAogICAgICAgICAgbiwKICAgICAgICAgIGksCiAgICAgICAgICBvLAogICAgICAgICAgciA9IHRoaXM7CiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwLCB0ID0gMCwgbyA9IFtdLCBpID0gMCwgbiA9IEkoKSwgZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgczsKICAgICAgICByZXR1cm4gcyA9IEkoKSAtIG4gLSA1MCwgbiA9IEkoKSwgby5wdXNoKHMpLCBvLmxlbmd0aCA+IF8uZXZlbnRMYWcuc2FtcGxlQ291bnQgJiYgby5zaGlmdCgpLCB0ID0gbShvKSwgKytpID49IF8uZXZlbnRMYWcubWluU2FtcGxlcyAmJiB0IDwgXy5ldmVudExhZy5sYWdUaHJlc2hvbGQgPyAoci5wcm9ncmVzcyA9IDEwMCwgY2xlYXJJbnRlcnZhbChlKSkgOiByLnByb2dyZXNzID0gMTAwICogKDMgLyAodCArIDMpKTsKICAgICAgfSwgNTApOwogICAgfQoKICAgIHJldHVybiB0OwogIH0oKSwgZCA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIHQodCkgewogICAgICB0aGlzLnNvdXJjZSA9IHQsIHRoaXMubGFzdCA9IHRoaXMuc2luY2VMYXN0VXBkYXRlID0gMCwgdGhpcy5yYXRlID0gXy5pbml0aWFsUmF0ZSwgdGhpcy5jYXRjaHVwID0gMCwgdGhpcy5wcm9ncmVzcyA9IHRoaXMubGFzdFByb2dyZXNzID0gMCwgbnVsbCAhPSB0aGlzLnNvdXJjZSAmJiAodGhpcy5wcm9ncmVzcyA9IHoodGhpcy5zb3VyY2UsICJwcm9ncmVzcyIpKTsKICAgIH0KCiAgICByZXR1cm4gdC5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHZhciBuOwogICAgICByZXR1cm4gbnVsbCA9PSBlICYmIChlID0geih0aGlzLnNvdXJjZSwgInByb2dyZXNzIikpLCBlID49IDEwMCAmJiAodGhpcy5kb25lID0gITApLCBlID09PSB0aGlzLmxhc3QgPyB0aGlzLnNpbmNlTGFzdFVwZGF0ZSArPSB0IDogKHRoaXMuc2luY2VMYXN0VXBkYXRlICYmICh0aGlzLnJhdGUgPSAoZSAtIHRoaXMubGFzdCkgLyB0aGlzLnNpbmNlTGFzdFVwZGF0ZSksIHRoaXMuY2F0Y2h1cCA9IChlIC0gdGhpcy5wcm9ncmVzcykgLyBfLmNhdGNodXBUaW1lLCB0aGlzLnNpbmNlTGFzdFVwZGF0ZSA9IDAsIHRoaXMubGFzdCA9IGUpLCBlID4gdGhpcy5wcm9ncmVzcyAmJiAodGhpcy5wcm9ncmVzcyArPSB0aGlzLmNhdGNodXAgKiB0KSwgbiA9IDEgLSBNYXRoLnBvdyh0aGlzLnByb2dyZXNzIC8gMTAwLCBfLmVhc2VGYWN0b3IpLCB0aGlzLnByb2dyZXNzICs9IG4gKiB0aGlzLnJhdGUgKiB0LCB0aGlzLnByb2dyZXNzID0gTWF0aC5taW4odGhpcy5sYXN0UHJvZ3Jlc3MgKyBfLm1heFByb2dyZXNzUGVyRnJhbWUsIHRoaXMucHJvZ3Jlc3MpLCB0aGlzLnByb2dyZXNzID0gTWF0aC5tYXgoMCwgdGhpcy5wcm9ncmVzcyksIHRoaXMucHJvZ3Jlc3MgPSBNYXRoLm1pbigxMDAsIHRoaXMucHJvZ3Jlc3MpLCB0aGlzLmxhc3RQcm9ncmVzcyA9IHRoaXMucHJvZ3Jlc3MsIHRoaXMucHJvZ3Jlc3M7CiAgICB9LCB0OwogIH0oKSwgQiA9IG51bGwsIFAgPSBudWxsLCBnID0gbnVsbCwgSCA9IG51bGwsIHAgPSBudWxsLCB2ID0gbnVsbCwgUGFjZS5ydW5uaW5nID0gITEsIFMgPSBmdW5jdGlvbiBTKCkgewogICAgcmV0dXJuIF8ucmVzdGFydE9uUHVzaFN0YXRlID8gUGFjZS5yZXN0YXJ0KCkgOiB2b2lkIDA7CiAgfSwgbnVsbCAhPSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUgJiYgKEQgPSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUsIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBTKCksIEQuYXBwbHkod2luZG93Lmhpc3RvcnksIGFyZ3VtZW50cyk7CiAgfSksIG51bGwgIT0gd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlICYmIChZID0gd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlLCB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gUygpLCBZLmFwcGx5KHdpbmRvdy5oaXN0b3J5LCBhcmd1bWVudHMpOwogIH0pLCBjID0gewogICAgYWpheDogdCwKICAgIGVsZW1lbnRzOiBpLAogICAgZG9jdW1lbnQ6IG4sCiAgICBldmVudExhZzogcgogIH0sIChrID0gZnVuY3Rpb24gaygpIHsKICAgIHZhciB0LCBuLCBpLCBvLCByLCBzLCBhLCB1OwoKICAgIGZvciAoUGFjZS5zb3VyY2VzID0gQiA9IFtdLCBzID0gWyJhamF4IiwgImVsZW1lbnRzIiwgImRvY3VtZW50IiwgImV2ZW50TGFnIl0sIG4gPSAwLCBvID0gcy5sZW5ndGg7IG8gPiBuOyBuKyspIHsKICAgICAgdCA9IHNbbl0sIF9bdF0gIT09ICExICYmIEIucHVzaChuZXcgY1t0XShfW3RdKSk7CiAgICB9CgogICAgZm9yICh1ID0gbnVsbCAhPSAoYSA9IF8uZXh0cmFTb3VyY2VzKSA/IGEgOiBbXSwgaSA9IDAsIHIgPSB1Lmxlbmd0aDsgciA+IGk7IGkrKykgewogICAgICBBID0gdVtpXSwgQi5wdXNoKG5ldyBBKF8pKTsKICAgIH0KCiAgICByZXR1cm4gUGFjZS5iYXIgPSBnID0gbmV3IGUoKSwgUCA9IFtdLCBIID0gbmV3IGQoKTsKICB9KSgpLCBQYWNlLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gUGFjZS50cmlnZ2VyKCJzdG9wIiksIFBhY2UucnVubmluZyA9ICExLCBnLmRlc3Ryb3koKSwgdiA9ICEwLCBudWxsICE9IHAgJiYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIHkgJiYgeShwKSwgcCA9IG51bGwpLCBrKCk7CiAgfSwgUGFjZS5yZXN0YXJ0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIFBhY2UudHJpZ2dlcigicmVzdGFydCIpLCBQYWNlLnN0b3AoKSwgUGFjZS5zdGFydCgpOwogIH0sIFBhY2UuZ28gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gUGFjZS5ydW5uaW5nID0gITAsIGcucmVuZGVyKCksIHYgPSAhMSwgcCA9IE8oZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIG4sIGksIG8sIHIsIHMsIGEsIHUsIGwsIGMsIGgsIGYsIHAsIG0sIHksIHcsIGIsIHg7CgogICAgICBmb3IgKGwgPSAxMDAgLSBnLnByb2dyZXNzLCBpID0gcCA9IDAsIG8gPSAhMCwgYSA9IG0gPSAwLCB3ID0gQi5sZW5ndGg7IHcgPiBtOyBhID0gKyttKSB7CiAgICAgICAgZm9yIChBID0gQlthXSwgaCA9IG51bGwgIT0gUFthXSA/IFBbYV0gOiBQW2FdID0gW10sIHMgPSBudWxsICE9ICh4ID0gQS5lbGVtZW50cykgPyB4IDogW0FdLCB1ID0geSA9IDAsIGIgPSBzLmxlbmd0aDsgYiA+IHk7IHUgPSArK3kpIHsKICAgICAgICAgIHIgPSBzW3VdLCBjID0gbnVsbCAhPSBoW3VdID8gaFt1XSA6IGhbdV0gPSBuZXcgZChyKSwgbyAmPSBjLmRvbmUsIGMuZG9uZSB8fCAoaSsrLCBwICs9IGMudGljayh0KSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbiA9IHAgLyBpLCBnLnVwZGF0ZShILnRpY2sodCwgbikpLCBmID0gSSgpLCBnLmRvbmUoKSB8fCBvIHx8IHYgPyAoZy51cGRhdGUoMTAwKSwgUGFjZS50cmlnZ2VyKCJkb25lIiksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBnLmZpbmlzaCgpLCBQYWNlLnJ1bm5pbmcgPSAhMSwgUGFjZS50cmlnZ2VyKCJoaWRlIik7CiAgICAgIH0sIE1hdGgubWF4KF8uZ2hvc3RUaW1lLCBNYXRoLm1pbihfLm1pblRpbWUsIEkoKSAtIGYpKSkpIDogZSgpOwogICAgfSk7CiAgfSwgUGFjZS5zdGFydCA9IGZ1bmN0aW9uICh0KSB7CiAgICBfYihfLCB0KSwgUGFjZS5ydW5uaW5nID0gITA7CgogICAgdHJ5IHsKICAgICAgZy5yZW5kZXIoKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdSA9IGU7CiAgICB9CgogICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYWNlIikgPyAoUGFjZS50cmlnZ2VyKCJzdGFydCIpLCBQYWNlLmdvKCkpIDogc2V0VGltZW91dChQYWNlLnN0YXJ0LCA1MCk7CiAgfSwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIFBhY2U7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IG1vZHVsZS5leHBvcnRzID0gUGFjZSA6IF8uc3RhcnRPblBhZ2VMb2FkICYmIFBhY2Uuc3RhcnQoKTsKfS5jYWxsKHRoaXMpLCBmdW5jdGlvbiAodCkgewogIHQuZm4ubWF0Y2hIZWlnaHQgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIDEgPj0gdGhpcy5sZW5ndGggPyB0aGlzIDogKGUgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZSA/IGUgOiAhMCwgdC5mbi5tYXRjaEhlaWdodC5fZ3JvdXBzLnB1c2goewogICAgICBlbGVtZW50czogdGhpcywKICAgICAgYnlSb3c6IGUKICAgIH0pLCB0LmZuLm1hdGNoSGVpZ2h0Ll9hcHBseSh0aGlzLCBlKSwgdGhpcyk7CiAgfSwgdC5mbi5tYXRjaEhlaWdodC5fYXBwbHkgPSBmdW5jdGlvbiAoZSwgbykgewogICAgdmFyIHIgPSB0KGUpLAogICAgICAgIHMgPSBbcl07CiAgICByZXR1cm4gbyAmJiAoci5jc3MoewogICAgICBkaXNwbGF5OiAiYmxvY2siLAogICAgICAicGFkZGluZy10b3AiOiAiMCIsCiAgICAgICJwYWRkaW5nLWJvdHRvbSI6ICIwIiwKICAgICAgImJvcmRlci10b3AiOiAiMCIsCiAgICAgICJib3JkZXItYm90dG9tIjogIjAiLAogICAgICBoZWlnaHQ6ICIxMDBweCIKICAgIH0pLCBzID0gbihyKSwgci5jc3MoewogICAgICBkaXNwbGF5OiAiIiwKICAgICAgInBhZGRpbmctdG9wIjogIiIsCiAgICAgICJwYWRkaW5nLWJvdHRvbSI6ICIiLAogICAgICAiYm9yZGVyLXRvcCI6ICIiLAogICAgICAiYm9yZGVyLWJvdHRvbSI6ICIiLAogICAgICBoZWlnaHQ6ICIiCiAgICB9KSksIHQuZWFjaChzLCBmdW5jdGlvbiAoZSwgbikgewogICAgICB2YXIgbyA9IHQobiksCiAgICAgICAgICByID0gMDsKICAgICAgby5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHQodGhpcyk7CiAgICAgICAgZS5jc3MoewogICAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICAgIGhlaWdodDogIiIKICAgICAgICB9KSwgZS5vdXRlckhlaWdodCghMSkgPiByICYmIChyID0gZS5vdXRlckhlaWdodCghMSkpOwogICAgICB9KSwgby5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHQodGhpcyksCiAgICAgICAgICAgIG4gPSAwOwogICAgICAgICJib3JkZXItYm94IiAhPT0gZS5jc3MoImJveC1zaXppbmciKSAmJiAobiArPSBpKGUuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpICsgaShlLmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKSwgbiArPSBpKGUuY3NzKCJwYWRkaW5nLXRvcCIpKSArIGkoZS5jc3MoInBhZGRpbmctYm90dG9tIikpKSwgZS5jc3MoImhlaWdodCIsIHIgLSBuKTsKICAgICAgfSk7CiAgICB9KSwgdGhpczsKICB9LCB0LmZuLm1hdGNoSGVpZ2h0Ll9hcHBseURhdGFBcGkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZSA9IHt9OwogICAgdCgiW2RhdGEtbWF0Y2gtaGVpZ2h0XSwgW2RhdGEtbWhdIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBuID0gdCh0aGlzKSwKICAgICAgICAgIGkgPSBuLmF0dHIoImRhdGEtbWF0Y2gtaGVpZ2h0Iik7CiAgICAgIGVbaV0gPSBpIGluIGUgPyBlW2ldLmFkZChuKSA6IG47CiAgICB9KSwgdC5lYWNoKGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5tYXRjaEhlaWdodCghMCk7CiAgICB9KTsKICB9LCB0LmZuLm1hdGNoSGVpZ2h0Ll9ncm91cHMgPSBbXTsKICB2YXIgZSA9IC0xOwogIHQuZm4ubWF0Y2hIZWlnaHQuX3VwZGF0ZSA9IGZ1bmN0aW9uIChuKSB7CiAgICBpZiAobiAmJiAicmVzaXplIiA9PT0gbi50eXBlKSB7CiAgICAgIGlmIChuID0gdCh3aW5kb3cpLndpZHRoKCksIG4gPT09IGUpIHJldHVybjsKICAgICAgZSA9IG47CiAgICB9CgogICAgdC5lYWNoKHQuZm4ubWF0Y2hIZWlnaHQuX2dyb3VwcywgZnVuY3Rpb24gKCkgewogICAgICB0LmZuLm1hdGNoSGVpZ2h0Ll9hcHBseSh0aGlzLmVsZW1lbnRzLCB0aGlzLmJ5Um93KTsKICAgIH0pOwogIH0sIHQodC5mbi5tYXRjaEhlaWdodC5fYXBwbHlEYXRhQXBpKSwgdCh3aW5kb3cpLmJpbmQoImxvYWQgcmVzaXplIG9yaWVudGF0aW9uY2hhbmdlIiwgdC5mbi5tYXRjaEhlaWdodC5fdXBkYXRlKTsKCiAgdmFyIG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgIHZhciBuID0gbnVsbCwKICAgICAgICBvID0gW107CiAgICByZXR1cm4gdChlKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0KHRoaXMpLAogICAgICAgICAgciA9IGUub2Zmc2V0KCkudG9wIC0gaShlLmNzcygibWFyZ2luLXRvcCIpKSwKICAgICAgICAgIHMgPSAwIDwgby5sZW5ndGggPyBvW28ubGVuZ3RoIC0gMV0gOiBudWxsOwogICAgICBudWxsID09PSBzID8gby5wdXNoKGUpIDogMSA+PSBNYXRoLmZsb29yKE1hdGguYWJzKG4gLSByKSkgPyBvW28ubGVuZ3RoIC0gMV0gPSBzLmFkZChlKSA6IG8ucHVzaChlKSwgbiA9IHI7CiAgICB9KSwgbzsKICB9LAogICAgICBpID0gZnVuY3Rpb24gaSh0KSB7CiAgICByZXR1cm4gcGFyc2VGbG9hdCh0KSB8fCAwOwogIH07Cn0oalF1ZXJ5KSwgZnVuY3Rpb24gKHQpIHsKICB0LmZuLmdNYXAgPSBmdW5jdGlvbiAoZSwgbikgewogICAgc3dpdGNoIChlKSB7CiAgICAgIGNhc2UgImFkZE1hcmtlciI6CiAgICAgICAgcmV0dXJuIHQodGhpcykudHJpZ2dlcigiZ01hcC5hZGRNYXJrZXIiLCBbbi5sYXRpdHVkZSwgbi5sb25naXR1ZGUsIG4uY29udGVudCwgbi5pY29uLCBuLnBvcHVwXSk7CgogICAgICBjYXNlICJjZW50ZXJBdCI6CiAgICAgICAgcmV0dXJuIHQodGhpcykudHJpZ2dlcigiZ01hcC5jZW50ZXJBdCIsIFtuLmxhdGl0dWRlLCBuLmxvbmdpdHVkZSwgbi56b29tXSk7CgogICAgICBjYXNlICJjbGVhck1hcmtlcnMiOgogICAgICAgIHJldHVybiB0KHRoaXMpLnRyaWdnZXIoImdNYXAuY2xlYXJNYXJrZXJzIik7CiAgICB9CgogICAgdmFyIGkgPSB0LmV4dGVuZCh7fSwgdC5mbi5nTWFwLmRlZmF1bHRzLCBlKTsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IG5ldyBnb29nbGUubWFwcy5NYXAodGhpcyk7CiAgICAgIHQodGhpcykuZGF0YSgiZ01hcC5yZWZlcmVuY2UiLCBlKTsKICAgICAgdmFyIG4gPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTsKICAgICAgaS5hZGRyZXNzID8gbi5nZW9jb2RlKHsKICAgICAgICBhZGRyZXNzOiBpLmFkZHJlc3MKICAgICAgfSwgZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICB0ICYmIHQubGVuZ3RoICYmIGUuc2V0Q2VudGVyKHRbMF0uZ2VvbWV0cnkubG9jYXRpb24pOwogICAgICB9KSA6IGkubGF0aXR1ZGUgJiYgaS5sb25naXR1ZGUgPyBlLnNldENlbnRlcihuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGkubGF0aXR1ZGUsIGkubG9uZ2l0dWRlKSkgOiB0LmlzQXJyYXkoaS5tYXJrZXJzKSAmJiBpLm1hcmtlcnMubGVuZ3RoID4gMCA/IGkubWFya2Vyc1swXS5hZGRyZXNzID8gbi5nZW9jb2RlKHsKICAgICAgICBhZGRyZXNzOiBpLm1hcmtlcnNbMF0uYWRkcmVzcwogICAgICB9LCBmdW5jdGlvbiAodCwgbikgewogICAgICAgIHQgJiYgdC5sZW5ndGggPiAwICYmIGUuc2V0Q2VudGVyKHRbMF0uZ2VvbWV0cnkubG9jYXRpb24pOwogICAgICB9KSA6IGUuc2V0Q2VudGVyKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoaS5tYXJrZXJzWzBdLmxhdGl0dWRlLCBpLm1hcmtlcnNbMF0ubG9uZ2l0dWRlKSkgOiBlLnNldENlbnRlcihuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDM0Ljg4NTkzMSwgOS44NDM3NSkpLCBlLnNldFpvb20oaS56b29tKSwgZS5zZXRNYXBUeXBlSWQoZ29vZ2xlLm1hcHMuTWFwVHlwZUlkW2kubWFwdHlwZV0pOwogICAgICB2YXIgbyA9IHsKICAgICAgICBzY3JvbGx3aGVlbDogaS5zY3JvbGx3aGVlbCwKICAgICAgICBkaXNhYmxlRG91YmxlQ2xpY2tab29tOiAhaS5kb3VibGVjbGlja3pvb20sCiAgICAgICAgc3R5bGVzOiBpLnN0eWxlcwogICAgICB9OwogICAgICBpLmNvbnRyb2xzID09PSAhMSA/IHQuZXh0ZW5kKG8sIHsKICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiAhMAogICAgICB9KSA6IDAgIT09IGkuY29udHJvbHMubGVuZ3RoICYmIHQuZXh0ZW5kKG8sIGkuY29udHJvbHMsIHsKICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiAhMAogICAgICB9KSwgZS5zZXRPcHRpb25zKG8pOwogICAgICB2YXIgciwKICAgICAgICAgIHMsCiAgICAgICAgICBhID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcigpOwogICAgICByID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlckltYWdlKGkuaWNvbi5pbWFnZSksIHIuc2l6ZSA9IG5ldyBnb29nbGUubWFwcy5TaXplKGkuaWNvbi5pY29uc2l6ZVswXSwgaS5pY29uLmljb25zaXplWzFdKSwgci5hbmNob3IgPSBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoaS5pY29uLmljb25hbmNob3JbMF0sIGkuaWNvbi5pY29uYW5jaG9yWzFdKSwgYS5zZXRJY29uKHIpLCBpLmljb24uc2hhZG93ICYmIChzID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlckltYWdlKGkuaWNvbi5zaGFkb3cpLCBzLnNpemUgPSBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShpLmljb24uc2hhZG93c2l6ZVswXSwgaS5pY29uLnNoYWRvd3NpemVbMV0pLCBzLmFuY2hvciA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChpLmljb24uc2hhZG93YW5jaG9yWzBdLCBpLmljb24uc2hhZG93YW5jaG9yWzFdKSwgYS5zZXRTaGFkb3cocykpLCB0KHRoaXMpLmJpbmQoImdNYXAuY2VudGVyQXQiLCBmdW5jdGlvbiAodCwgbiwgaSwgbykgewogICAgICAgIG8gJiYgZS5zZXRab29tKG8pLCBlLnBhblRvKG5ldyBnb29nbGUubWFwcy5MYXRMbmcocGFyc2VGbG9hdChuKSwgcGFyc2VGbG9hdChpKSkpOwogICAgICB9KTsKICAgICAgdmFyIHUgPSBbXTsKICAgICAgdCh0aGlzKS5iaW5kKCJnTWFwLmNsZWFyTWFya2VycyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKDsgdVswXTspIHsKICAgICAgICAgIHUucG9wKCkuc2V0TWFwKG51bGwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBsOwogICAgICB0KHRoaXMpLmJpbmQoImdNYXAuYWRkTWFya2VyIiwgZnVuY3Rpb24gKHQsIG4sIG8sIHIsIHMsIGMpIHsKICAgICAgICB2YXIgZCwKICAgICAgICAgICAgaCwKICAgICAgICAgICAgZiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocGFyc2VGbG9hdChuKSwgcGFyc2VGbG9hdChvKSksCiAgICAgICAgICAgIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHsKICAgICAgICAgIHBvc2l0aW9uOiBmCiAgICAgICAgfSk7CgogICAgICAgIGlmIChzID8gKGQgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VySW1hZ2Uocy5pbWFnZSksIGQuc2l6ZSA9IG5ldyBnb29nbGUubWFwcy5TaXplKHMuaWNvbnNpemVbMF0sIHMuaWNvbnNpemVbMV0pLCBkLmFuY2hvciA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChzLmljb25hbmNob3JbMF0sIHMuaWNvbmFuY2hvclsxXSksIHAuc2V0SWNvbihkKSwgcy5zaGFkb3cgJiYgKGggPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VySW1hZ2Uocy5zaGFkb3cpLCBoLnNpemUgPSBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShzLnNoYWRvd3NpemVbMF0sIHMuc2hhZG93c2l6ZVsxXSksIGguYW5jaG9yID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KHMuc2hhZG93YW5jaG9yWzBdLCBzLnNoYWRvd2FuY2hvclsxXSksIGEuc2V0U2hhZG93KGgpKSkgOiAocC5zZXRJY29uKGEuZ2V0SWNvbigpKSwgcC5zZXRTaGFkb3coYS5nZXRTaGFkb3coKSkpLCByKSB7CiAgICAgICAgICAiX2xhdGxuZyIgPT09IHIgJiYgKHIgPSBuICsgIiwgIiArIG8pOwogICAgICAgICAgdmFyIG0gPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7CiAgICAgICAgICAgIGNvbnRlbnQ6IGkuaHRtbF9wcmVwZW5kICsgciArIGkuaHRtbF9hcHBlbmQKICAgICAgICAgIH0pOwogICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocCwgImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsICYmIGwuY2xvc2UoKSwgbS5vcGVuKGUsIHApLCBsID0gbTsKICAgICAgICAgIH0pLCBjICYmIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShlLCAidGlsZXNsb2FkZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG0ub3BlbihlLCBwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcC5zZXRNYXAoZSksIHUucHVzaChwKTsKICAgICAgfSk7CgogICAgICBmb3IgKHZhciBjLCBkID0gdGhpcywgaCA9IGZ1bmN0aW9uIGgoZSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAobiwgaSkgewogICAgICAgICAgbiAmJiBuLmxlbmd0aCA+IDAgJiYgdChkKS50cmlnZ2VyKCJnTWFwLmFkZE1hcmtlciIsIFtuWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLCBuWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpLCBlLmh0bWwsIGUuaWNvbiwgZS5wb3B1cF0pOwogICAgICAgIH07CiAgICAgIH0sIGYgPSAwOyBmIDwgaS5tYXJrZXJzLmxlbmd0aDsgZisrKSB7CiAgICAgICAgYyA9IGkubWFya2Vyc1tmXSwgYy5hZGRyZXNzID8gKCJfYWRkcmVzcyIgPT09IGMuaHRtbCAmJiAoYy5odG1sID0gYy5hZGRyZXNzKSwgbi5nZW9jb2RlKHsKICAgICAgICAgIGFkZHJlc3M6IGMuYWRkcmVzcwogICAgICAgIH0sIGgoYykpKSA6IHQodGhpcykudHJpZ2dlcigiZ01hcC5hZGRNYXJrZXIiLCBbYy5sYXRpdHVkZSwgYy5sb25naXR1ZGUsIGMuaHRtbCwgYy5pY29uLCBjLnBvcHVwXSk7CiAgICAgIH0KICAgIH0pOwogIH0sIHQuZm4uZ01hcC5kZWZhdWx0cyA9IHsKICAgIGFkZHJlc3M6ICIiLAogICAgbGF0aXR1ZGU6IDAsCiAgICBsb25naXR1ZGU6IDAsCiAgICB6b29tOiAxLAogICAgbWFya2VyczogW10sCiAgICBjb250cm9sczogW10sCiAgICBzY3JvbGx3aGVlbDogITEsCiAgICBkb3VibGVjbGlja3pvb206ICEwLAogICAgbWFwdHlwZTogIlJPQURNQVAiLAogICAgaHRtbF9wcmVwZW5kOiAnPGRpdiBjbGFzcz0iZ21hcF9tYXJrZXIiPicsCiAgICBodG1sX2FwcGVuZDogIjwvZGl2PiIsCiAgICBpY29uOiB7CiAgICAgIGltYWdlOiAiaHR0cDovL3d3dy5nb29nbGUuY29tL21hcGZpbGVzL21hcmtlci5wbmciLAogICAgICBzaGFkb3c6ICJodHRwOi8vd3d3Lmdvb2dsZS5jb20vbWFwZmlsZXMvc2hhZG93NTAucG5nIiwKICAgICAgaWNvbnNpemU6IFsyMCwgMzRdLAogICAgICBzaGFkb3dzaXplOiBbMzcsIDM0XSwKICAgICAgaWNvbmFuY2hvcjogWzksIDM0XSwKICAgICAgc2hhZG93YW5jaG9yOiBbNiwgMzRdCiAgICB9CiAgfTsKfShqUXVlcnkpLCBqUXVlcnkuZWFzaW5nLmpzd2luZyA9IGpRdWVyeS5lYXNpbmcuc3dpbmcsIGpRdWVyeS5leHRlbmQoalF1ZXJ5LmVhc2luZywgewogIGRlZjogImVhc2VPdXRRdWFkIiwKICBzd2luZzogZnVuY3Rpb24gc3dpbmcodCwgZSwgbiwgaSwgbykgewogICAgcmV0dXJuIGpRdWVyeS5lYXNpbmdbalF1ZXJ5LmVhc2luZy5kZWZdKHQsIGUsIG4sIGksIG8pOwogIH0sCiAgZWFzZUluUXVhZDogZnVuY3Rpb24gZWFzZUluUXVhZCh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gaSAqIChlIC89IG8pICogZSArIG47CiAgfSwKICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gZWFzZU91dFF1YWQodCwgZSwgbiwgaSwgbykgewogICAgcmV0dXJuIC1pICogKGUgLz0gbykgKiAoZSAtIDIpICsgbjsKICB9LAogIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uIGVhc2VJbk91dFF1YWQodCwgZSwgbiwgaSwgbykgewogICAgcmV0dXJuIChlIC89IG8gLyAyKSA8IDEgPyBpIC8gMiAqIGUgKiBlICsgbiA6IC1pIC8gMiAqICgtLWUgKiAoZSAtIDIpIC0gMSkgKyBuOwogIH0sCiAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uIGVhc2VJbkN1YmljKHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiBpICogKGUgLz0gbykgKiBlICogZSArIG47CiAgfSwKICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gaSAqICgoZSA9IGUgLyBvIC0gMSkgKiBlICogZSArIDEpICsgbjsKICB9LAogIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiBlYXNlSW5PdXRDdWJpYyh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gKGUgLz0gbyAvIDIpIDwgMSA/IGkgLyAyICogZSAqIGUgKiBlICsgbiA6IGkgLyAyICogKChlIC09IDIpICogZSAqIGUgKyAyKSArIG47CiAgfSwKICBlYXNlSW5RdWFydDogZnVuY3Rpb24gZWFzZUluUXVhcnQodCwgZSwgbiwgaSwgbykgewogICAgcmV0dXJuIGkgKiAoZSAvPSBvKSAqIGUgKiBlICogZSArIG47CiAgfSwKICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWFydCh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gLWkgKiAoKGUgPSBlIC8gbyAtIDEpICogZSAqIGUgKiBlIC0gMSkgKyBuOwogIH0sCiAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiAoZSAvPSBvIC8gMikgPCAxID8gaSAvIDIgKiBlICogZSAqIGUgKiBlICsgbiA6IC1pIC8gMiAqICgoZSAtPSAyKSAqIGUgKiBlICogZSAtIDIpICsgbjsKICB9LAogIGVhc2VJblF1aW50OiBmdW5jdGlvbiBlYXNlSW5RdWludCh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gaSAqIChlIC89IG8pICogZSAqIGUgKiBlICogZSArIG47CiAgfSwKICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWludCh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gaSAqICgoZSA9IGUgLyBvIC0gMSkgKiBlICogZSAqIGUgKiBlICsgMSkgKyBuOwogIH0sCiAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uIGVhc2VJbk91dFF1aW50KHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiAoZSAvPSBvIC8gMikgPCAxID8gaSAvIDIgKiBlICogZSAqIGUgKiBlICogZSArIG4gOiBpIC8gMiAqICgoZSAtPSAyKSAqIGUgKiBlICogZSAqIGUgKyAyKSArIG47CiAgfSwKICBlYXNlSW5TaW5lOiBmdW5jdGlvbiBlYXNlSW5TaW5lKHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiAtaSAqIE1hdGguY29zKGUgLyBvICogKE1hdGguUEkgLyAyKSkgKyBpICsgbjsKICB9LAogIGVhc2VPdXRTaW5lOiBmdW5jdGlvbiBlYXNlT3V0U2luZSh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gaSAqIE1hdGguc2luKGUgLyBvICogKE1hdGguUEkgLyAyKSkgKyBuOwogIH0sCiAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24gZWFzZUluT3V0U2luZSh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gLWkgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiBlIC8gbykgLSAxKSArIG47CiAgfSwKICBlYXNlSW5FeHBvOiBmdW5jdGlvbiBlYXNlSW5FeHBvKHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiAwID09IGUgPyBuIDogaSAqIE1hdGgucG93KDIsIDEwICogKGUgLyBvIC0gMSkpICsgbjsKICB9LAogIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiBlYXNlT3V0RXhwbyh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gZSA9PSBvID8gbiArIGkgOiBpICogKC1NYXRoLnBvdygyLCAtMTAgKiBlIC8gbykgKyAxKSArIG47CiAgfSwKICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbiBlYXNlSW5PdXRFeHBvKHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiAwID09IGUgPyBuIDogZSA9PSBvID8gbiArIGkgOiAoZSAvPSBvIC8gMikgPCAxID8gaSAvIDIgKiBNYXRoLnBvdygyLCAxMCAqIChlIC0gMSkpICsgbiA6IGkgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLWUpICsgMikgKyBuOwogIH0sCiAgZWFzZUluQ2lyYzogZnVuY3Rpb24gZWFzZUluQ2lyYyh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gLWkgKiAoTWF0aC5zcXJ0KDEgLSAoZSAvPSBvKSAqIGUpIC0gMSkgKyBuOwogIH0sCiAgZWFzZU91dENpcmM6IGZ1bmN0aW9uIGVhc2VPdXRDaXJjKHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiBpICogTWF0aC5zcXJ0KDEgLSAoZSA9IGUgLyBvIC0gMSkgKiBlKSArIG47CiAgfSwKICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbiBlYXNlSW5PdXRDaXJjKHQsIGUsIG4sIGksIG8pIHsKICAgIHJldHVybiAoZSAvPSBvIC8gMikgPCAxID8gLWkgLyAyICogKE1hdGguc3FydCgxIC0gZSAqIGUpIC0gMSkgKyBuIDogaSAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAoZSAtPSAyKSAqIGUpICsgMSkgKyBuOwogIH0sCiAgZWFzZUluRWxhc3RpYzogZnVuY3Rpb24gZWFzZUluRWxhc3RpYyh0LCBlLCBuLCBpLCBvKSB7CiAgICB2YXIgciA9IDEuNzAxNTgsCiAgICAgICAgcyA9IDAsCiAgICAgICAgYSA9IGk7CiAgICBpZiAoMCA9PSBlKSByZXR1cm4gbjsKICAgIGlmICgxID09IChlIC89IG8pKSByZXR1cm4gbiArIGk7CgogICAgaWYgKHMgfHwgKHMgPSAuMyAqIG8pLCBhIDwgTWF0aC5hYnMoaSkpIHsKICAgICAgYSA9IGk7CiAgICAgIHZhciByID0gcyAvIDQ7CiAgICB9IGVsc2UgdmFyIHIgPSBzIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihpIC8gYSk7CgogICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKGUgLT0gMSkpICogTWF0aC5zaW4oMiAqIChlICogbyAtIHIpICogTWF0aC5QSSAvIHMpKSArIG47CiAgfSwKICBlYXNlT3V0RWxhc3RpYzogZnVuY3Rpb24gZWFzZU91dEVsYXN0aWModCwgZSwgbiwgaSwgbykgewogICAgdmFyIHIgPSAxLjcwMTU4LAogICAgICAgIHMgPSAwLAogICAgICAgIGEgPSBpOwogICAgaWYgKDAgPT0gZSkgcmV0dXJuIG47CiAgICBpZiAoMSA9PSAoZSAvPSBvKSkgcmV0dXJuIG4gKyBpOwoKICAgIGlmIChzIHx8IChzID0gLjMgKiBvKSwgYSA8IE1hdGguYWJzKGkpKSB7CiAgICAgIGEgPSBpOwogICAgICB2YXIgciA9IHMgLyA0OwogICAgfSBlbHNlIHZhciByID0gcyAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oaSAvIGEpOwoKICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogZSkgKiBNYXRoLnNpbigyICogKGUgKiBvIC0gcikgKiBNYXRoLlBJIC8gcykgKyBpICsgbjsKICB9LAogIGVhc2VJbk91dEVsYXN0aWM6IGZ1bmN0aW9uIGVhc2VJbk91dEVsYXN0aWModCwgZSwgbiwgaSwgbykgewogICAgdmFyIHIgPSAxLjcwMTU4LAogICAgICAgIHMgPSAwLAogICAgICAgIGEgPSBpOwogICAgaWYgKDAgPT0gZSkgcmV0dXJuIG47CiAgICBpZiAoMiA9PSAoZSAvPSBvIC8gMikpIHJldHVybiBuICsgaTsKCiAgICBpZiAocyB8fCAocyA9IC4zICogbyAqIDEuNSksIGEgPCBNYXRoLmFicyhpKSkgewogICAgICBhID0gaTsKICAgICAgdmFyIHIgPSBzIC8gNDsKICAgIH0gZWxzZSB2YXIgciA9IHMgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGkgLyBhKTsKCiAgICByZXR1cm4gMSA+IGUgPyAtLjUgKiBhICogTWF0aC5wb3coMiwgMTAgKiAoZSAtPSAxKSkgKiBNYXRoLnNpbigyICogKGUgKiBvIC0gcikgKiBNYXRoLlBJIC8gcykgKyBuIDogYSAqIE1hdGgucG93KDIsIC0xMCAqIChlIC09IDEpKSAqIE1hdGguc2luKDIgKiAoZSAqIG8gLSByKSAqIE1hdGguUEkgLyBzKSAqIC41ICsgaSArIG47CiAgfSwKICBlYXNlSW5CYWNrOiBmdW5jdGlvbiBlYXNlSW5CYWNrKHQsIGUsIG4sIGksIG8sIHIpIHsKICAgIHJldHVybiB2b2lkIDAgPT0gciAmJiAociA9IDEuNzAxNTgpLCBpICogKGUgLz0gbykgKiBlICogKChyICsgMSkgKiBlIC0gcikgKyBuOwogIH0sCiAgZWFzZU91dEJhY2s6IGZ1bmN0aW9uIGVhc2VPdXRCYWNrKHQsIGUsIG4sIGksIG8sIHIpIHsKICAgIHJldHVybiB2b2lkIDAgPT0gciAmJiAociA9IDEuNzAxNTgpLCBpICogKChlID0gZSAvIG8gLSAxKSAqIGUgKiAoKHIgKyAxKSAqIGUgKyByKSArIDEpICsgbjsKICB9LAogIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uIGVhc2VJbk91dEJhY2sodCwgZSwgbiwgaSwgbywgcikgewogICAgcmV0dXJuIHZvaWQgMCA9PSByICYmIChyID0gMS43MDE1OCksIChlIC89IG8gLyAyKSA8IDEgPyBpIC8gMiAqIGUgKiBlICogKCgociAqPSAxLjUyNSkgKyAxKSAqIGUgLSByKSArIG4gOiBpIC8gMiAqICgoZSAtPSAyKSAqIGUgKiAoKChyICo9IDEuNTI1KSArIDEpICogZSArIHIpICsgMikgKyBuOwogIH0sCiAgZWFzZUluQm91bmNlOiBmdW5jdGlvbiBlYXNlSW5Cb3VuY2UodCwgZSwgbiwgaSwgbykgewogICAgcmV0dXJuIGkgLSBqUXVlcnkuZWFzaW5nLmVhc2VPdXRCb3VuY2UodCwgbyAtIGUsIDAsIGksIG8pICsgbjsKICB9LAogIGVhc2VPdXRCb3VuY2U6IGZ1bmN0aW9uIGVhc2VPdXRCb3VuY2UodCwgZSwgbiwgaSwgbykgewogICAgcmV0dXJuIChlIC89IG8pIDwgMSAvIDIuNzUgPyA3LjU2MjUgKiBpICogZSAqIGUgKyBuIDogMiAvIDIuNzUgPiBlID8gaSAqICg3LjU2MjUgKiAoZSAtPSAxLjUgLyAyLjc1KSAqIGUgKyAuNzUpICsgbiA6IDIuNSAvIDIuNzUgPiBlID8gaSAqICg3LjU2MjUgKiAoZSAtPSAyLjI1IC8gMi43NSkgKiBlICsgLjkzNzUpICsgbiA6IGkgKiAoNy41NjI1ICogKGUgLT0gMi42MjUgLyAyLjc1KSAqIGUgKyAuOTg0Mzc1KSArIG47CiAgfSwKICBlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uIGVhc2VJbk91dEJvdW5jZSh0LCBlLCBuLCBpLCBvKSB7CiAgICByZXR1cm4gbyAvIDIgPiBlID8gLjUgKiBqUXVlcnkuZWFzaW5nLmVhc2VJbkJvdW5jZSh0LCAyICogZSwgMCwgaSwgbykgKyBuIDogLjUgKiBqUXVlcnkuZWFzaW5nLmVhc2VPdXRCb3VuY2UodCwgMiAqIGUgLSBvLCAwLCBpLCBvKSArIC41ICogaSArIG47CiAgfQp9KSwgZnVuY3Rpb24gKHQsIGUsIG4pIHsKICB0LmZuLmJhY2tzdHJldGNoID0gZnVuY3Rpb24gKGksIG8pIHsKICAgIHJldHVybiAoaSA9PT0gbiB8fCAwID09PSBpLmxlbmd0aCkgJiYgdC5lcnJvcigiTm8gaW1hZ2VzIHdlcmUgc3VwcGxpZWQgZm9yIEJhY2tzdHJldGNoIiksIDAgPT09IHQoZSkuc2Nyb2xsVG9wKCkgJiYgZS5zY3JvbGxUbygwLCAwKSwgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0KHRoaXMpLAogICAgICAgICAgbiA9IGUuZGF0YSgiYmFja3N0cmV0Y2giKTsKCiAgICAgIGlmIChuKSB7CiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBpICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIG5baV0pIHJldHVybiB2b2lkIG5baV0obyk7CiAgICAgICAgbyA9IHQuZXh0ZW5kKG4ub3B0aW9ucywgbyksIG4uZGVzdHJveSghMCk7CiAgICAgIH0KCiAgICAgIG4gPSBuZXcgcih0aGlzLCBpLCBvKSwgZS5kYXRhKCJiYWNrc3RyZXRjaCIsIG4pOwogICAgfSk7CiAgfSwgdC5iYWNrc3RyZXRjaCA9IGZ1bmN0aW9uIChlLCBuKSB7CiAgICByZXR1cm4gdCgiYm9keSIpLmJhY2tzdHJldGNoKGUsIG4pLmRhdGEoImJhY2tzdHJldGNoIik7CiAgfSwgdC5leHByWyI6Il0uYmFja3N0cmV0Y2ggPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIHQoZSkuZGF0YSgiYmFja3N0cmV0Y2giKSAhPT0gbjsKICB9LCB0LmZuLmJhY2tzdHJldGNoLmRlZmF1bHRzID0gewogICAgY2VudGVyZWRYOiAhMCwKICAgIGNlbnRlcmVkWTogITAsCiAgICBkdXJhdGlvbjogNWUzLAogICAgZmFkZTogMAogIH07CgogIHZhciBpID0gewogICAgbGVmdDogMCwKICAgIHRvcDogMCwKICAgIG92ZXJmbG93OiAiaGlkZGVuIiwKICAgIG1hcmdpbjogMCwKICAgIHBhZGRpbmc6IDAsCiAgICBoZWlnaHQ6ICIxMDAlIiwKICAgIHdpZHRoOiAiMTAwJSIsCiAgICB6SW5kZXg6IC05OTk5OTkKICB9LAogICAgICBvID0gewogICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICBkaXNwbGF5OiAibm9uZSIsCiAgICBtYXJnaW46IDAsCiAgICBwYWRkaW5nOiAwLAogICAgYm9yZGVyOiAibm9uZSIsCiAgICB3aWR0aDogImF1dG8iLAogICAgaGVpZ2h0OiAiYXV0byIsCiAgICBtYXhIZWlnaHQ6ICJub25lIiwKICAgIG1heFdpZHRoOiAibm9uZSIsCiAgICB6SW5kZXg6IC05OTk5OTkKICB9LAogICAgICByID0gZnVuY3Rpb24gcihuLCBvLCBfcjIpIHsKICAgIHRoaXMub3B0aW9ucyA9IHQuZXh0ZW5kKHt9LCB0LmZuLmJhY2tzdHJldGNoLmRlZmF1bHRzLCBfcjIgfHwge30pLCB0aGlzLmltYWdlcyA9IHQuaXNBcnJheShvKSA/IG8gOiBbb10sIHQuZWFjaCh0aGlzLmltYWdlcywgZnVuY3Rpb24gKCkgewogICAgICB0KCI8aW1nIC8+IilbMF0uc3JjID0gdGhpczsKICAgIH0pLCB0aGlzLmlzQm9keSA9IG4gPT09IGRvY3VtZW50LmJvZHksIHRoaXMuJGNvbnRhaW5lciA9IHQobiksIHRoaXMuJHJvb3QgPSB0aGlzLmlzQm9keSA/IHQocyA/IGUgOiBkb2N1bWVudCkgOiB0aGlzLiRjb250YWluZXIsIG4gPSB0aGlzLiRjb250YWluZXIuY2hpbGRyZW4oIi5iYWNrc3RyZXRjaCIpLmZpcnN0KCksIHRoaXMuJHdyYXAgPSBuLmxlbmd0aCA/IG4gOiB0KCc8ZGl2IGNsYXNzPSJiYWNrc3RyZXRjaCI+PC9kaXY+JykuY3NzKGkpLmFwcGVuZFRvKHRoaXMuJGNvbnRhaW5lciksIHRoaXMuaXNCb2R5IHx8IChuID0gdGhpcy4kY29udGFpbmVyLmNzcygicG9zaXRpb24iKSwgbyA9IHRoaXMuJGNvbnRhaW5lci5jc3MoInpJbmRleCIpLCB0aGlzLiRjb250YWluZXIuY3NzKHsKICAgICAgcG9zaXRpb246ICJzdGF0aWMiID09PSBuID8gInJlbGF0aXZlIiA6IG4sCiAgICAgIHpJbmRleDogImF1dG8iID09PSBvID8gMCA6IG8sCiAgICAgIGJhY2tncm91bmQ6ICJub25lIgogICAgfSksIHRoaXMuJHdyYXAuY3NzKHsKICAgICAgekluZGV4OiAtOTk5OTk4CiAgICB9KSksIHRoaXMuJHdyYXAuY3NzKHsKICAgICAgcG9zaXRpb246IHRoaXMuaXNCb2R5ICYmIHMgPyAiZml4ZWQiIDogImFic29sdXRlIgogICAgfSksIHRoaXMuaW5kZXggPSAwLCB0aGlzLnNob3codGhpcy5pbmRleCksIHQoZSkub24oInJlc2l6ZS5iYWNrc3RyZXRjaCIsIHQucHJveHkodGhpcy5yZXNpemUsIHRoaXMpKS5vbigib3JpZW50YXRpb25jaGFuZ2UuYmFja3N0cmV0Y2giLCB0LnByb3h5KGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pc0JvZHkgJiYgMCA9PT0gZS5wYWdlWU9mZnNldCAmJiAoZS5zY3JvbGxUbygwLCAxKSwgdGhpcy5yZXNpemUoKSk7CiAgICB9LCB0aGlzKSk7CiAgfTsKCiAgci5wcm90b3R5cGUgPSB7CiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiA9IHsKICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICB0b3A6IDAKICAgICAgICB9LAogICAgICAgICAgICBpID0gdGhpcy5pc0JvZHkgPyB0aGlzLiRyb290LndpZHRoKCkgOiB0aGlzLiRyb290LmlubmVyV2lkdGgoKSwKICAgICAgICAgICAgbyA9IGksCiAgICAgICAgICAgIHIgPSB0aGlzLmlzQm9keSA/IGUuaW5uZXJIZWlnaHQgPyBlLmlubmVySGVpZ2h0IDogdGhpcy4kcm9vdC5oZWlnaHQoKSA6IHRoaXMuJHJvb3QuaW5uZXJIZWlnaHQoKSwKICAgICAgICAgICAgcyA9IG8gLyB0aGlzLiRpbWcuZGF0YSgicmF0aW8iKTsKICAgICAgICBzID49IHIgPyAodCA9IChzIC0gcikgLyAyLCB0aGlzLm9wdGlvbnMuY2VudGVyZWRZICYmIChuLnRvcCA9ICItIiArIHQgKyAicHgiKSkgOiAocyA9IHIsIG8gPSBzICogdGhpcy4kaW1nLmRhdGEoInJhdGlvIiksIHQgPSAobyAtIGkpIC8gMiwgdGhpcy5vcHRpb25zLmNlbnRlcmVkWCAmJiAobi5sZWZ0ID0gIi0iICsgdCArICJweCIpKSwgdGhpcy4kd3JhcC5jc3MoewogICAgICAgICAgd2lkdGg6IGksCiAgICAgICAgICBoZWlnaHQ6IHIKICAgICAgICB9KS5maW5kKCJpbWc6bm90KC5kZWxldGVhYmxlKSIpLmNzcyh7CiAgICAgICAgICB3aWR0aDogbywKICAgICAgICAgIGhlaWdodDogcwogICAgICAgIH0pLmNzcyhuKTsKICAgICAgfSBjYXRjaCAoYSkge30KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coZSkgewogICAgICBpZiAoIShNYXRoLmFicyhlKSA+IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEpKSB7CiAgICAgICAgdmFyIG4gPSB0aGlzLAogICAgICAgICAgICBpID0gbi4kd3JhcC5maW5kKCJpbWciKS5hZGRDbGFzcygiZGVsZXRlYWJsZSIpLAogICAgICAgICAgICByID0gewogICAgICAgICAgcmVsYXRlZFRhcmdldDogbi4kY29udGFpbmVyWzBdCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gbi4kY29udGFpbmVyLnRyaWdnZXIodC5FdmVudCgiYmFja3N0cmV0Y2guYmVmb3JlIiwgciksIFtuLCBlXSksIHRoaXMuaW5kZXggPSBlLCBjbGVhckludGVydmFsKG4uaW50ZXJ2YWwpLCBuLiRpbWcgPSB0KCI8aW1nIC8+IikuY3NzKG8pLmJpbmQoImxvYWQiLCBmdW5jdGlvbiAobykgewogICAgICAgICAgdmFyIHMgPSB0aGlzLndpZHRoIHx8IHQoby50YXJnZXQpLndpZHRoKCk7CiAgICAgICAgICBvID0gdGhpcy5oZWlnaHQgfHwgdChvLnRhcmdldCkuaGVpZ2h0KCksIHQodGhpcykuZGF0YSgicmF0aW8iLCBzIC8gbyksIHQodGhpcykuZmFkZUluKG4ub3B0aW9ucy5zcGVlZCB8fCBuLm9wdGlvbnMuZmFkZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpLnJlbW92ZSgpLCBuLnBhdXNlZCB8fCBuLmN5Y2xlKCksIHQoWyJhZnRlciIsICJzaG93Il0pLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIG4uJGNvbnRhaW5lci50cmlnZ2VyKHQuRXZlbnQoImJhY2tzdHJldGNoLiIgKyB0aGlzLCByKSwgW24sIGVdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSwgbi5yZXNpemUoKTsKICAgICAgICB9KS5hcHBlbmRUbyhuLiR3cmFwKSwgbi4kaW1nLmF0dHIoInNyYyIsIG4uaW1hZ2VzW2VdKSwgbjsKICAgICAgfQogICAgfSwKICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNob3codGhpcy5pbmRleCA8IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEgPyB0aGlzLmluZGV4ICsgMSA6IDApOwogICAgfSwKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoKSB7CiAgICAgIHJldHVybiB0aGlzLnNob3coMCA9PT0gdGhpcy5pbmRleCA/IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEgOiB0aGlzLmluZGV4IC0gMSk7CiAgICB9LAogICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkgewogICAgICByZXR1cm4gdGhpcy5wYXVzZWQgPSAhMCwgdGhpczsKICAgIH0sCiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGF1c2VkID0gITEsIHRoaXMubmV4dCgpLCB0aGlzOwogICAgfSwKICAgIGN5Y2xlOiBmdW5jdGlvbiBjeWNsZSgpIHsKICAgICAgcmV0dXJuIDEgPCB0aGlzLmltYWdlcy5sZW5ndGggJiYgKGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0LnByb3h5KGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnBhdXNlZCB8fCB0aGlzLm5leHQoKTsKICAgICAgfSwgdGhpcyksIHRoaXMub3B0aW9ucy5kdXJhdGlvbikpLCB0aGlzOwogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kobikgewogICAgICB0KGUpLm9mZigicmVzaXplLmJhY2tzdHJldGNoIG9yaWVudGF0aW9uY2hhbmdlLmJhY2tzdHJldGNoIiksIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksIG4gfHwgdGhpcy4kd3JhcC5yZW1vdmUoKSwgdGhpcy4kY29udGFpbmVyLnJlbW92ZURhdGEoImJhY2tzdHJldGNoIik7CiAgICB9CiAgfTsKICB2YXIgcywKICAgICAgYSA9IG5hdmlnYXRvci51c2VyQWdlbnQsCiAgICAgIHUgPSBuYXZpZ2F0b3IucGxhdGZvcm0sCiAgICAgIGwgPSBhLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSwKICAgICAgbCA9ICEhbCAmJiBsWzFdLAogICAgICBjID0gYS5tYXRjaCgvRmVubmVjXC8oWzAtOV0rKS8pLAogICAgICBjID0gISFjICYmIGNbMV0sCiAgICAgIGQgPSBhLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLAogICAgICBoID0gISFkICYmIGRbMV0sCiAgICAgIGYgPSBhLm1hdGNoKC9NU0lFIChbMC05XSspLyksCiAgICAgIGYgPSAhIWYgJiYgZlsxXTsKICBzID0gISgoLTEgPCB1LmluZGV4T2YoImlQaG9uZSIpIHx8IC0xIDwgdS5pbmRleE9mKCJpUGFkIikgfHwgLTEgPCB1LmluZGV4T2YoImlQb2QiKSkgJiYgbCAmJiA1MzQgPiBsIHx8IGUub3BlcmFtaW5pICYmICJbb2JqZWN0IE9wZXJhTWluaV0iID09PSB7fS50b1N0cmluZy5jYWxsKGUub3BlcmFtaW5pKSB8fCBkICYmIDc0NTggPiBoIHx8IC0xIDwgYS5pbmRleE9mKCJBbmRyb2lkIikgJiYgbCAmJiA1MzMgPiBsIHx8IGMgJiYgNiA+IGMgfHwgInBhbG1HZXRSZXNvdXJjZSIgaW4gZSAmJiBsICYmIDUzNCA+IGwgfHwgLTEgPCBhLmluZGV4T2YoIk1lZUdvIikgJiYgLTEgPCBhLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpIHx8IGYgJiYgNiA+PSBmKTsKfShqUXVlcnksIHdpbmRvdyk7"},{"version":3,"sources":["E:/vue/xiaoxiao-blog-frontend/src/assets/js/plugins.min.js"],"names":["t","e","n","i","o","proxy","process","r","is","window","options","extend","fn","scrollspy","defaults","$scrollElement","on","selector","target","attr","replace","$body","refresh","prototype","constructor","offsets","targets","find","map","data","test","length","position","top","sort","each","push","scrollTop","offset","scrollHeight","height","s","activeTarget","last","activate","parent","removeClass","addClass","closest","trigger","Constructor","jQuery","define","amd","module","exports","require","jQueryBridget","a","u","l","c","charAt","d","apply","option","_init","isPlainObject","call","arguments","bridget","Array","slice","console","error","EvEmitter","_events","indexOf","once","_onceEvents","off","splice","emitEvent","getSize","parseFloat","isNaN","width","innerWidth","innerHeight","outerWidth","outerHeight","getComputedStyle","document","createElement","style","padding","borderStyle","borderWidth","boxSizing","body","documentElement","appendChild","isBoxSizeOuter","removeChild","querySelector","nodeType","display","offsetWidth","offsetHeight","isBorderBox","h","f","p","m","paddingLeft","paddingRight","g","paddingTop","paddingBottom","v","marginLeft","marginRight","y","marginTop","marginBottom","w","borderLeftWidth","borderRightWidth","b","borderTopWidth","borderBottomWidth","x","E","C","matchesSelector","Element","matches","fizzyUIUtils","modulo","makeArray","isArray","removeFrom","getParent","parentNode","getQueryElement","handleEvent","type","filterFindElements","forEach","HTMLElement","querySelectorAll","debounceMethod","clearTimeout","setTimeout","docReady","readyState","addEventListener","toDashed","toLowerCase","htmlInit","concat","getAttribute","JSON","parse","className","Outlayer","Item","element","layout","_create","transition","transform","WebkitTransition","Object","create","_transn","ingProperties","clean","onEnd","css","size","getPosition","_getOption","parseInt","layoutPosition","getXValue","getYValue","percentPosition","_transitionTo","setPosition","isTransitioning","getTranslate","to","onTransitionEnd","isCleaning","goTo","moveTo","_nonTransition","_removeStyles","_transition","transitionDuration","from","enableTransition","transitionProperty","onwebkitTransitionEnd","ontransitionend","onotransitionend","propertyName","disableTransition","removeTransitionStyles","removeEventListener","removeElem","remove","hide","reveal","isHidden","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","opacity","onHideTransitionEnd","destroy","left","right","bottom","namespace","$element","outlayerGUID","containerStyle","initLayout","originLeft","originTop","resize","resizeContainer","compatOptions","horizontal","layoutInstant","reloadItems","stamps","stamp","bindResize","items","_itemize","children","_filterFindItemElements","itemSelector","getItemElements","_resetLayout","_manageStamps","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","filter","isIgnored","_emitCompleteOnItems","_getItemLayoutPosition","item","isInstant","isLayoutInstant","_processLayoutQueue","_positionItem","_getContainerSize","_setContainerMeasure","Math","max","dispatchEvent","Event","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","_manageStamp","getBoundingClientRect","_boundingRect","_getElementOffset","isResizeBound","unbindResize","onresize","needsResizeLayout","addItems","appended","prepended","revealItemElements","getItems","hideItemElements","removeData","Masonry","fitWidth","measureColumns","colYs","cols","maxY","getContainerWidth","columnWidth","containerWidth","gutter","min","_getColGroup","floor","_getContainerFitWidth","$","toggleClass","animate","cssTransforms3d","webkitTransform","OTransform","msTransform","MozTransform","insertBefore","getPropertyValue","click","isMobile","createEvent","initCustomEvent","createEventObject","eventType","eventName","addEvent","attachEvent","removeEvent","detachEvent","clientHeight","WeakMap","MozWeakMap","keys","values","get","set","MutationObserver","WebkitMutationObserver","MozMutationObserver","warn","notSupported","observe","toUpperCase","currentStyle","WOW","scrollCallback","scrollHandler","resetAnimation","start","scrolled","config","util","scrollContainer","animationNameCache","wowEvent","boxClass","animateClass","mobile","live","callback","init","finished","stopped","boxes","all","disabled","resetStyle","applyStyle","interval","setInterval","addedNodes","doSync","childList","subtree","stop","clearInterval","sync","show","customStyle","requestAnimationFrame","visibility","srcElement","trim","cacheAnimationName","vendorSet","animationDuration","animationDelay","animationIterationCount","animationName","cachedAnimationName","vendors","substr","vendorCSS","getPropertyCSSValue","cssText","isVisible","offsetTop","offsetParent","pageYOffset","_util","navigator","userAgent","S","M","k","I","_","T","z","O","P","webkitTransition","mozTransition","oTransition","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","WebKitMutationObserver","innerHTML","RegExp","split","join","initEvent","performance","now","Date","pow","round","ceil","odometer","update","el","duration","MAX_VALUES","resetFormat","value","cleanValue","renderInside","render","defineProperty","inside","outerHTML","innerText","textContent","watchForMutations","observer","watchMutations","startWatchingMutations","stopWatchingMutations","disconnect","format","radix","precision","bindTransitionEnd","transitionEndBound","exec","Error","repeating","theme","ribbons","formatDigits","digits","formatFunction","reverse","match","renderDigit","insertDigit","addSpacer","toString","addDigit","substring","animation","animateSlide","animateCount","getDigitCount","abs","log","getFractionalDigitCount","resetDigits","odometerOptions","doScroll","onreadystatechange","auto","Odometer","Zepto","ev","appendTo","triggerHandler","st","callbacks","currTemplate","closeBtn","closeMarkup","tClose","magnificPopup","instance","pop","appVersion","isIE7","isIE8","isLowIE","isAndroid","isIOS","supportsTransition","probablyMobile","popupsCache","open","isObj","toArray","index","parsed","isOpen","updateItemHTML","types","mainEl","eq","key","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","wrap","_checkIfClose","container","contentContainer","preloader","tLoading","modules","closeBtnInside","close_replaceWith","append","alignTop","overflow","overflowY","overflowX","fixedBgPos","keyCode","updateSize","wH","_hasScrollBar","_getScrollbarSize","mainClass","_addClassToMFP","add","prependTo","_lastFocusedEl","activeElement","content","_setFocus","_onFocusIn","removalDelay","_close","detach","empty","_removeClassFromMFP","removeAttr","currItem","autoFocusLast","focus","prevHeight","clientWidth","parseEl","markup","appendContent","preloaded","prepend","tagName","src","hasClass","addGroup","mfpEl","_openClick","delegate","midClick","which","ctrlKey","metaKey","altKey","shiftKey","disableOn","isFunction","preventDefault","stopPropagation","updateStatus","status","text","html","stopImmediatePropagation","contains","_parseMarkup","replaceWith","scrollbarSize","proto","registerModule","after","hiddenClass","tNotFound","initInline","getInline","inline","inlineElement","L","A","B","H","req","abort","settings","cursor","tError","initAjax","ajax","getAjax","url","success","xhr","loadError","N","j","title","image","titleSrc","verticalFit","initImage","resizeImage","img","_onImageHasSize","hasSize","isCheckingImgSize","imgHidden","findImageSize","naturalWidth","getImage","complete","loaded","alt","clone","img_replaceWith","loading","W","R","enabled","easing","opener","initZoom","zoom","zIndex","_allowZoom","_getItemToZoom","_getOffset","F","q","D","srcAction","patterns","youtube","id","vimeo","gmaps","initIframe","getIframe","iframe","lastIndexOf","Q","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gallery","Boolean","mfpFastClick","direction","next","prev","counter","arrowLeft","arrowRight","_preloadTimeout","preloadNearbyImages","destroyMfpFastClick","_preloadItem","U","replaceSrc","ratio","initRetina","devicePixelRatio","retina","originalEvent","touches","clientX","clientY","Function","alert","createTextNode","Holder","frameElement","hasOwnProperty","ctx","dimensions","template","holder","textmode","font","textAlign","textBaseline","fillStyle","background","fillRect","foreground","exact_dimensions","measureText","fillText","toDataURL","decodeURIComponent","setAttribute","holder_data","backgroundColor","backgroundImage","backgroundSize","hasAttribute","removeAttribute","fluid","themes","gray","sl","flags","output","colors","getContext","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","domain","images","bgnodes","social","industrial","sky","vine","lava","stylesheet","regex","getElementsByClassName","evaluate","iterateNext","getElementsByTagName","__proto__","add_theme","add_image","run","NodeList","Node","elements","getElementById","nocss","styleSheet","attr_datasrc","transformicons","revert","toggle","currentTarget","classList","Y","V","X","G","__super__","Z","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","cancelAnimationFrame","mozCancelAnimationFrame","bindings","handler","Pace","paceOptions","progress","getElement","firstChild","finish","fadeOut","lastRenderedProgress","done","XMLHttpRequest","XDomainRequest","WebSocket","unshift","shift","track","trackWebSockets","trackMethods","request","protocols","running","restart","sources","watch","ProgressEvent","lengthComputable","total","check","states","interactive","source","sinceLastUpdate","rate","catchup","lastProgress","tick","history","pushState","replaceState","extraSources","bar","go","matchHeight","_groups","byRow","_apply","_applyDataApi","_update","bind","gMap","latitude","longitude","icon","popup","google","maps","Map","Geocoder","address","geocode","setCenter","geometry","location","LatLng","markers","setZoom","setMapTypeId","MapTypeId","maptype","scrollwheel","disableDoubleClickZoom","doubleclickzoom","styles","controls","disableDefaultUI","setOptions","Marker","MarkerImage","Size","iconsize","anchor","Point","iconanchor","setIcon","shadow","shadowsize","shadowanchor","setShadow","panTo","setMap","getIcon","getShadow","InfoWindow","html_prepend","html_append","event","addListener","addListenerOnce","lat","lng","jswing","swing","def","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","backstretch","scrollTo","expr","centeredX","centeredY","fade","margin","border","maxHeight","maxWidth","isBody","$container","$root","first","$wrap","$img","relatedTarget","fadeIn","speed","paused","cycle","pause","resume","platform","operamini"],"mappings":"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","sourcesContent":["\n!function (t) {\n  \"use strict\";\n  function e(e, n) {\n    var i, o = t.proxy(this.process, this), r = t(t(e).is(\"body\") ? window : e);\n    this.options = t.extend({}, t.fn.scrollspy.defaults, n), this.$scrollElement = r.on(\"scroll.scroll.data-api\", o), this.selector = (this.options.target || (i = t(e).attr(\"href\")) && i.replace(/.*(?=#[^\\s]+$)/, \"\") || \"\") + \" .nav li > a\", this.$body = t(\"body\"), this.refresh(), this.process()\n  }\n  e.prototype = {\n    constructor: e, refresh: function () {\n      var e, n = this;\n      this.offsets = t([]), this.targets = t([]), e = this.$body.find(this.selector).map(function () {\n        var e = t(this), n = e.data(\"target\") || e.attr(\"href\"), i = /^#\\w/.test(n) && t(n);\n        return i && n.length && [[i.position().top, n]] || null\n      }).sort(function (t, e) {\n        return t[0] - e[0]\n      }).each(function () {\n        n.offsets.push(this[0]), n.targets.push(this[1])\n      })\n    }, process: function () {\n      var t, e = this.$scrollElement.scrollTop() + this.options.offset,\n          n = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight, i = n - this.$scrollElement.height(),\n          o = this.offsets, r = this.targets, s = this.activeTarget;\n      if (e >= i) return s != (t = r.last()[0]) && this.activate(t);\n      for (t = o.length; t--;) s != r[t] && e >= o[t] && (!o[t + 1] || e <= o[t + 1]) && this.activate(r[t])\n    }, activate: function (e) {\n      var n, i;\n      this.activeTarget = e, t(this.selector).parent(\".active\").removeClass(\"active\"), i = this.selector + '[data-target=\"' + e + '\"],' + this.selector + '[href=\"' + e + '\"]', n = t(i).parent(\"li\").addClass(\"active\"), n.parent(\".dropdown-menu\") && (n = n.closest(\"li.dropdown\").addClass(\"active\")), n.trigger(\"activate\")\n    }\n  }, t.fn.scrollspy = function (n) {\n    return this.each(function () {\n      var i = t(this), o = i.data(\"scrollspy\"), r = \"object\" == typeof n && n;\n      o || i.data(\"scrollspy\", o = new e(this, r)), \"string\" == typeof n && o[n]()\n    })\n  }, t.fn.scrollspy.Constructor = e, t.fn.scrollspy.defaults = {offset: 10}, t(function () {\n    t('[data-spy=\"scroll\"]').each(function () {\n      var e = t(this);\n      e.scrollspy(e.data())\n    })\n  })\n}(window.jQuery), function (t, e) {\n  \"use strict\";\n  \"function\" == typeof define && define.amd ? define(\"jquery-bridget/jquery-bridget\", [\"jquery\"], function (n) {\n    e(t, n)\n  }) : \"object\" == typeof module && module.exports ? module.exports = e(t, require(\"jquery\")) : t.jQueryBridget = e(t, t.jQuery)\n}(window, function (t, e) {\n  \"use strict\";\n\n  function n(n, r, a) {\n    function u(t, e, i) {\n      var o, r = \"$().\" + n + '(\"' + e + '\")';\n      return t.each(function (t, u) {\n        var l = a.data(u, n);\n        if (!l) return void s(n + \" not initialized. Cannot call methods, i.e. \" + r);\n        var c = l[e];\n        if (!c || \"_\" == e.charAt(0)) return void s(r + \" is not a valid method\");\n        var d = c.apply(l, i);\n        o = void 0 === o ? d : o\n      }), void 0 !== o ? o : t\n    }\n\n    function l(t, e) {\n      t.each(function (t, i) {\n        var o = a.data(i, n);\n        o ? (o.option(e), o._init()) : (o = new r(i, e), a.data(i, n, o))\n      })\n    }\n\n    a = a || e || t.jQuery, a && (r.prototype.option || (r.prototype.option = function (t) {\n      a.isPlainObject(t) && (this.options = a.extend(!0, this.options, t))\n    }), a.fn[n] = function (t) {\n      if (\"string\" == typeof t) {\n        var e = o.call(arguments, 1);\n        return u(this, t, e)\n      }\n      return l(this, t), this\n    }, i(a))\n  }\n\n  function i(t) {\n    !t || t && t.bridget || (t.bridget = n)\n  }\n\n  var o = Array.prototype.slice, r = t.console, s = \"undefined\" == typeof r ? function () {\n  } : function (t) {\n    r.error(t)\n  };\n  return i(e || t.jQuery), n\n}), function (t, e) {\n  \"function\" == typeof define && define.amd ? define(\"ev-emitter/ev-emitter\", e) : \"object\" == typeof module && module.exports ? module.exports = e() : t.EvEmitter = e()\n}(this, function () {\n  function t() {\n  }\n\n  var e = t.prototype;\n  return e.on = function (t, e) {\n    if (t && e) {\n      var n = this._events = this._events || {}, i = n[t] = n[t] || [];\n      return -1 == i.indexOf(e) && i.push(e), this\n    }\n  }, e.once = function (t, e) {\n    if (t && e) {\n      this.on(t, e);\n      var n = this._onceEvents = this._onceEvents || {}, i = n[t] = n[t] || [];\n      return i[e] = !0, this\n    }\n  }, e.off = function (t, e) {\n    var n = this._events && this._events[t];\n    if (n && n.length) {\n      var i = n.indexOf(e);\n      return -1 != i && n.splice(i, 1), this\n    }\n  }, e.emitEvent = function (t, e) {\n    var n = this._events && this._events[t];\n    if (n && n.length) {\n      var i = 0, o = n[i];\n      e = e || [];\n      for (var r = this._onceEvents && this._onceEvents[t]; o;) {\n        var s = r && r[o];\n        s && (this.off(t, o), delete r[o]), o.apply(this, e), i += s ? 0 : 1, o = n[i]\n      }\n      return this\n    }\n  }, t\n}), function (t, e) {\n  \"use strict\";\n  \"function\" == typeof define && define.amd ? define(\"get-size/get-size\", [], function () {\n    return e()\n  }) : \"object\" == typeof module && module.exports ? module.exports = e() : t.getSize = e()\n}(window, function () {\n  \"use strict\";\n\n  function t(t) {\n    var e = parseFloat(t), n = -1 == t.indexOf(\"%\") && !isNaN(e);\n    return n && e\n  }\n\n  function e() {\n  }\n\n  function n() {\n    for (var t = {\n      width: 0,\n      height: 0,\n      innerWidth: 0,\n      innerHeight: 0,\n      outerWidth: 0,\n      outerHeight: 0\n    }, e = 0; l > e; e++) {\n      var n = u[e];\n      t[n] = 0\n    }\n    return t\n  }\n\n  function i(t) {\n    var e = getComputedStyle(t);\n    return e || a(\"Style returned \" + e + \". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1\"), e\n  }\n\n  function o() {\n    if (!c) {\n      c = !0;\n      var e = document.createElement(\"div\");\n      e.style.width = \"200px\", e.style.padding = \"1px 2px 3px 4px\", e.style.borderStyle = \"solid\", e.style.borderWidth = \"1px 2px 3px 4px\", e.style.boxSizing = \"border-box\";\n      var n = document.body || document.documentElement;\n      n.appendChild(e);\n      var o = i(e);\n      r.isBoxSizeOuter = s = 200 == t(o.width), n.removeChild(e)\n    }\n  }\n\n  function r(e) {\n    if (o(), \"string\" == typeof e && (e = document.querySelector(e)), e && \"object\" == typeof e && e.nodeType) {\n      var r = i(e);\n      if (\"none\" == r.display) return n();\n      var a = {};\n      a.width = e.offsetWidth, a.height = e.offsetHeight;\n      for (var c = a.isBorderBox = \"border-box\" == r.boxSizing, d = 0; l > d; d++) {\n        var h = u[d], f = r[h], p = parseFloat(f);\n        a[h] = isNaN(p) ? 0 : p\n      }\n      var m = a.paddingLeft + a.paddingRight, g = a.paddingTop + a.paddingBottom, v = a.marginLeft + a.marginRight,\n          y = a.marginTop + a.marginBottom, w = a.borderLeftWidth + a.borderRightWidth,\n          b = a.borderTopWidth + a.borderBottomWidth, x = c && s, E = t(r.width);\n      E !== !1 && (a.width = E + (x ? 0 : m + w));\n      var C = t(r.height);\n      return C !== !1 && (a.height = C + (x ? 0 : g + b)), a.innerWidth = a.width - (m + w), a.innerHeight = a.height - (g + b), a.outerWidth = a.width + v, a.outerHeight = a.height + y, a\n    }\n  }\n\n  var s, a = \"undefined\" == typeof console ? e : function (t) {\n        console.error(t)\n      },\n      u = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"],\n      l = u.length, c = !1;\n  return r\n}), function (t, e) {\n  \"use strict\";\n  \"function\" == typeof define && define.amd ? define(\"matches-selector/matches-selector\", e) : \"object\" == typeof module && module.exports ? module.exports = e() : t.matchesSelector = e()\n}(window, function () {\n  \"use strict\";\n  var t = function () {\n    var t = Element.prototype;\n    if (t.matches) return \"matches\";\n    if (t.matchesSelector) return \"matchesSelector\";\n    for (var e = [\"webkit\", \"moz\", \"ms\", \"o\"], n = 0; n < e.length; n++) {\n      var i = e[n], o = i + \"MatchesSelector\";\n      if (t[o]) return o\n    }\n  }();\n  return function (e, n) {\n    return e[t](n)\n  }\n}), function (t, e) {\n  \"use strict\";\n  \"function\" == typeof define && define.amd ? define(\"fizzy-ui-utils/utils\", [\"matches-selector/matches-selector\"], function (n) {\n    return e(t, n)\n  }) : \"object\" == typeof module && module.exports ? module.exports = e(t, require(\"desandro-matches-selector\")) : t.fizzyUIUtils = e(t, t.matchesSelector)\n}(window, function (t, e) {\n  var n = {};\n  n.extend = function (t, e) {\n    for (var n in e) t[n] = e[n];\n    return t\n  }, n.modulo = function (t, e) {\n    return (t % e + e) % e\n  }, n.makeArray = function (t) {\n    var e = [];\n    if (Array.isArray(t)) e = t; else if (t && \"number\" == typeof t.length) for (var n = 0; n < t.length; n++) e.push(t[n]); else e.push(t);\n    return e\n  }, n.removeFrom = function (t, e) {\n    var n = t.indexOf(e);\n    -1 != n && t.splice(n, 1)\n  }, n.getParent = function (t, n) {\n    for (; t != document.body;) if (t = t.parentNode, e(t, n)) return t\n  }, n.getQueryElement = function (t) {\n    return \"string\" == typeof t ? document.querySelector(t) : t\n  }, n.handleEvent = function (t) {\n    var e = \"on\" + t.type;\n    this[e] && this[e](t)\n  }, n.filterFindElements = function (t, i) {\n    t = n.makeArray(t);\n    var o = [];\n    return t.forEach(function (t) {\n      if (t instanceof HTMLElement) {\n        if (!i) return void o.push(t);\n        e(t, i) && o.push(t);\n        for (var n = t.querySelectorAll(i), r = 0; r < n.length; r++) o.push(n[r])\n      }\n    }), o\n  }, n.debounceMethod = function (t, e, n) {\n    var i = t.prototype[e], o = e + \"Timeout\";\n    t.prototype[e] = function () {\n      var t = this[o];\n      t && clearTimeout(t);\n      var e = arguments, r = this;\n      this[o] = setTimeout(function () {\n        i.apply(r, e), delete r[o]\n      }, n || 100)\n    }\n  }, n.docReady = function (t) {\n    \"complete\" == document.readyState ? t() : document.addEventListener(\"DOMContentLoaded\", t)\n  }, n.toDashed = function (t) {\n    return t.replace(/(.)([A-Z])/g, function (t, e, n) {\n      return e + \"-\" + n\n    }).toLowerCase()\n  };\n  var i = t.console;\n  return n.htmlInit = function (e, o) {\n    n.docReady(function () {\n      var r = n.toDashed(o), s = \"data-\" + r, a = document.querySelectorAll(\"[\" + s + \"]\"),\n          u = document.querySelectorAll(\".js-\" + r), l = n.makeArray(a).concat(n.makeArray(u)), c = s + \"-options\",\n          d = t.jQuery;\n      l.forEach(function (t) {\n        var n, r = t.getAttribute(s) || t.getAttribute(c);\n        try {\n          n = r && JSON.parse(r)\n        } catch (a) {\n          return void (i && i.error(\"Error parsing \" + s + \" on \" + t.className + \": \" + a))\n        }\n        var u = new e(t, n);\n        d && d.data(t, o, u)\n      })\n    })\n  }, n\n}), function (t, e) {\n  \"function\" == typeof define && define.amd ? define(\"outlayer/item\", [\"ev-emitter/ev-emitter\", \"get-size/get-size\"], function (n, i) {\n    return e(t, n, i)\n  }) : \"object\" == typeof module && module.exports ? module.exports = e(t, require(\"ev-emitter\"), require(\"get-size\")) : (t.Outlayer = {}, t.Outlayer.Item = e(t, t.EvEmitter, t.getSize))\n}(window, function (t, e, n) {\n  \"use strict\";\n\n  function i(t) {\n    for (var e in t) return !1;\n    return e = null, !0\n  }\n\n  function o(t, e) {\n    t && (this.element = t, this.layout = e, this.position = {x: 0, y: 0}, this._create())\n  }\n\n  function r(t) {\n    return t.replace(/([A-Z])/g, function (t) {\n      return \"-\" + t.toLowerCase()\n    })\n  }\n\n  var s = document.documentElement.style, a = \"string\" == typeof s.transition ? \"transition\" : \"WebkitTransition\",\n      u = \"string\" == typeof s.transform ? \"transform\" : \"WebkitTransform\",\n      l = {WebkitTransition: \"webkitTransitionEnd\", transition: \"transitionend\"}[a],\n      c = [u, a, a + \"Duration\", a + \"Property\"], d = o.prototype = Object.create(e.prototype);\n  d.constructor = o, d._create = function () {\n    this._transn = {ingProperties: {}, clean: {}, onEnd: {}}, this.css({position: \"absolute\"})\n  }, d.handleEvent = function (t) {\n    var e = \"on\" + t.type;\n    this[e] && this[e](t)\n  }, d.getSize = function () {\n    this.size = n(this.element)\n  }, d.css = function (t) {\n    var e = this.element.style;\n    for (var n in t) {\n      var i = c[n] || n;\n      e[i] = t[n]\n    }\n  }, d.getPosition = function () {\n    var t = getComputedStyle(this.element), e = this.layout._getOption(\"originLeft\"),\n        n = this.layout._getOption(\"originTop\"), i = t[e ? \"left\" : \"right\"], o = t[n ? \"top\" : \"bottom\"],\n        r = this.layout.size, s = -1 != i.indexOf(\"%\") ? parseFloat(i) / 100 * r.width : parseInt(i, 10),\n        a = -1 != o.indexOf(\"%\") ? parseFloat(o) / 100 * r.height : parseInt(o, 10);\n    s = isNaN(s) ? 0 : s, a = isNaN(a) ? 0 : a, s -= e ? r.paddingLeft : r.paddingRight, a -= n ? r.paddingTop : r.paddingBottom, this.position.x = s, this.position.y = a\n  }, d.layoutPosition = function () {\n    var t = this.layout.size, e = {}, n = this.layout._getOption(\"originLeft\"), i = this.layout._getOption(\"originTop\"),\n        o = n ? \"paddingLeft\" : \"paddingRight\", r = n ? \"left\" : \"right\", s = n ? \"right\" : \"left\",\n        a = this.position.x + t[o];\n    e[r] = this.getXValue(a), e[s] = \"\";\n    var u = i ? \"paddingTop\" : \"paddingBottom\", l = i ? \"top\" : \"bottom\", c = i ? \"bottom\" : \"top\",\n        d = this.position.y + t[u];\n    e[l] = this.getYValue(d), e[c] = \"\", this.css(e), this.emitEvent(\"layout\", [this])\n  }, d.getXValue = function (t) {\n    var e = this.layout._getOption(\"horizontal\");\n    return this.layout.options.percentPosition && !e ? t / this.layout.size.width * 100 + \"%\" : t + \"px\"\n  }, d.getYValue = function (t) {\n    var e = this.layout._getOption(\"horizontal\");\n    return this.layout.options.percentPosition && e ? t / this.layout.size.height * 100 + \"%\" : t + \"px\"\n  }, d._transitionTo = function (t, e) {\n    this.getPosition();\n    var n = this.position.x, i = this.position.y, o = parseInt(t, 10), r = parseInt(e, 10),\n        s = o === this.position.x && r === this.position.y;\n    if (this.setPosition(t, e), s && !this.isTransitioning) return void this.layoutPosition();\n    var a = t - n, u = e - i, l = {};\n    l.transform = this.getTranslate(a, u), this.transition({\n      to: l,\n      onTransitionEnd: {transform: this.layoutPosition},\n      isCleaning: !0\n    })\n  }, d.getTranslate = function (t, e) {\n    var n = this.layout._getOption(\"originLeft\"), i = this.layout._getOption(\"originTop\");\n    return t = n ? t : -t, e = i ? e : -e, \"translate3d(\" + t + \"px, \" + e + \"px, 0)\"\n  }, d.goTo = function (t, e) {\n    this.setPosition(t, e), this.layoutPosition()\n  }, d.moveTo = d._transitionTo, d.setPosition = function (t, e) {\n    this.position.x = parseInt(t, 10), this.position.y = parseInt(e, 10)\n  }, d._nonTransition = function (t) {\n    this.css(t.to), t.isCleaning && this._removeStyles(t.to);\n    for (var e in t.onTransitionEnd) t.onTransitionEnd[e].call(this)\n  }, d._transition = function (t) {\n    if (!parseFloat(this.layout.options.transitionDuration)) return void this._nonTransition(t);\n    var e = this._transn;\n    for (var n in t.onTransitionEnd) e.onEnd[n] = t.onTransitionEnd[n];\n    for (n in t.to) e.ingProperties[n] = !0, t.isCleaning && (e.clean[n] = !0);\n    if (t.from) {\n      this.css(t.from);\n      var i = this.element.offsetHeight;\n      i = null\n    }\n    this.enableTransition(t.to), this.css(t.to), this.isTransitioning = !0\n  };\n  var h = \"opacity,\" + r(c.transform || \"transform\");\n  d.enableTransition = function () {\n    this.isTransitioning || (this.css({\n      transitionProperty: h,\n      transitionDuration: this.layout.options.transitionDuration\n    }), this.element.addEventListener(l, this, !1))\n  }, d.transition = o.prototype[a ? \"_transition\" : \"_nonTransition\"], d.onwebkitTransitionEnd = function (t) {\n    this.ontransitionend(t)\n  }, d.onotransitionend = function (t) {\n    this.ontransitionend(t)\n  };\n  var f = {\"-webkit-transform\": \"transform\"};\n  d.ontransitionend = function (t) {\n    if (t.target === this.element) {\n      var e = this._transn, n = f[t.propertyName] || t.propertyName;\n      if (delete e.ingProperties[n], i(e.ingProperties) && this.disableTransition(), n in e.clean && (this.element.style[t.propertyName] = \"\", delete e.clean[n]), n in e.onEnd) {\n        var o = e.onEnd[n];\n        o.call(this), delete e.onEnd[n]\n      }\n      this.emitEvent(\"transitionEnd\", [this])\n    }\n  }, d.disableTransition = function () {\n    this.removeTransitionStyles(), this.element.removeEventListener(l, this, !1), this.isTransitioning = !1\n  }, d._removeStyles = function (t) {\n    var e = {};\n    for (var n in t) e[n] = \"\";\n    this.css(e)\n  };\n  var p = {transitionProperty: \"\", transitionDuration: \"\"};\n  return d.removeTransitionStyles = function () {\n    this.css(p)\n  }, d.removeElem = function () {\n    this.element.parentNode.removeChild(this.element), this.css({display: \"\"}), this.emitEvent(\"remove\", [this])\n  }, d.remove = function () {\n    return a && parseFloat(this.layout.options.transitionDuration) ? (this.once(\"transitionEnd\", function () {\n      this.removeElem()\n    }), void this.hide()) : void this.removeElem()\n  }, d.reveal = function () {\n    delete this.isHidden, this.css({display: \"\"});\n    var t = this.layout.options, e = {}, n = this.getHideRevealTransitionEndProperty(\"visibleStyle\");\n    e[n] = this.onRevealTransitionEnd, this.transition({\n      from: t.hiddenStyle,\n      to: t.visibleStyle,\n      isCleaning: !0,\n      onTransitionEnd: e\n    })\n  }, d.onRevealTransitionEnd = function () {\n    this.isHidden || this.emitEvent(\"reveal\")\n  }, d.getHideRevealTransitionEndProperty = function (t) {\n    var e = this.layout.options[t];\n    if (e.opacity) return \"opacity\";\n    for (var n in e) return n\n  }, d.hide = function () {\n    this.isHidden = !0, this.css({display: \"\"});\n    var t = this.layout.options, e = {}, n = this.getHideRevealTransitionEndProperty(\"hiddenStyle\");\n    e[n] = this.onHideTransitionEnd, this.transition({\n      from: t.visibleStyle,\n      to: t.hiddenStyle,\n      isCleaning: !0,\n      onTransitionEnd: e\n    })\n  }, d.onHideTransitionEnd = function () {\n    this.isHidden && (this.css({display: \"none\"}), this.emitEvent(\"hide\"))\n  }, d.destroy = function () {\n    this.css({position: \"\", left: \"\", right: \"\", top: \"\", bottom: \"\", transition: \"\", transform: \"\"})\n  }, o\n}), function (t, e) {\n  \"use strict\";\n  \"function\" == typeof define && define.amd ? define(\"outlayer/outlayer\", [\"ev-emitter/ev-emitter\", \"get-size/get-size\", \"fizzy-ui-utils/utils\", \"./item\"], function (n, i, o, r) {\n    return e(t, n, i, o, r)\n  }) : \"object\" == typeof module && module.exports ? module.exports = e(t, require(\"ev-emitter\"), require(\"get-size\"), require(\"fizzy-ui-utils\"), require(\"./item\")) : t.Outlayer = e(t, t.EvEmitter, t.getSize, t.fizzyUIUtils, t.Outlayer.Item)\n}(window, function (t, e, n, i, o) {\n  \"use strict\";\n\n  function r(t, e) {\n    var n = i.getQueryElement(t);\n    if (!n) return void (a && a.error(\"Bad element for \" + this.constructor.namespace + \": \" + (n || t)));\n    this.element = n, u && (this.$element = u(this.element)), this.options = i.extend({}, this.constructor.defaults), this.option(e);\n    var o = ++c;\n    this.element.outlayerGUID = o, d[o] = this, this._create();\n    var r = this._getOption(\"initLayout\");\n    r && this.layout()\n  }\n\n  function s(t) {\n    function e() {\n      t.apply(this, arguments)\n    }\n\n    return e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e\n  }\n\n  var a = t.console, u = t.jQuery, l = function () {\n  }, c = 0, d = {};\n  r.namespace = \"outlayer\", r.Item = o, r.defaults = {\n    containerStyle: {position: \"relative\"},\n    initLayout: !0,\n    originLeft: !0,\n    originTop: !0,\n    resize: !0,\n    resizeContainer: !0,\n    transitionDuration: \"0.4s\",\n    hiddenStyle: {opacity: 0, transform: \"scale(0.001)\"},\n    visibleStyle: {opacity: 1, transform: \"scale(1)\"}\n  };\n  var h = r.prototype;\n  return i.extend(h, e.prototype), h.option = function (t) {\n    i.extend(this.options, t)\n  }, h._getOption = function (t) {\n    var e = this.constructor.compatOptions[t];\n    return e && void 0 !== this.options[e] ? this.options[e] : this.options[t]\n  }, r.compatOptions = {\n    initLayout: \"isInitLayout\",\n    horizontal: \"isHorizontal\",\n    layoutInstant: \"isLayoutInstant\",\n    originLeft: \"isOriginLeft\",\n    originTop: \"isOriginTop\",\n    resize: \"isResizeBound\",\n    resizeContainer: \"isResizingContainer\"\n  }, h._create = function () {\n    this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), i.extend(this.element.style, this.options.containerStyle);\n    var t = this._getOption(\"resize\");\n    t && this.bindResize()\n  }, h.reloadItems = function () {\n    this.items = this._itemize(this.element.children)\n  }, h._itemize = function (t) {\n    for (var e = this._filterFindItemElements(t), n = this.constructor.Item, i = [], o = 0; o < e.length; o++) {\n      var r = e[o], s = new n(r, this);\n      i.push(s)\n    }\n    return i\n  }, h._filterFindItemElements = function (t) {\n    return i.filterFindElements(t, this.options.itemSelector)\n  }, h.getItemElements = function () {\n    return this.items.map(function (t) {\n      return t.element\n    })\n  }, h.layout = function () {\n    this._resetLayout(), this._manageStamps();\n    var t = this._getOption(\"layoutInstant\"), e = void 0 !== t ? t : !this._isLayoutInited;\n    this.layoutItems(this.items, e), this._isLayoutInited = !0\n  }, h._init = h.layout, h._resetLayout = function () {\n    this.getSize()\n  }, h.getSize = function () {\n    this.size = n(this.element)\n  }, h._getMeasurement = function (t, e) {\n    var i, o = this.options[t];\n    o ? (\"string\" == typeof o ? i = this.element.querySelector(o) : o instanceof HTMLElement && (i = o), this[t] = i ? n(i)[e] : o) : this[t] = 0\n  }, h.layoutItems = function (t, e) {\n    t = this._getItemsForLayout(t), this._layoutItems(t, e), this._postLayout()\n  }, h._getItemsForLayout = function (t) {\n    return t.filter(function (t) {\n      return !t.isIgnored\n    })\n  }, h._layoutItems = function (t, e) {\n    if (this._emitCompleteOnItems(\"layout\", t), t && t.length) {\n      var n = [];\n      t.forEach(function (t) {\n        var i = this._getItemLayoutPosition(t);\n        i.item = t, i.isInstant = e || t.isLayoutInstant, n.push(i)\n      }, this), this._processLayoutQueue(n)\n    }\n  }, h._getItemLayoutPosition = function () {\n    return {x: 0, y: 0}\n  }, h._processLayoutQueue = function (t) {\n    t.forEach(function (t) {\n      this._positionItem(t.item, t.x, t.y, t.isInstant)\n    }, this)\n  }, h._positionItem = function (t, e, n, i) {\n    i ? t.goTo(e, n) : t.moveTo(e, n)\n  }, h._postLayout = function () {\n    this.resizeContainer()\n  }, h.resizeContainer = function () {\n    var t = this._getOption(\"resizeContainer\");\n    if (t) {\n      var e = this._getContainerSize();\n      e && (this._setContainerMeasure(e.width, !0), this._setContainerMeasure(e.height, !1))\n    }\n  }, h._getContainerSize = l, h._setContainerMeasure = function (t, e) {\n    if (void 0 !== t) {\n      var n = this.size;\n      n.isBorderBox && (t += e ? n.paddingLeft + n.paddingRight + n.borderLeftWidth + n.borderRightWidth : n.paddingBottom + n.paddingTop + n.borderTopWidth + n.borderBottomWidth), t = Math.max(t, 0), this.element.style[e ? \"width\" : \"height\"] = t + \"px\"\n    }\n  }, h._emitCompleteOnItems = function (t, e) {\n    function n() {\n      o.dispatchEvent(t + \"Complete\", null, [e])\n    }\n\n    function i() {\n      s++, s == r && n()\n    }\n\n    var o = this, r = e.length;\n    if (!e || !r) return void n();\n    var s = 0;\n    e.forEach(function (e) {\n      e.once(t, i)\n    })\n  }, h.dispatchEvent = function (t, e, n) {\n    var i = e ? [e].concat(n) : n;\n    if (this.emitEvent(t, i), u) if (this.$element = this.$element || u(this.element), e) {\n      var o = u.Event(e);\n      o.type = t, this.$element.trigger(o, n)\n    } else this.$element.trigger(t, n)\n  }, h.ignore = function (t) {\n    var e = this.getItem(t);\n    e && (e.isIgnored = !0)\n  }, h.unignore = function (t) {\n    var e = this.getItem(t);\n    e && delete e.isIgnored\n  }, h.stamp = function (t) {\n    t = this._find(t), t && (this.stamps = this.stamps.concat(t), t.forEach(this.ignore, this))\n  }, h.unstamp = function (t) {\n    t = this._find(t), t && t.forEach(function (t) {\n      i.removeFrom(this.stamps, t), this.unignore(t)\n    }, this)\n  }, h._find = function (t) {\n    return t ? (\"string\" == typeof t && (t = this.element.querySelectorAll(t)), t = i.makeArray(t)) : void 0\n  }, h._manageStamps = function () {\n    this.stamps && this.stamps.length && (this._getBoundingRect(), this.stamps.forEach(this._manageStamp, this))\n  }, h._getBoundingRect = function () {\n    var t = this.element.getBoundingClientRect(), e = this.size;\n    this._boundingRect = {\n      left: t.left + e.paddingLeft + e.borderLeftWidth,\n      top: t.top + e.paddingTop + e.borderTopWidth,\n      right: t.right - (e.paddingRight + e.borderRightWidth),\n      bottom: t.bottom - (e.paddingBottom + e.borderBottomWidth)\n    }\n  }, h._manageStamp = l, h._getElementOffset = function (t) {\n    var e = t.getBoundingClientRect(), i = this._boundingRect, o = n(t), r = {\n      left: e.left - i.left - o.marginLeft,\n      top: e.top - i.top - o.marginTop,\n      right: i.right - e.right - o.marginRight,\n      bottom: i.bottom - e.bottom - o.marginBottom\n    };\n    return r\n  }, h.handleEvent = i.handleEvent, h.bindResize = function () {\n    t.addEventListener(\"resize\", this), this.isResizeBound = !0\n  }, h.unbindResize = function () {\n    t.removeEventListener(\"resize\", this), this.isResizeBound = !1\n  }, h.onresize = function () {\n    this.resize()\n  }, i.debounceMethod(r, \"onresize\", 100), h.resize = function () {\n    this.isResizeBound && this.needsResizeLayout() && this.layout()\n  }, h.needsResizeLayout = function () {\n    var t = n(this.element), e = this.size && t;\n    return e && t.innerWidth !== this.size.innerWidth\n  }, h.addItems = function (t) {\n    var e = this._itemize(t);\n    return e.length && (this.items = this.items.concat(e)), e\n  }, h.appended = function (t) {\n    var e = this.addItems(t);\n    e.length && (this.layoutItems(e, !0), this.reveal(e))\n  }, h.prepended = function (t) {\n    var e = this._itemize(t);\n    if (e.length) {\n      var n = this.items.slice(0);\n      this.items = e.concat(n), this._resetLayout(), this._manageStamps(), this.layoutItems(e, !0), this.reveal(e), this.layoutItems(n)\n    }\n  }, h.reveal = function (t) {\n    this._emitCompleteOnItems(\"reveal\", t), t && t.length && t.forEach(function (t) {\n      t.reveal()\n    })\n  }, h.hide = function (t) {\n    this._emitCompleteOnItems(\"hide\", t), t && t.length && t.forEach(function (t) {\n      t.hide()\n    })\n  }, h.revealItemElements = function (t) {\n    var e = this.getItems(t);\n    this.reveal(e)\n  }, h.hideItemElements = function (t) {\n    var e = this.getItems(t);\n    this.hide(e)\n  }, h.getItem = function (t) {\n    for (var e = 0; e < this.items.length; e++) {\n      var n = this.items[e];\n      if (n.element == t) return n\n    }\n  }, h.getItems = function (t) {\n    t = i.makeArray(t);\n    var e = [];\n    return t.forEach(function (t) {\n      var n = this.getItem(t);\n      n && e.push(n)\n    }, this), e\n  }, h.remove = function (t) {\n    var e = this.getItems(t);\n    this._emitCompleteOnItems(\"remove\", e), e && e.length && e.forEach(function (t) {\n      t.remove(), i.removeFrom(this.items, t)\n    }, this)\n  }, h.destroy = function () {\n    var t = this.element.style;\n    t.height = \"\", t.position = \"\", t.width = \"\", this.items.forEach(function (t) {\n      t.destroy()\n    }), this.unbindResize();\n    var e = this.element.outlayerGUID;\n    delete d[e], delete this.element.outlayerGUID, u && u.removeData(this.element, this.constructor.namespace)\n  }, r.data = function (t) {\n    t = i.getQueryElement(t);\n    var e = t && t.outlayerGUID;\n    return e && d[e]\n  }, r.create = function (t, e) {\n    var n = s(r);\n    return n.defaults = i.extend({}, r.defaults), i.extend(n.defaults, e), n.compatOptions = i.extend({}, r.compatOptions), n.namespace = t, n.data = r.data, n.Item = s(o), i.htmlInit(n, t), u && u.bridget && u.bridget(t, n), n\n  }, r.Item = o, r\n}), function (t, e) {\n  \"function\" == typeof define && define.amd ? define([\"outlayer/outlayer\", \"get-size/get-size\"], e) : \"object\" == typeof module && module.exports ? module.exports = e(require(\"outlayer\"), require(\"get-size\")) : t.Masonry = e(t.Outlayer, t.getSize)\n}(window, function (t, e) {\n  var n = t.create(\"masonry\");\n  return n.compatOptions.fitWidth = \"isFitWidth\", n.prototype._resetLayout = function () {\n    this.getSize(), this._getMeasurement(\"columnWidth\", \"outerWidth\"), this._getMeasurement(\"gutter\", \"outerWidth\"), this.measureColumns(), this.colYs = [];\n    for (var t = 0; t < this.cols; t++) this.colYs.push(0);\n    this.maxY = 0\n  }, n.prototype.measureColumns = function () {\n    if (this.getContainerWidth(), !this.columnWidth) {\n      var t = this.items[0], n = t && t.element;\n      this.columnWidth = n && e(n).outerWidth || this.containerWidth\n    }\n    var i = this.columnWidth += this.gutter, o = this.containerWidth + this.gutter, r = o / i, s = i - o % i,\n        a = s && 1 > s ? \"round\" : \"floor\";\n    r = Math[a](r), this.cols = Math.max(r, 1)\n  }, n.prototype.getContainerWidth = function () {\n    var t = this._getOption(\"fitWidth\"), n = t ? this.element.parentNode : this.element, i = e(n);\n    this.containerWidth = i && i.innerWidth\n  }, n.prototype._getItemLayoutPosition = function (t) {\n    t.getSize();\n    var e = t.size.outerWidth % this.columnWidth, n = e && 1 > e ? \"round\" : \"ceil\",\n        i = Math[n](t.size.outerWidth / this.columnWidth);\n    i = Math.min(i, this.cols);\n    for (var o = this._getColGroup(i), r = Math.min.apply(Math, o), s = o.indexOf(r), a = {\n      x: this.columnWidth * s,\n      y: r\n    }, u = r + t.size.outerHeight, l = this.cols + 1 - o.length, c = 0; l > c; c++) this.colYs[s + c] = u;\n    return a\n  }, n.prototype._getColGroup = function (t) {\n    if (2 > t) return this.colYs;\n    for (var e = [], n = this.cols + 1 - t, i = 0; n > i; i++) {\n      var o = this.colYs.slice(i, i + t);\n      e[i] = Math.max.apply(Math, o)\n    }\n    return e\n  }, n.prototype._manageStamp = function (t) {\n    var n = e(t), i = this._getElementOffset(t), o = this._getOption(\"originLeft\"), r = o ? i.left : i.right,\n        s = r + n.outerWidth, a = Math.floor(r / this.columnWidth);\n    a = Math.max(0, a);\n    var u = Math.floor(s / this.columnWidth);\n    u -= s % this.columnWidth ? 0 : 1, u = Math.min(this.cols - 1, u);\n    for (var l = this._getOption(\"originTop\"), c = (l ? i.top : i.bottom) + n.outerHeight, d = a; u >= d; d++) this.colYs[d] = Math.max(c, this.colYs[d])\n  }, n.prototype._getContainerSize = function () {\n    this.maxY = Math.max.apply(Math, this.colYs);\n    var t = {height: this.maxY};\n    return this._getOption(\"fitWidth\") && (t.width = this._getContainerFitWidth()), t\n  }, n.prototype._getContainerFitWidth = function () {\n    for (var t = 0, e = this.cols; --e && 0 === this.colYs[e];) t++;\n    return (this.cols - t) * this.columnWidth - this.gutter\n  }, n.prototype.needsResizeLayout = function () {\n    var t = this.containerWidth;\n    return this.getContainerWidth(), t != this.containerWidth\n  }, n\n}), $(function () {\n  function t() {\n    o.toggleClass(l), i.toggleClass(u), r.toggleClass(c), s.toggleClass(d)\n  }\n\n  function e() {\n    o.addClass(l), i.animate({left: \"0px\"}, f), r.animate({left: p}, f), s.animate({left: p}, f)\n  }\n\n  function n() {\n    o.removeClass(l), i.animate({left: \"-\" + p}, f), r.animate({left: \"0px\"}, f), s.animate({left: \"0px\"}, f)\n  }\n\n  var i = $(\".pushy\"), o = $(\"body\"), r = $(\"#container\"), s = $(\".push\"), a = $(\".site-overlay\"),\n      u = \"pushy-left pushy-open\", l = \"pushy-active\", c = \"container-push\", d = \"push-push\",\n      h = $(\".menu-btn, .pushy a\"), f = 200, p = i.width() + \"px\";\n  if (cssTransforms3d = function () {\n    var t = document.createElement(\"p\"), e = !1, n = {\n      webkitTransform: \"-webkit-transform\",\n      OTransform: \"-o-transform\",\n      msTransform: \"-ms-transform\",\n      MozTransform: \"-moz-transform\",\n      transform: \"transform\"\n    };\n    document.body.insertBefore(t, null);\n    for (var i in n) void 0 !== t.style[i] && (t.style[i] = \"translate3d(1px,1px,1px)\", e = window.getComputedStyle(t).getPropertyValue(n[i]));\n    return document.body.removeChild(t), void 0 !== e && e.length > 0 && \"none\" !== e\n  }()) h.click(function () {\n    t()\n  }), a.click(function () {\n    t()\n  }); else {\n    i.css({left: \"-\" + p}), r.css({\"overflow-x\": \"hidden\"});\n    var m = !0;\n    h.click(function () {\n      m ? (e(), m = !1) : (n(), m = !0)\n    }), a.click(function () {\n      m ? (e(), m = !1) : (n(), m = !0)\n    })\n  }\n}), function () {\n  var t, e, n, i, o, r = function (t, e) {\n    return function () {\n      return t.apply(e, arguments)\n    }\n  }, s = [].indexOf || function (t) {\n    for (var e = 0, n = this.length; n > e; e++) if (e in this && this[e] === t) return e;\n    return -1\n  };\n  e = function () {\n    function t() {\n    }\n\n    return t.prototype.extend = function (t, e) {\n      var n, i;\n      for (n in e) i = e[n], null == t[n] && (t[n] = i);\n      return t\n    }, t.prototype.isMobile = function (t) {\n      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)\n    }, t.prototype.createEvent = function (t, e, n, i) {\n      var o;\n      return null == e && (e = !1), null == n && (n = !1), null == i && (i = null), null != document.createEvent ? (o = document.createEvent(\"CustomEvent\"), o.initCustomEvent(t, e, n, i)) : null != document.createEventObject ? (o = document.createEventObject(), o.eventType = t) : o.eventName = t, o\n    }, t.prototype.emitEvent = function (t, e) {\n      return null != t.dispatchEvent ? t.dispatchEvent(e) : e in (null != t) ? t[e]() : \"on\" + e in (null != t) ? t[\"on\" + e]() : void 0\n    }, t.prototype.addEvent = function (t, e, n) {\n      return null != t.addEventListener ? t.addEventListener(e, n, !1) : null != t.attachEvent ? t.attachEvent(\"on\" + e, n) : t[e] = n\n    }, t.prototype.removeEvent = function (t, e, n) {\n      return null != t.removeEventListener ? t.removeEventListener(e, n, !1) : null != t.detachEvent ? t.detachEvent(\"on\" + e, n) : delete t[e]\n    }, t.prototype.innerHeight = function () {\n      return \"innerHeight\" in window ? window.innerHeight : document.documentElement.clientHeight\n    }, t\n  }(), n = this.WeakMap || this.MozWeakMap || (n = function () {\n    function t() {\n      this.keys = [], this.values = []\n    }\n\n    return t.prototype.get = function (t) {\n      var e, n, i, o, r;\n      for (r = this.keys, e = i = 0, o = r.length; o > i; e = ++i) if (n = r[e], n === t) return this.values[e]\n    }, t.prototype.set = function (t, e) {\n      var n, i, o, r, s;\n      for (s = this.keys, n = o = 0, r = s.length; r > o; n = ++o) if (i = s[n], i === t) return void (this.values[n] = e);\n      return this.keys.push(t), this.values.push(e)\n    }, t\n  }()), t = this.MutationObserver || this.WebkitMutationObserver || this.MozMutationObserver || (t = function () {\n    function t() {\n      \"undefined\" != typeof console && null !== console && console.warn(\"MutationObserver is not supported by your browser.\"), \"undefined\" != typeof console && null !== console && console.warn(\"WOW.js cannot detect dom mutations, please call .sync() after loading new content.\")\n    }\n\n    return t.notSupported = !0, t.prototype.observe = function () {\n    }, t\n  }()), i = this.getComputedStyle || function (t) {\n    return this.getPropertyValue = function (e) {\n      var n;\n      return \"float\" === e && (e = \"styleFloat\"), o.test(e) && e.replace(o, function (t, e) {\n        return e.toUpperCase()\n      }), (null != (n = t.currentStyle) ? n[e] : void 0) || null\n    }, this\n  }, o = /(\\-([a-z]){1})/g, this.WOW = function () {\n    function o(t) {\n      null == t && (t = {}), this.scrollCallback = r(this.scrollCallback, this), this.scrollHandler = r(this.scrollHandler, this), this.resetAnimation = r(this.resetAnimation, this), this.start = r(this.start, this), this.scrolled = !0, this.config = this.util().extend(t, this.defaults), null != t.scrollContainer && (this.config.scrollContainer = document.querySelector(t.scrollContainer)), this.animationNameCache = new n, this.wowEvent = this.util().createEvent(this.config.boxClass)\n    }\n\n    return o.prototype.defaults = {\n      boxClass: \"wow\",\n      animateClass: \"animated\",\n      offset: 0,\n      mobile: !0,\n      live: !0,\n      callback: null,\n      scrollContainer: null\n    }, o.prototype.init = function () {\n      var t;\n      return this.element = window.document.documentElement, \"interactive\" === (t = document.readyState) || \"complete\" === t ? this.start() : this.util().addEvent(document, \"DOMContentLoaded\", this.start), this.finished = []\n    }, o.prototype.start = function () {\n      var e, n, i, o;\n      if (this.stopped = !1, this.boxes = function () {\n        var t, n, i, o;\n        for (i = this.element.querySelectorAll(\".\" + this.config.boxClass), o = [], t = 0, n = i.length; n > t; t++) e = i[t], o.push(e);\n        return o\n      }.call(this), this.all = function () {\n        var t, n, i, o;\n        for (i = this.boxes, o = [], t = 0, n = i.length; n > t; t++) e = i[t], o.push(e);\n        return o\n      }.call(this), this.boxes.length) if (this.disabled()) this.resetStyle(); else for (o = this.boxes, n = 0, i = o.length; i > n; n++) e = o[n], this.applyStyle(e, !0);\n      return this.disabled() || (this.util().addEvent(this.config.scrollContainer || window, \"scroll\", this.scrollHandler), this.util().addEvent(window, \"resize\", this.scrollHandler), this.interval = setInterval(this.scrollCallback, 50)), this.config.live ? new t(function (t) {\n        return function (e) {\n          var n, i, o, r, s;\n          for (s = [], n = 0, i = e.length; i > n; n++) r = e[n], s.push(function () {\n            var t, e, n, i;\n            for (n = r.addedNodes || [], i = [], t = 0, e = n.length; e > t; t++) o = n[t], i.push(this.doSync(o));\n            return i\n          }.call(t));\n          return s\n        }\n      }(this)).observe(document.body, {childList: !0, subtree: !0}) : void 0\n    }, o.prototype.stop = function () {\n      return this.stopped = !0, this.util().removeEvent(this.config.scrollContainer || window, \"scroll\", this.scrollHandler), this.util().removeEvent(window, \"resize\", this.scrollHandler), null != this.interval ? clearInterval(this.interval) : void 0\n    }, o.prototype.sync = function () {\n      return t.notSupported ? this.doSync(this.element) : void 0\n    }, o.prototype.doSync = function (t) {\n      var e, n, i, o, r;\n      if (null == t && (t = this.element), 1 === t.nodeType) {\n        for (t = t.parentNode || t, o = t.querySelectorAll(\".\" + this.config.boxClass), r = [], n = 0, i = o.length; i > n; n++) e = o[n], s.call(this.all, e) < 0 ? (this.boxes.push(e), this.all.push(e), this.stopped || this.disabled() ? this.resetStyle() : this.applyStyle(e, !0), r.push(this.scrolled = !0)) : r.push(void 0);\n        return r\n      }\n    }, o.prototype.show = function (t) {\n      return this.applyStyle(t), t.className = t.className + \" \" + this.config.animateClass, null != this.config.callback && this.config.callback(t), this.util().emitEvent(t, this.wowEvent), this.util().addEvent(t, \"animationend\", this.resetAnimation), this.util().addEvent(t, \"oanimationend\", this.resetAnimation), this.util().addEvent(t, \"webkitAnimationEnd\", this.resetAnimation), this.util().addEvent(t, \"MSAnimationEnd\", this.resetAnimation), t\n    }, o.prototype.applyStyle = function (t, e) {\n      var n, i, o;\n      return i = t.getAttribute(\"data-wow-duration\"), n = t.getAttribute(\"data-wow-delay\"), o = t.getAttribute(\"data-wow-iteration\"), this.animate(function (r) {\n        return function () {\n          return r.customStyle(t, e, i, n, o)\n        }\n      }(this))\n    }, o.prototype.animate = function () {\n      return \"requestAnimationFrame\" in window ? function (t) {\n        return window.requestAnimationFrame(t)\n      } : function (t) {\n        return t()\n      }\n    }(), o.prototype.resetStyle = function () {\n      var t, e, n, i, o;\n      for (i = this.boxes, o = [], e = 0, n = i.length; n > e; e++) t = i[e], o.push(t.style.visibility = \"visible\");\n      return o\n    }, o.prototype.resetAnimation = function (t) {\n      var e;\n      return t.type.toLowerCase().indexOf(\"animationend\") >= 0 ? (e = t.target || t.srcElement, e.className = e.className.replace(this.config.animateClass, \"\").trim()) : void 0\n    }, o.prototype.customStyle = function (t, e, n, i, o) {\n      return e && this.cacheAnimationName(t), t.style.visibility = e ? \"hidden\" : \"visible\",\n      n && this.vendorSet(t.style, {animationDuration: n}), i && this.vendorSet(t.style, {animationDelay: i}), o && this.vendorSet(t.style, {animationIterationCount: o}), this.vendorSet(t.style, {animationName: e ? \"none\" : this.cachedAnimationName(t)}), t\n    }, o.prototype.vendors = [\"moz\", \"webkit\"], o.prototype.vendorSet = function (t, e) {\n      var n, i, o, r;\n      i = [];\n      for (n in e) o = e[n], t[\"\" + n] = o, i.push(function () {\n        var e, i, s, a;\n        for (s = this.vendors, a = [], e = 0, i = s.length; i > e; e++) r = s[e], a.push(t[\"\" + r + n.charAt(0).toUpperCase() + n.substr(1)] = o);\n        return a\n      }.call(this));\n      return i\n    }, o.prototype.vendorCSS = function (t, e) {\n      var n, o, r, s, a, u;\n      for (a = i(t), s = a.getPropertyCSSValue(e), r = this.vendors, n = 0, o = r.length; o > n; n++) u = r[n], s = s || a.getPropertyCSSValue(\"-\" + u + \"-\" + e);\n      return s\n    }, o.prototype.animationName = function (t) {\n      var e;\n      try {\n        e = this.vendorCSS(t, \"animation-name\").cssText\n      } catch (n) {\n        e = i(t).getPropertyValue(\"animation-name\")\n      }\n      return \"none\" === e ? \"\" : e\n    }, o.prototype.cacheAnimationName = function (t) {\n      return this.animationNameCache.set(t, this.animationName(t))\n    }, o.prototype.cachedAnimationName = function (t) {\n      return this.animationNameCache.get(t)\n    }, o.prototype.scrollHandler = function () {\n      return this.scrolled = !0\n    }, o.prototype.scrollCallback = function () {\n      var t;\n      return !this.scrolled || (this.scrolled = !1, this.boxes = function () {\n        var e, n, i, o;\n        for (i = this.boxes, o = [], e = 0, n = i.length; n > e; e++) t = i[e], t && (this.isVisible(t) ? this.show(t) : o.push(t));\n        return o\n      }.call(this), this.boxes.length || this.config.live) ? void 0 : this.stop()\n    }, o.prototype.offsetTop = function (t) {\n      for (var e; void 0 === t.offsetTop;) t = t.parentNode;\n      for (e = t.offsetTop; t = t.offsetParent;) e += t.offsetTop;\n      return e\n    }, o.prototype.isVisible = function (t) {\n      var e, n, i, o, r;\n      return n = t.getAttribute(\"data-wow-offset\") || this.config.offset, r = this.config.scrollContainer && this.config.scrollContainer.scrollTop || window.pageYOffset, o = r + Math.min(this.element.clientHeight, this.util().innerHeight()) - n, i = this.offsetTop(t), e = i + t.clientHeight, o >= i && e >= r\n    }, o.prototype.util = function () {\n      return null != this._util ? this._util : this._util = new e\n    }, o.prototype.disabled = function () {\n      return !this.config.mobile && this.util().isMobile(navigator.userAgent)\n    }, o\n  }()\n}.call(this), function () {\n  var t, e, n, i, o, r, s, a, u, l, c, d, h, f, p, m, g, v, y, w, b, x, E, C, S, M, k, I, _, T, z, O, P = [].slice;\n  g = '<span class=\"odometer-value\"></span>', f = '<span class=\"odometer-ribbon\"><span class=\"odometer-ribbon-inner\">' + g + \"</span></span>\", i = '<span class=\"odometer-digit\"><span class=\"odometer-digit-spacer\">8</span><span class=\"odometer-digit-inner\">' + f + \"</span></span>\", s = '<span class=\"odometer-formatting-mark\"></span>', n = \"(,ddd).dd\", a = /^\\(?([^)]*)\\)?(?:(.)(d+))?$/, u = 30, r = 2e3, t = 20, l = 2, o = .5, c = 1e3 / u, e = 1e3 / t, p = \"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", S = document.createElement(\"div\").style, m = null != S.transition || null != S.webkitTransition || null != S.mozTransition || null != S.oTransition, E = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame, d = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver, y = function (t) {\n    var e;\n    return e = document.createElement(\"div\"), e.innerHTML = t, e.children[0]\n  }, x = function (t, e) {\n    return t.className = t.className.replace(new RegExp(\"(^| )\" + e.split(\" \").join(\"|\") + \"( |$)\", \"gi\"), \" \")\n  }, v = function (t, e) {\n    return x(t, e), t.className += \" \" + e\n  }, M = function (t, e) {\n    var n;\n    return null != document.createEvent ? (n = document.createEvent(\"HTMLEvents\"), n.initEvent(e, !0, !0), t.dispatchEvent(n)) : void 0\n  }, b = function () {\n    var t, e;\n    return null != (t = null != (e = window.performance) && \"function\" == typeof e.now ? e.now() : void 0) ? t : +new Date\n  }, C = function (t, e) {\n    return null == e && (e = 0), e ? (t *= Math.pow(10, e), t += .5, t = Math.floor(t), t /= Math.pow(10, e)) : Math.round(t)\n  }, k = function (t) {\n    return 0 > t ? Math.ceil(t) : Math.floor(t)\n  }, w = function (t) {\n    return t - C(t)\n  }, _ = !1, (I = function () {\n    var t, e, n, i, o;\n    if (!_ && null != window.jQuery) {\n      for (_ = !0, i = [\"html\", \"text\"], o = [], e = 0, n = i.length; n > e; e++) t = i[e], o.push(function (t) {\n        var e;\n        return e = window.jQuery.fn[t], window.jQuery.fn[t] = function (t) {\n          var n;\n          return null == t || null == (null != (n = this[0]) ? n.odometer : void 0) ? e.apply(this, arguments) : this[0].odometer.update(t)\n        }\n      }(t));\n      return o\n    }\n  })(), setTimeout(I, 0), h = function () {\n    function t(e) {\n      var n, i, o, s, a, u, d, h, f, p, m = this;\n      if (this.options = e, this.el = this.options.el, null != this.el.odometer) return this.el.odometer;\n      this.el.odometer = this, h = t.options;\n      for (i in h) s = h[i], null == this.options[i] && (this.options[i] = s);\n      null == (a = this.options).duration && (a.duration = r), this.MAX_VALUES = this.options.duration / c / l | 0, this.resetFormat(), this.value = this.cleanValue(null != (f = this.options.value) ? f : \"\"), this.renderInside(), this.render();\n      try {\n        for (p = [\"innerHTML\", \"innerText\", \"textContent\"], u = 0, d = p.length; d > u; u++) o = p[u], null != this.el[o] && !function (t) {\n          return Object.defineProperty(m.el, t, {\n            get: function () {\n              var e;\n              return \"innerHTML\" === t ? m.inside.outerHTML : null != (e = m.inside.innerText) ? e : m.inside.textContent\n            }, set: function (t) {\n              return m.update(t)\n            }\n          })\n        }(o)\n      } catch (g) {\n        n = g, this.watchForMutations()\n      }\n    }\n\n    return t.prototype.renderInside = function () {\n      return this.inside = document.createElement(\"div\"), this.inside.className = \"odometer-inside\", this.el.innerHTML = \"\", this.el.appendChild(this.inside)\n    }, t.prototype.watchForMutations = function () {\n      var t, e = this;\n      if (null != d) try {\n        return null == this.observer && (this.observer = new d(function (t) {\n          var n;\n          return n = e.el.innerText, e.renderInside(), e.render(e.value), e.update(n)\n        })), this.watchMutations = !0, this.startWatchingMutations()\n      } catch (n) {\n        t = n\n      }\n    }, t.prototype.startWatchingMutations = function () {\n      return this.watchMutations ? this.observer.observe(this.el, {childList: !0}) : void 0\n    }, t.prototype.stopWatchingMutations = function () {\n      var t;\n      return null != (t = this.observer) ? t.disconnect() : void 0\n    }, t.prototype.cleanValue = function (t) {\n      var e;\n      return \"string\" == typeof t && (t = t.replace(null != (e = this.format.radix) ? e : \".\", \"<radix>\"), t = t.replace(/[.,]/g, \"\"), t = t.replace(\"<radix>\", \".\"), t = parseFloat(t, 10) || 0), C(t, this.format.precision)\n    }, t.prototype.bindTransitionEnd = function () {\n      var t, e, n, i, o, r, s = this;\n      if (!this.transitionEndBound) {\n        for (this.transitionEndBound = !0, e = !1, o = p.split(\" \"), r = [], n = 0, i = o.length; i > n; n++) t = o[n], r.push(this.el.addEventListener(t, function () {\n          return e ? !0 : (e = !0, setTimeout(function () {\n            return s.render(), e = !1, M(s.el, \"odometerdone\")\n          }, 0), !0)\n        }, !1));\n        return r\n      }\n    }, t.prototype.resetFormat = function () {\n      var t, e, i, o, r, s, u, l;\n      if (t = null != (u = this.options.format) ? u : n, t || (t = \"d\"), i = a.exec(t), !i) throw new Error(\"Odometer: Unparsable digit format\");\n      return l = i.slice(1, 4), s = l[0], r = l[1], e = l[2], o = (null != e ? e.length : void 0) || 0, this.format = {\n        repeating: s,\n        radix: r,\n        precision: o\n      }\n    }, t.prototype.render = function (t) {\n      var e, n, i, o, r, s, a;\n      for (null == t && (t = this.value), this.stopWatchingMutations(), this.resetFormat(), this.inside.innerHTML = \"\", r = this.options.theme, e = this.el.className.split(\" \"), o = [], s = 0, a = e.length; a > s; s++) n = e[s], n.length && ((i = /^odometer-theme-(.+)$/.exec(n)) ? r = i[1] : /^odometer(-|$)/.test(n) || o.push(n));\n      return o.push(\"odometer\"), m || o.push(\"odometer-no-transitions\"), r ? o.push(\"odometer-theme-\" + r) : o.push(\"odometer-auto-theme\"), this.el.className = o.join(\" \"), this.ribbons = {}, this.formatDigits(t), this.startWatchingMutations()\n    }, t.prototype.formatDigits = function (t) {\n      var e, n, i, o, r, s, a, u, l, c;\n      if (this.digits = [], this.options.formatFunction) for (i = this.options.formatFunction(t), l = i.split(\"\").reverse(), r = 0, a = l.length; a > r; r++) n = l[r], n.match(/0-9/) ? (e = this.renderDigit(), e.querySelector(\".odometer-value\").innerHTML = n, this.digits.push(e), this.insertDigit(e)) : this.addSpacer(n); else for (o = !this.format.precision || !w(t) || !1, c = t.toString().split(\"\").reverse(), s = 0, u = c.length; u > s; s++) e = c[s], \".\" === e && (o = !0), this.addDigit(e, o)\n    }, t.prototype.update = function (t) {\n      var e, n = this;\n      return t = this.cleanValue(t), (e = t - this.value) ? (x(this.el, \"odometer-animating-up odometer-animating-down odometer-animating\"), e > 0 ? v(this.el, \"odometer-animating-up\") : v(this.el, \"odometer-animating-down\"), this.stopWatchingMutations(), this.animate(t), this.startWatchingMutations(), setTimeout(function () {\n        return n.el.offsetHeight, v(n.el, \"odometer-animating\")\n      }, 0), this.value = t) : void 0\n    }, t.prototype.renderDigit = function () {\n      return y(i)\n    }, t.prototype.insertDigit = function (t, e) {\n      return null != e ? this.inside.insertBefore(t, e) : this.inside.children.length ? this.inside.insertBefore(t, this.inside.children[0]) : this.inside.appendChild(t)\n    }, t.prototype.addSpacer = function (t, e, n) {\n      var i;\n      return i = y(s), i.innerHTML = t, n && v(i, n), this.insertDigit(i, e)\n    }, t.prototype.addDigit = function (t, e) {\n      var n, i, o, r;\n      if (null == e && (e = !0), \"-\" === t) return this.addSpacer(t, null, \"odometer-negation-mark\");\n      if (\".\" === t) return this.addSpacer(null != (r = this.format.radix) ? r : \".\", null, \"odometer-radix-mark\");\n      if (e) for (o = !1; ;) {\n        if (!this.format.repeating.length) {\n          if (o) throw new Error(\"Bad odometer format without digits\");\n          this.resetFormat(), o = !0\n        }\n        if (n = this.format.repeating[this.format.repeating.length - 1], this.format.repeating = this.format.repeating.substring(0, this.format.repeating.length - 1), \"d\" === n) break;\n        this.addSpacer(n)\n      }\n      return i = this.renderDigit(), i.querySelector(\".odometer-value\").innerHTML = t, this.digits.push(i), this.insertDigit(i)\n    }, t.prototype.animate = function (t) {\n      return m && \"count\" !== this.options.animation ? this.animateSlide(t) : this.animateCount(t)\n    }, t.prototype.animateCount = function (t) {\n      var n, i, o, r, s, a = this;\n      if (i = +t - this.value) return r = o = b(), n = this.value, (s = function () {\n        var u, l, c;\n        return b() - r > a.options.duration ? (a.value = t, a.render(), void M(a.el, \"odometerdone\")) : (u = b() - o, u > e && (o = b(), c = u / a.options.duration, l = i * c, n += l, a.render(Math.round(n))), null != E ? E(s) : setTimeout(s, e))\n      })()\n    }, t.prototype.getDigitCount = function () {\n      var t, e, n, i, o, r;\n      for (i = 1 <= arguments.length ? P.call(arguments, 0) : [], t = o = 0, r = i.length; r > o; t = ++o) n = i[t], i[t] = Math.abs(n);\n      return e = Math.max.apply(Math, i), Math.ceil(Math.log(e + 1) / Math.log(10))\n    }, t.prototype.getFractionalDigitCount = function () {\n      var t, e, n, i, o, r, s;\n      for (o = 1 <= arguments.length ? P.call(arguments, 0) : [], e = /^\\-?\\d*\\.(\\d*?)0*$/, t = r = 0, s = o.length; s > r; t = ++r) i = o[t], o[t] = i.toString(), n = e.exec(o[t]), null == n ? o[t] = 0 : o[t] = n[1].length;\n      return Math.max.apply(Math, o)\n    }, t.prototype.resetDigits = function () {\n      return this.digits = [], this.ribbons = [], this.inside.innerHTML = \"\", this.resetFormat()\n    }, t.prototype.animateSlide = function (t) {\n      var e, n, i, r, s, a, u, l, c, d, h, f, p, m, g, y, w, b, x, E, C, S, M, I, _, T, z;\n      if (y = this.value, l = this.getFractionalDigitCount(y, t), l && (t *= Math.pow(10, l), y *= Math.pow(10, l)), i = t - y) {\n        for (this.bindTransitionEnd(), r = this.getDigitCount(y, t), s = [], e = 0, h = x = 0; r >= 0 ? r > x : x > r; h = r >= 0 ? ++x : --x) {\n          if (w = k(y / Math.pow(10, r - h - 1)), u = k(t / Math.pow(10, r - h - 1)), a = u - w, Math.abs(a) > this.MAX_VALUES) {\n            for (d = [], f = a / (this.MAX_VALUES + this.MAX_VALUES * e * o), n = w; a > 0 && u > n || 0 > a && n > u;) d.push(Math.round(n)), n += f;\n            d[d.length - 1] !== u && d.push(u), e++\n          } else d = function () {\n            z = [];\n            for (var t = w; u >= w ? u >= t : t >= u; u >= w ? t++ : t--) z.push(t);\n            return z\n          }.apply(this);\n          for (h = E = 0, S = d.length; S > E; h = ++E) c = d[h], d[h] = Math.abs(c % 10);\n          s.push(d)\n        }\n        for (this.resetDigits(), T = s.reverse(), h = C = 0, M = T.length; M > C; h = ++C) for (d = T[h], this.digits[h] || this.addDigit(\" \", h >= l), null == (b = this.ribbons)[h] && (b[h] = this.digits[h].querySelector(\".odometer-ribbon-inner\")), this.ribbons[h].innerHTML = \"\", 0 > i && (d = d.reverse()), p = _ = 0, I = d.length; I > _; p = ++_) c = d[p], g = document.createElement(\"div\"), g.className = \"odometer-value\", g.innerHTML = c, this.ribbons[h].appendChild(g), p === d.length - 1 && v(g, \"odometer-last-value\"), 0 === p && v(g, \"odometer-first-value\");\n        return 0 > w && this.addDigit(\"-\"), m = this.inside.querySelector(\".odometer-radix-mark\"), null != m && m.parent.removeChild(m), l ? this.addSpacer(this.format.radix, this.digits[l - 1], \"odometer-radix-mark\") : void 0\n      }\n    }, t\n  }(), h.options = null != (z = window.odometerOptions) ? z : {}, setTimeout(function () {\n    var t, e, n, i, o;\n    if (window.odometerOptions) {\n      i = window.odometerOptions, o = [];\n      for (t in i) e = i[t], o.push(null != (n = h.options)[t] ? (n = h.options)[t] : n[t] = e);\n      return o\n    }\n  }, 0), h.init = function () {\n    var t, e, n, i, o, r;\n    if (null != document.querySelectorAll) {\n      for (e = document.querySelectorAll(h.options.selector || \".odometer\"), r = [], n = 0, i = e.length; i > n; n++) t = e[n], r.push(t.odometer = new h({\n        el: t,\n        value: null != (o = t.innerText) ? o : t.textContent\n      }));\n      return r\n    }\n  }, null != (null != (O = document.documentElement) ? O.doScroll : void 0) && null != document.createEventObject ? (T = document.onreadystatechange, document.onreadystatechange = function () {\n    return \"complete\" === document.readyState && h.options.auto !== !1 && h.init(), null != T ? T.apply(this, arguments) : void 0\n  }) : document.addEventListener(\"DOMContentLoaded\", function () {\n    return h.options.auto !== !1 ? h.init() : void 0\n  }, !1), \"function\" == typeof define && define.amd ? define([\"jquery\"], function () {\n    return h\n  }) : \"undefined\" != typeof exports && null !== exports ? module.exports = h : window.Odometer = h\n}.call(this), !function (t) {\n  \"function\" == typeof define && define.amd ? define([\"jquery\"], t) : t(\"object\" == typeof exports ? require(\"jquery\") : window.jQuery || window.Zepto)\n}(function (t) {\n  var e, n, i, o, r, s, a = \"Close\", u = \"BeforeClose\", l = \"AfterClose\", c = \"BeforeAppend\", d = \"MarkupParse\",\n      h = \"Open\", f = \"Change\", p = \"mfp\", m = \".\" + p, g = \"mfp-ready\", v = \"mfp-removing\", y = \"mfp-prevent-close\",\n      w = function () {\n      }, b = !!window.jQuery, x = t(window), E = function (t, n) {\n        e.ev.on(p + t + m, n)\n      }, C = function (e, n, i, o) {\n        var r = document.createElement(\"div\");\n        return r.className = \"mfp-\" + e, i && (r.innerHTML = i), o ? n && n.appendChild(r) : (r = t(r), n && r.appendTo(n)), r\n      }, S = function (n, i) {\n        e.ev.triggerHandler(p + n, i), e.st.callbacks && (n = n.charAt(0).toLowerCase() + n.slice(1), e.st.callbacks[n] && e.st.callbacks[n].apply(e, t.isArray(i) ? i : [i]))\n      }, M = function (n) {\n        return n === s && e.currTemplate.closeBtn || (e.currTemplate.closeBtn = t(e.st.closeMarkup.replace(\"%title%\", e.st.tClose)), s = n), e.currTemplate.closeBtn\n      }, k = function () {\n        t.magnificPopup.instance || (e = new w, e.init(), t.magnificPopup.instance = e)\n      }, I = function () {\n        var t = document.createElement(\"p\").style, e = [\"ms\", \"O\", \"Moz\", \"Webkit\"];\n        if (void 0 !== t.transition) return !0;\n        for (; e.length;) if (e.pop() + \"Transition\" in t) return !0;\n        return !1\n      };\n  w.prototype = {\n    constructor: w, init: function () {\n      var n = navigator.appVersion;\n      e.isIE7 = -1 !== n.indexOf(\"MSIE 7.\"), e.isIE8 = -1 !== n.indexOf(\"MSIE 8.\"), e.isLowIE = e.isIE7 || e.isIE8, e.isAndroid = /android/gi.test(n), e.isIOS = /iphone|ipad|ipod/gi.test(n), e.supportsTransition = I(), e.probablyMobile = e.isAndroid || e.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent), i = t(document), e.popupsCache = {}\n    }, open: function (n) {\n      var o;\n      if (n.isObj === !1) {\n        e.items = n.items.toArray(), e.index = 0;\n        var s, a = n.items;\n        for (o = 0; o < a.length; o++) if (s = a[o], s.parsed && (s = s.el[0]), s === n.el[0]) {\n          e.index = o;\n          break\n        }\n      } else e.items = t.isArray(n.items) ? n.items : [n.items], e.index = n.index || 0;\n      if (e.isOpen) return void e.updateItemHTML();\n      e.types = [], r = \"\", n.mainEl && n.mainEl.length ? e.ev = n.mainEl.eq(0) : e.ev = i, n.key ? (e.popupsCache[n.key] || (e.popupsCache[n.key] = {}), e.currTemplate = e.popupsCache[n.key]) : e.currTemplate = {}, e.st = t.extend(!0, {}, t.magnificPopup.defaults, n), e.fixedContentPos = \"auto\" === e.st.fixedContentPos ? !e.probablyMobile : e.st.fixedContentPos, e.st.modal && (e.st.closeOnContentClick = !1, e.st.closeOnBgClick = !1, e.st.showCloseBtn = !1, e.st.enableEscapeKey = !1), e.bgOverlay || (e.bgOverlay = C(\"bg\").on(\"click\" + m, function () {\n        e.close()\n      }), e.wrap = C(\"wrap\").attr(\"tabindex\", -1).on(\"click\" + m, function (t) {\n        e._checkIfClose(t.target) && e.close()\n      }), e.container = C(\"container\", e.wrap)), e.contentContainer = C(\"content\"), e.st.preloader && (e.preloader = C(\"preloader\", e.container, e.st.tLoading));\n      var u = t.magnificPopup.modules;\n      for (o = 0; o < u.length; o++) {\n        var l = u[o];\n        l = l.charAt(0).toUpperCase() + l.slice(1), e[\"init\" + l].call(e)\n      }\n      S(\"BeforeOpen\"), e.st.showCloseBtn && (e.st.closeBtnInside ? (E(d, function (t, e, n, i) {\n        n.close_replaceWith = M(i.type)\n      }), r += \" mfp-close-btn-in\") : e.wrap.append(M())), e.st.alignTop && (r += \" mfp-align-top\"), e.fixedContentPos ? e.wrap.css({\n        overflow: e.st.overflowY,\n        overflowX: \"hidden\",\n        overflowY: e.st.overflowY\n      }) : e.wrap.css({\n        top: x.scrollTop(),\n        position: \"absolute\"\n      }), (e.st.fixedBgPos === !1 || \"auto\" === e.st.fixedBgPos && !e.fixedContentPos) && e.bgOverlay.css({\n        height: i.height(),\n        position: \"absolute\"\n      }), e.st.enableEscapeKey && i.on(\"keyup\" + m, function (t) {\n        27 === t.keyCode && e.close()\n      }), x.on(\"resize\" + m, function () {\n        e.updateSize()\n      }), e.st.closeOnContentClick || (r += \" mfp-auto-cursor\"), r && e.wrap.addClass(r);\n      var c = e.wH = x.height(), f = {};\n      if (e.fixedContentPos && e._hasScrollBar(c)) {\n        var p = e._getScrollbarSize();\n        p && (f.marginRight = p)\n      }\n      e.fixedContentPos && (e.isIE7 ? t(\"body, html\").css(\"overflow\", \"hidden\") : f.overflow = \"hidden\");\n      var v = e.st.mainClass;\n      return e.isIE7 && (v += \" mfp-ie7\"), v && e._addClassToMFP(v), e.updateItemHTML(), S(\"BuildControls\"), t(\"html\").css(f), e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo || t(document.body)), e._lastFocusedEl = document.activeElement, setTimeout(function () {\n        e.content ? (e._addClassToMFP(g), e._setFocus()) : e.bgOverlay.addClass(g), i.on(\"focusin\" + m, e._onFocusIn)\n      }, 16), e.isOpen = !0, e.updateSize(c), S(h), n\n    }, close: function () {\n      e.isOpen && (S(u), e.isOpen = !1, e.st.removalDelay && !e.isLowIE && e.supportsTransition ? (e._addClassToMFP(v), setTimeout(function () {\n        e._close()\n      }, e.st.removalDelay)) : e._close())\n    }, _close: function () {\n      S(a);\n      var n = v + \" \" + g + \" \";\n      if (e.bgOverlay.detach(), e.wrap.detach(), e.container.empty(), e.st.mainClass && (n += e.st.mainClass + \" \"), e._removeClassFromMFP(n), e.fixedContentPos) {\n        var o = {marginRight: \"\"};\n        e.isIE7 ? t(\"body, html\").css(\"overflow\", \"\") : o.overflow = \"\", t(\"html\").css(o)\n      }\n      i.off(\"keyup\" + m + \" focusin\" + m), e.ev.off(m), e.wrap.attr(\"class\", \"mfp-wrap\").removeAttr(\"style\"), e.bgOverlay.attr(\"class\", \"mfp-bg\"), e.container.attr(\"class\", \"mfp-container\"), !e.st.showCloseBtn || e.st.closeBtnInside && e.currTemplate[e.currItem.type] !== !0 || e.currTemplate.closeBtn && e.currTemplate.closeBtn.detach(), e.st.autoFocusLast && e._lastFocusedEl && t(e._lastFocusedEl).focus(), e.currItem = null, e.content = null, e.currTemplate = null, e.prevHeight = 0, S(l)\n    }, updateSize: function (t) {\n      if (e.isIOS) {\n        var n = document.documentElement.clientWidth / window.innerWidth, i = window.innerHeight * n;\n        e.wrap.css(\"height\", i), e.wH = i\n      } else e.wH = t || x.height();\n      e.fixedContentPos || e.wrap.css(\"height\", e.wH), S(\"Resize\")\n    }, updateItemHTML: function () {\n      var n = e.items[e.index];\n      e.contentContainer.detach(), e.content && e.content.detach(), n.parsed || (n = e.parseEl(e.index));\n      var i = n.type;\n      if (S(\"BeforeChange\", [e.currItem ? e.currItem.type : \"\", i]), e.currItem = n, !e.currTemplate[i]) {\n        var r = e.st[i] ? e.st[i].markup : !1;\n        S(\"FirstMarkupParse\", r), r ? e.currTemplate[i] = t(r) : e.currTemplate[i] = !0\n      }\n      o && o !== n.type && e.container.removeClass(\"mfp-\" + o + \"-holder\");\n      var s = e[\"get\" + i.charAt(0).toUpperCase() + i.slice(1)](n, e.currTemplate[i]);\n      e.appendContent(s, i), n.preloaded = !0, S(f, n), o = n.type, e.container.prepend(e.contentContainer), S(\"AfterChange\")\n    }, appendContent: function (t, n) {\n      e.content = t, t ? e.st.showCloseBtn && e.st.closeBtnInside && e.currTemplate[n] === !0 ? e.content.find(\".mfp-close\").length || e.content.append(M()) : e.content = t : e.content = \"\", S(c), e.container.addClass(\"mfp-\" + n + \"-holder\"), e.contentContainer.append(e.content)\n    }, parseEl: function (n) {\n      var i, o = e.items[n];\n      if (o.tagName ? o = {el: t(o)} : (i = o.type, o = {data: o, src: o.src}), o.el) {\n        for (var r = e.types, s = 0; s < r.length; s++) if (o.el.hasClass(\"mfp-\" + r[s])) {\n          i = r[s];\n          break\n        }\n        o.src = o.el.attr(\"data-mfp-src\"), o.src || (o.src = o.el.attr(\"href\"))\n      }\n      return o.type = i || e.st.type || \"inline\", o.index = n, o.parsed = !0, e.items[n] = o, S(\"ElementParse\", o), e.items[n]\n    }, addGroup: function (t, n) {\n      var i = function (i) {\n        i.mfpEl = this, e._openClick(i, t, n)\n      };\n      n || (n = {});\n      var o = \"click.magnificPopup\";\n      n.mainEl = t, n.items ? (n.isObj = !0, t.off(o).on(o, i)) : (n.isObj = !1, n.delegate ? t.off(o).on(o, n.delegate, i) : (n.items = t, t.off(o).on(o, i)))\n    }, _openClick: function (n, i, o) {\n      var r = void 0 !== o.midClick ? o.midClick : t.magnificPopup.defaults.midClick;\n      if (r || !(2 === n.which || n.ctrlKey || n.metaKey || n.altKey || n.shiftKey)) {\n        var s = void 0 !== o.disableOn ? o.disableOn : t.magnificPopup.defaults.disableOn;\n        if (s) if (t.isFunction(s)) {\n          if (!s.call(e)) return !0\n        } else if (x.width() < s) return !0;\n        n.type && (n.preventDefault(), e.isOpen && n.stopPropagation()), o.el = t(n.mfpEl), o.delegate && (o.items = i.find(o.delegate)), e.open(o)\n      }\n    }, updateStatus: function (t, i) {\n      if (e.preloader) {\n        n !== t && e.container.removeClass(\"mfp-s-\" + n), i || \"loading\" !== t || (i = e.st.tLoading);\n        var o = {status: t, text: i};\n        S(\"UpdateStatus\", o), t = o.status, i = o.text, e.preloader.html(i), e.preloader.find(\"a\").on(\"click\", function (t) {\n          t.stopImmediatePropagation()\n        }), e.container.addClass(\"mfp-s-\" + t), n = t\n      }\n    }, _checkIfClose: function (n) {\n      if (!t(n).hasClass(y)) {\n        var i = e.st.closeOnContentClick, o = e.st.closeOnBgClick;\n        if (i && o) return !0;\n        if (!e.content || t(n).hasClass(\"mfp-close\") || e.preloader && n === e.preloader[0]) return !0;\n        if (n === e.content[0] || t.contains(e.content[0], n)) {\n          if (i) return !0\n        } else if (o && t.contains(document, n)) return !0;\n        return !1\n      }\n    }, _addClassToMFP: function (t) {\n      e.bgOverlay.addClass(t), e.wrap.addClass(t)\n    }, _removeClassFromMFP: function (t) {\n      this.bgOverlay.removeClass(t), e.wrap.removeClass(t)\n    }, _hasScrollBar: function (t) {\n      return (e.isIE7 ? i.height() : document.body.scrollHeight) > (t || x.height())\n    }, _setFocus: function () {\n      (e.st.focus ? e.content.find(e.st.focus).eq(0) : e.wrap).focus()\n    }, _onFocusIn: function (n) {\n      return n.target === e.wrap[0] || t.contains(e.wrap[0], n.target) ? void 0 : (e._setFocus(), !1)\n    }, _parseMarkup: function (e, n, i) {\n      var o;\n      i.data && (n = t.extend(i.data, n)), S(d, [e, n, i]), t.each(n, function (t, n) {\n        if (void 0 === n || n === !1) return !0;\n        if (o = t.split(\"_\"), o.length > 1) {\n          var i = e.find(m + \"-\" + o[0]);\n          if (i.length > 0) {\n            var r = o[1];\n            \"replaceWith\" === r ? i[0] !== n[0] && i.replaceWith(n) : \"img\" === r ? i.is(\"img\") ? i.attr(\"src\", n) : i.replaceWith('<img src=\"' + n + '\" class=\"' + i.attr(\"class\") + '\" />') : i.attr(o[1], n)\n          }\n        } else e.find(m + \"-\" + t).html(n)\n      })\n    }, _getScrollbarSize: function () {\n      if (void 0 === e.scrollbarSize) {\n        var t = document.createElement(\"div\");\n        t.style.cssText = \"width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;\", document.body.appendChild(t), e.scrollbarSize = t.offsetWidth - t.clientWidth, document.body.removeChild(t)\n      }\n      return e.scrollbarSize\n    }\n  }, t.magnificPopup = {\n    instance: null,\n    proto: w.prototype,\n    modules: [],\n    open: function (e, n) {\n      return k(), e = e ? t.extend(!0, {}, e) : {}, e.isObj = !0, e.index = n || 0, this.instance.open(e)\n    },\n    close: function () {\n      return t.magnificPopup.instance && t.magnificPopup.instance.close()\n    },\n    registerModule: function (e, n) {\n      n.options && (t.magnificPopup.defaults[e] = n.options), t.extend(this.proto, n.proto), this.modules.push(e)\n    },\n    defaults: {\n      disableOn: 0,\n      key: null,\n      midClick: !1,\n      mainClass: \"\",\n      preloader: !0,\n      focus: \"\",\n      closeOnContentClick: !1,\n      closeOnBgClick: !0,\n      closeBtnInside: !0,\n      showCloseBtn: !0,\n      enableEscapeKey: !0,\n      modal: !1,\n      alignTop: !1,\n      removalDelay: 0,\n      prependTo: null,\n      fixedContentPos: \"auto\",\n      fixedBgPos: \"auto\",\n      overflowY: \"auto\",\n      closeMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n      tClose: \"Close (Esc)\",\n      tLoading: \"Loading...\",\n      autoFocusLast: !0\n    }\n  }, t.fn.magnificPopup = function (n) {\n    k();\n    var i = t(this);\n    if (\"string\" == typeof n) if (\"open\" === n) {\n      var o, r = b ? i.data(\"magnificPopup\") : i[0].magnificPopup, s = parseInt(arguments[1], 10) || 0;\n      r.items ? o = r.items[s] : (o = i, r.delegate && (o = o.find(r.delegate)), o = o.eq(s)), e._openClick({mfpEl: o}, i, r)\n    } else e.isOpen && e[n].apply(e, Array.prototype.slice.call(arguments, 1)); else n = t.extend(!0, {}, n), b ? i.data(\"magnificPopup\", n) : i[0].magnificPopup = n, e.addGroup(i, n);\n    return i\n  };\n  var _, T, z, O = \"inline\", P = function () {\n    z && (T.after(z.addClass(_)).detach(), z = null)\n  };\n  t.magnificPopup.registerModule(O, {\n    options: {hiddenClass: \"hide\", markup: \"\", tNotFound: \"Content not found\"},\n    proto: {\n      initInline: function () {\n        e.types.push(O), E(a + \".\" + O, function () {\n          P()\n        })\n      }, getInline: function (n, i) {\n        if (P(), n.src) {\n          var o = e.st.inline, r = t(n.src);\n          if (r.length) {\n            var s = r[0].parentNode;\n            s && s.tagName && (T || (_ = o.hiddenClass, T = C(_), _ = \"mfp-\" + _), z = r.after(T).detach().removeClass(_)), e.updateStatus(\"ready\")\n          } else e.updateStatus(\"error\", o.tNotFound), r = t(\"<div>\");\n          return n.inlineElement = r, r\n        }\n        return e.updateStatus(\"ready\"), e._parseMarkup(i, {}, n), i\n      }\n    }\n  });\n  var L, A = \"ajax\", B = function () {\n    L && t(document.body).removeClass(L)\n  }, H = function () {\n    B(), e.req && e.req.abort()\n  };\n  t.magnificPopup.registerModule(A, {\n    options: {\n      settings: null,\n      cursor: \"mfp-ajax-cur\",\n      tError: '<a href=\"%url%\">The content</a> could not be loaded.'\n    }, proto: {\n      initAjax: function () {\n        e.types.push(A), L = e.st.ajax.cursor, E(a + \".\" + A, H), E(\"BeforeChange.\" + A, H)\n      }, getAjax: function (n) {\n        L && t(document.body).addClass(L), e.updateStatus(\"loading\");\n        var i = t.extend({\n          url: n.src, success: function (i, o, r) {\n            var s = {data: i, xhr: r};\n            S(\"ParseAjax\", s), e.appendContent(t(s.data), A), n.finished = !0, B(), e._setFocus(), setTimeout(function () {\n              e.wrap.addClass(g)\n            }, 16), e.updateStatus(\"ready\"), S(\"AjaxContentAdded\")\n          }, error: function () {\n            B(), n.finished = n.loadError = !0, e.updateStatus(\"error\", e.st.ajax.tError.replace(\"%url%\", n.src))\n          }\n        }, e.st.ajax.settings);\n        return e.req = t.ajax(i), \"\"\n      }\n    }\n  });\n  var N, j = function (n) {\n    if (n.data && void 0 !== n.data.title) return n.data.title;\n    var i = e.st.image.titleSrc;\n    if (i) {\n      if (t.isFunction(i)) return i.call(e, n);\n      if (n.el) return n.el.attr(i) || \"\"\n    }\n    return \"\"\n  };\n  t.magnificPopup.registerModule(\"image\", {\n    options: {\n      markup: '<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>',\n      cursor: \"mfp-zoom-out-cur\",\n      titleSrc: \"title\",\n      verticalFit: !0,\n      tError: '<a href=\"%url%\">The image</a> could not be loaded.'\n    }, proto: {\n      initImage: function () {\n        var n = e.st.image, i = \".image\";\n        e.types.push(\"image\"), E(h + i, function () {\n          \"image\" === e.currItem.type && n.cursor && t(document.body).addClass(n.cursor)\n        }), E(a + i, function () {\n          n.cursor && t(document.body).removeClass(n.cursor), x.off(\"resize\" + m)\n        }), E(\"Resize\" + i, e.resizeImage), e.isLowIE && E(\"AfterChange\", e.resizeImage)\n      }, resizeImage: function () {\n        var t = e.currItem;\n        if (t && t.img && e.st.image.verticalFit) {\n          var n = 0;\n          e.isLowIE && (n = parseInt(t.img.css(\"padding-top\"), 10) + parseInt(t.img.css(\"padding-bottom\"), 10)), t.img.css(\"max-height\", e.wH - n)\n        }\n      }, _onImageHasSize: function (t) {\n        t.img && (t.hasSize = !0, N && clearInterval(N), t.isCheckingImgSize = !1, S(\"ImageHasSize\", t), t.imgHidden && (e.content && e.content.removeClass(\"mfp-loading\"), t.imgHidden = !1))\n      }, findImageSize: function (t) {\n        var n = 0, i = t.img[0], o = function (r) {\n          N && clearInterval(N), N = setInterval(function () {\n            return i.naturalWidth > 0 ? void e._onImageHasSize(t) : (n > 200 && clearInterval(N), n++, void (3 === n ? o(10) : 40 === n ? o(50) : 100 === n && o(500)))\n          }, r)\n        };\n        o(1)\n      }, getImage: function (n, i) {\n        var o = 0, r = function () {\n          n && (n.img[0].complete ? (n.img.off(\".mfploader\"), n === e.currItem && (e._onImageHasSize(n), e.updateStatus(\"ready\")), n.hasSize = !0, n.loaded = !0, S(\"ImageLoadComplete\")) : (o++, 200 > o ? setTimeout(r, 100) : s()))\n        }, s = function () {\n          n && (n.img.off(\".mfploader\"), n === e.currItem && (e._onImageHasSize(n), e.updateStatus(\"error\", a.tError.replace(\"%url%\", n.src))), n.hasSize = !0, n.loaded = !0, n.loadError = !0)\n        }, a = e.st.image, u = i.find(\".mfp-img\");\n        if (u.length) {\n          var l = document.createElement(\"img\");\n          l.className = \"mfp-img\", n.el && n.el.find(\"img\").length && (l.alt = n.el.find(\"img\").attr(\"alt\")), n.img = t(l).on(\"load.mfploader\", r).on(\"error.mfploader\", s), l.src = n.src, u.is(\"img\") && (n.img = n.img.clone()), l = n.img[0], l.naturalWidth > 0 ? n.hasSize = !0 : l.width || (n.hasSize = !1)\n        }\n        return e._parseMarkup(i, {\n          title: j(n),\n          img_replaceWith: n.img\n        }, n), e.resizeImage(), n.hasSize ? (N && clearInterval(N), n.loadError ? (i.addClass(\"mfp-loading\"), e.updateStatus(\"error\", a.tError.replace(\"%url%\", n.src))) : (i.removeClass(\"mfp-loading\"), e.updateStatus(\"ready\")), i) : (e.updateStatus(\"loading\"), n.loading = !0, n.hasSize || (n.imgHidden = !0, i.addClass(\"mfp-loading\"), e.findImageSize(n)), i)\n      }\n    }\n  });\n  var W, R = function () {\n    return void 0 === W && (W = void 0 !== document.createElement(\"p\").style.MozTransform), W\n  };\n  t.magnificPopup.registerModule(\"zoom\", {\n    options: {\n      enabled: !1, easing: \"ease-in-out\", duration: 300, opener: function (t) {\n        return t.is(\"img\") ? t : t.find(\"img\")\n      }\n    }, proto: {\n      initZoom: function () {\n        var t, n = e.st.zoom, i = \".zoom\";\n        if (n.enabled && e.supportsTransition) {\n          var o, r, s = n.duration, l = function (t) {\n            var e = t.clone().removeAttr(\"style\").removeAttr(\"class\").addClass(\"mfp-animated-image\"),\n                i = \"all \" + n.duration / 1e3 + \"s \" + n.easing,\n                o = {position: \"fixed\", zIndex: 9999, left: 0, top: 0, \"-webkit-backface-visibility\": \"hidden\"},\n                r = \"transition\";\n            return o[\"-webkit-\" + r] = o[\"-moz-\" + r] = o[\"-o-\" + r] = o[r] = i, e.css(o), e\n          }, c = function () {\n            e.content.css(\"visibility\", \"visible\")\n          };\n          E(\"BuildControls\" + i, function () {\n            if (e._allowZoom()) {\n              if (clearTimeout(o), e.content.css(\"visibility\", \"hidden\"), t = e._getItemToZoom(), !t) return void c();\n              r = l(t), r.css(e._getOffset()), e.wrap.append(r), o = setTimeout(function () {\n                r.css(e._getOffset(!0)), o = setTimeout(function () {\n                  c(), setTimeout(function () {\n                    r.remove(), t = r = null, S(\"ZoomAnimationEnded\")\n                  }, 16)\n                }, s)\n              }, 16)\n            }\n          }), E(u + i, function () {\n            if (e._allowZoom()) {\n              if (clearTimeout(o), e.st.removalDelay = s, !t) {\n                if (t = e._getItemToZoom(), !t) return;\n                r = l(t)\n              }\n              r.css(e._getOffset(!0)), e.wrap.append(r), e.content.css(\"visibility\", \"hidden\"), setTimeout(function () {\n                r.css(e._getOffset())\n              }, 16)\n            }\n          }), E(a + i, function () {\n            e._allowZoom() && (c(), r && r.remove(), t = null)\n          })\n        }\n      }, _allowZoom: function () {\n        return \"image\" === e.currItem.type\n      }, _getItemToZoom: function () {\n        return e.currItem.hasSize ? e.currItem.img : !1\n      }, _getOffset: function (n) {\n        var i;\n        i = n ? e.currItem.img : e.st.zoom.opener(e.currItem.el || e.currItem);\n        var o = i.offset(), r = parseInt(i.css(\"padding-top\"), 10), s = parseInt(i.css(\"padding-bottom\"), 10);\n        o.top -= t(window).scrollTop() - r;\n        var a = {width: i.width(), height: (b ? i.innerHeight() : i[0].offsetHeight) - s - r};\n        return R() ? a[\"-moz-transform\"] = a.transform = \"translate(\" + o.left + \"px,\" + o.top + \"px)\" : (a.left = o.left, a.top = o.top), a\n      }\n    }\n  });\n  var F = \"iframe\", q = \"//about:blank\", D = function (t) {\n    if (e.currTemplate[F]) {\n      var n = e.currTemplate[F].find(\"iframe\");\n      n.length && (t || (n[0].src = q), e.isIE8 && n.css(\"display\", t ? \"block\" : \"none\"))\n    }\n  };\n  t.magnificPopup.registerModule(F, {\n    options: {\n      markup: '<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>',\n      srcAction: \"iframe_src\",\n      patterns: {\n        youtube: {index: \"youtube.com\", id: \"v=\", src: \"//www.youtube.com/embed/%id%?autoplay=1\"},\n        vimeo: {index: \"vimeo.com/\", id: \"/\", src: \"//player.vimeo.com/video/%id%?autoplay=1\"},\n        gmaps: {index: \"//maps.google.\", src: \"%id%&output=embed\"}\n      }\n    }, proto: {\n      initIframe: function () {\n        e.types.push(F), E(\"BeforeChange\", function (t, e, n) {\n          e !== n && (e === F ? D() : n === F && D(!0))\n        }), E(a + \".\" + F, function () {\n          D()\n        })\n      }, getIframe: function (n, i) {\n        var o = n.src, r = e.st.iframe;\n        t.each(r.patterns, function () {\n          return o.indexOf(this.index) > -1 ? (this.id && (o = \"string\" == typeof this.id ? o.substr(o.lastIndexOf(this.id) + this.id.length, o.length) : this.id.call(this, o)), o = this.src.replace(\"%id%\", o), !1) : void 0\n        });\n        var s = {};\n        return r.srcAction && (s[r.srcAction] = o), e._parseMarkup(i, s, n), e.updateStatus(\"ready\"), i\n      }\n    }\n  });\n  var $ = function (t) {\n    var n = e.items.length;\n    return t > n - 1 ? t - n : 0 > t ? n + t : t\n  }, Q = function (t, e, n) {\n    return t.replace(/%curr%/gi, e + 1).replace(/%total%/gi, n)\n  };\n  t.magnificPopup.registerModule(\"gallery\", {\n    options: {\n      enabled: !1,\n      arrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n      preload: [0, 2],\n      navigateByImgClick: !0,\n      arrows: !0,\n      tPrev: \"Previous (Left arrow key)\",\n      tNext: \"Next (Right arrow key)\",\n      tCounter: \"%curr% of %total%\"\n    }, proto: {\n      initGallery: function () {\n        var n = e.st.gallery, o = \".mfp-gallery\", s = Boolean(t.fn.mfpFastClick);\n        return e.direction = !0, n && n.enabled ? (r += \" mfp-gallery\", E(h + o, function () {\n          n.navigateByImgClick && e.wrap.on(\"click\" + o, \".mfp-img\", function () {\n            return e.items.length > 1 ? (e.next(), !1) : void 0\n          }), i.on(\"keydown\" + o, function (t) {\n            37 === t.keyCode ? e.prev() : 39 === t.keyCode && e.next()\n          })\n        }), E(\"UpdateStatus\" + o, function (t, n) {\n          n.text && (n.text = Q(n.text, e.currItem.index, e.items.length))\n        }), E(d + o, function (t, i, o, r) {\n          var s = e.items.length;\n          o.counter = s > 1 ? Q(n.tCounter, r.index, s) : \"\"\n        }), E(\"BuildControls\" + o, function () {\n          if (e.items.length > 1 && n.arrows && !e.arrowLeft) {\n            var i = n.arrowMarkup,\n                o = e.arrowLeft = t(i.replace(/%title%/gi, n.tPrev).replace(/%dir%/gi, \"left\")).addClass(y),\n                r = e.arrowRight = t(i.replace(/%title%/gi, n.tNext).replace(/%dir%/gi, \"right\")).addClass(y),\n                a = s ? \"mfpFastClick\" : \"click\";\n            o[a](function () {\n              e.prev()\n            }), r[a](function () {\n              e.next()\n            }), e.isIE7 && (C(\"b\", o[0], !1, !0), C(\"a\", o[0], !1, !0), C(\"b\", r[0], !1, !0), C(\"a\", r[0], !1, !0)), e.container.append(o.add(r))\n          }\n        }), E(f + o, function () {\n          e._preloadTimeout && clearTimeout(e._preloadTimeout), e._preloadTimeout = setTimeout(function () {\n            e.preloadNearbyImages(), e._preloadTimeout = null\n          }, 16)\n        }), void E(a + o, function () {\n          i.off(o), e.wrap.off(\"click\" + o), e.arrowLeft && s && e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(), e.arrowRight = e.arrowLeft = null\n        })) : !1\n      }, next: function () {\n        e.direction = !0, e.index = $(e.index + 1), e.updateItemHTML()\n      }, prev: function () {\n        e.direction = !1, e.index = $(e.index - 1), e.updateItemHTML()\n      }, goTo: function (t) {\n        e.direction = t >= e.index, e.index = t, e.updateItemHTML()\n      }, preloadNearbyImages: function () {\n        var t, n = e.st.gallery.preload, i = Math.min(n[0], e.items.length), o = Math.min(n[1], e.items.length);\n        for (t = 1; t <= (e.direction ? o : i); t++) e._preloadItem(e.index + t);\n        for (t = 1; t <= (e.direction ? i : o); t++) e._preloadItem(e.index - t)\n      }, _preloadItem: function (n) {\n        if (n = $(n), !e.items[n].preloaded) {\n          var i = e.items[n];\n          i.parsed || (i = e.parseEl(n)), S(\"LazyLoad\", i), \"image\" === i.type && (i.img = t('<img class=\"mfp-img\" />').on(\"load.mfploader\", function () {\n            i.hasSize = !0\n          }).on(\"error.mfploader\", function () {\n            i.hasSize = !0, i.loadError = !0, S(\"LazyLoadError\", i)\n          }).attr(\"src\", i.src)), i.preloaded = !0\n        }\n      }\n    }\n  });\n  var U = \"retina\";\n  t.magnificPopup.registerModule(U, {\n    options: {\n      replaceSrc: function (t) {\n        return t.src.replace(/\\.\\w+$/, function (t) {\n          return \"@2x\" + t\n        })\n      }, ratio: 1\n    }, proto: {\n      initRetina: function () {\n        if (window.devicePixelRatio > 1) {\n          var t = e.st.retina, n = t.ratio;\n          n = isNaN(n) ? n() : n, n > 1 && (E(\"ImageHasSize.\" + U, function (t, e) {\n            e.img.css({\"max-width\": e.img[0].naturalWidth / n, width: \"100%\"})\n          }), E(\"ElementParse.\" + U, function (e, i) {\n            i.src = t.replaceSrc(i, n)\n          }))\n        }\n      }\n    }\n  }), function () {\n    var e = 1e3, n = \"ontouchstart\" in window, i = function () {\n      x.off(\"touchmove\" + r + \" touchend\" + r)\n    }, o = \"mfpFastClick\", r = \".\" + o;\n    t.fn.mfpFastClick = function (o) {\n      return t(this).each(function () {\n        var s, a = t(this);\n        if (n) {\n          var u, l, c, d, h, f;\n          a.on(\"touchstart\" + r, function (t) {\n            d = !1, f = 1, h = t.originalEvent ? t.originalEvent.touches[0] : t.touches[0], l = h.clientX, c = h.clientY, x.on(\"touchmove\" + r, function (t) {\n              h = t.originalEvent ? t.originalEvent.touches : t.touches, f = h.length, h = h[0], (Math.abs(h.clientX - l) > 10 || Math.abs(h.clientY - c) > 10) && (d = !0, i())\n            }).on(\"touchend\" + r, function (t) {\n              i(), d || f > 1 || (s = !0, t.preventDefault(), clearTimeout(u), u = setTimeout(function () {\n                s = !1\n              }, e), o())\n            })\n          })\n        }\n        a.on(\"click\" + r, function () {\n          s || o()\n        })\n      })\n    }, t.fn.destroyMfpFastClick = function () {\n      t(this).off(\"touchstart\" + r + \" click\" + r), n && x.off(\"touchmove\" + r + \" touchend\" + r)\n    }\n  }(), k()\n}), function () {\n  \"use strict\";\n\n  function t() {\n    var t = /MSIE ([0-9.]+)/.exec(window.navigator.userAgent);\n    if (null === t) return null;\n    var e = parseInt(t[1], 10), n = Math.floor(e);\n    return n\n  }\n\n  function e() {\n    var t = new Function(\"/*@cc_on return @_jscript_version; @*/\")();\n    return void 0 === t ? 11 : 9 > t ? 8 : t\n  }\n\n  var n = window.navigator.userAgent;\n  if (!(n.indexOf(\"Opera\") > -1 || n.indexOf(\"Presto\") > -1)) {\n    var i = t();\n    if (null !== i) {\n      var o = e();\n      i !== o && window.alert(\"WARNING: You appear to be using IE\" + o + \" in IE\" + i + \" emulation mode.\\nIE emulation modes can behave significantly differently from ACTUAL older versions of IE.\\nPLEASE DON'T FILE BOOTSTRAP BUGS based on testing in IE emulation modes!\")\n    }\n  }\n}(), function () {\n  \"use strict\";\n  if (navigator.userAgent.match(/IEMobile\\/10\\.0/)) {\n    var t = document.createElement(\"style\");\n    t.appendChild(document.createTextNode(\"@-ms-viewport{width:auto!important}\")), document.querySelector(\"head\").appendChild(t)\n  }\n}();\nvar Holder = Holder || {};\n!function (t, e) {\n  function n(t, e) {\n    var n = \"complete\", i = \"readystatechange\", o = !1, r = o, s = !0, a = t.document, u = a.documentElement,\n        l = a.addEventListener ? \"addEventListener\" : \"attachEvent\",\n        c = a.addEventListener ? \"removeEventListener\" : \"detachEvent\", d = a.addEventListener ? \"\" : \"on\",\n        h = function (s) {\n          (s.type != i || a.readyState == n) && ((\"load\" == s.type ? t : a)[c](d + s.type, h, o), !r && (r = !0) && e.call(t, null))\n        }, f = function () {\n          try {\n            u.doScroll(\"left\")\n          } catch (t) {\n            return void setTimeout(f, 50)\n          }\n          h(\"poll\")\n        };\n    if (a.readyState == n) e.call(t, \"lazy\"); else {\n      if (a.createEventObject && u.doScroll) {\n        try {\n          s = !t.frameElement\n        } catch (p) {\n        }\n        s && f()\n      }\n      a[l](d + \"DOMContentLoaded\", h, o), a[l](d + i, h, o), t[l](d + \"load\", h, o)\n    }\n  }\n\n  function i(t) {\n    t = t.match(/^(\\W)?(.*)/);\n    var e = document[\"getElement\" + (t[1] ? \"#\" == t[1] ? \"ById\" : \"sByClassName\" : \"sByTagName\")](t[2]), n = [];\n    return null !== e && (n = e.length ? e : 0 === e.length ? e : [e]), n\n  }\n\n  function o(t, e) {\n    var n = {};\n    for (var i in t) t.hasOwnProperty(i) && (n[i] = t[i]);\n    for (var i in e) e.hasOwnProperty(i) && (n[i] = e[i]);\n    return n\n  }\n\n  function r(t, e, n) {\n    e = parseInt(e, 10), t = parseInt(t, 10);\n    var i = Math.max(e, t), o = Math.min(e, t), r = 1 / 12, s = Math.min(.75 * o, .75 * i * r);\n    return {height: Math.round(Math.max(n.size, s))}\n  }\n\n  function s(t) {\n    var e = t.ctx, n = t.dimensions, i = t.template, o = t.ratio, s = t.holder, a = \"literal\" == s.textmode,\n        u = \"exact\" == s.textmode, l = r(n.width, n.height, i), c = l.height, d = n.width * o, h = n.height * o,\n        p = i.font ? i.font : \"sans-serif\";\n    f.width = d, f.height = h, e.textAlign = \"center\", e.textBaseline = \"middle\", e.fillStyle = i.background, e.fillRect(0, 0, d, h), e.fillStyle = i.foreground, e.font = \"bold \" + c + \"px \" + p;\n    var m = i.text ? i.text : Math.floor(n.width) + \"x\" + Math.floor(n.height);\n    if (a) {\n      var n = s.dimensions;\n      m = n.width + \"x\" + n.height\n    } else if (u && s.exact_dimensions) {\n      var n = s.exact_dimensions;\n      m = Math.floor(n.width) + \"x\" + Math.floor(n.height)\n    }\n    var g = e.measureText(m).width;\n    return g / d >= .75 && (c = Math.floor(.75 * c * (d / g))), e.font = \"bold \" + c * o + \"px \" + p, e.fillText(m, d / 2, h / 2, d), f.toDataURL(\"image/png\")\n  }\n\n  function a(t, e, n, i) {\n    var r = n.dimensions, a = n.theme, u = n.text ? decodeURIComponent(n.text) : n.text, c = r.width + \"x\" + r.height;\n    a = u ? o(a, {text: u}) : a, a = n.font ? o(a, {font: n.font}) : a, e.setAttribute(\"data-src\", i), n.theme = a, e.holder_data = n, \"image\" == t ? (e.setAttribute(\"alt\", u ? u : a.text ? a.text + \" [\" + c + \"]\" : c), (h || !n.auto) && (e.style.width = r.width + \"px\", e.style.height = r.height + \"px\"), h ? e.style.backgroundColor = a.background : (e.setAttribute(\"src\", s({\n      ctx: v,\n      dimensions: r,\n      template: a,\n      ratio: y,\n      holder: n\n    })), n.textmode && \"exact\" == n.textmode && (g.push(e), l(e)))) : \"background\" == t ? h || (e.style.backgroundImage = \"url(\" + s({\n      ctx: v,\n      dimensions: r,\n      template: a,\n      ratio: y,\n      holder: n\n    }) + \")\", e.style.backgroundSize = r.width + \"px \" + r.height + \"px\") : \"fluid\" == t && (e.setAttribute(\"alt\", u ? u : a.text ? a.text + \" [\" + c + \"]\" : c), e.style.height = \"%\" == r.height.slice(-1) ? r.height : r.height + \"px\", e.style.width = \"%\" == r.width.slice(-1) ? r.width : r.width + \"px\", (\"inline\" == e.style.display || \"\" === e.style.display || \"none\" == e.style.display) && (e.style.display = \"block\"), h ? e.style.backgroundColor = a.background : (g.push(e), l(e)))\n  }\n\n  function u(t, e) {\n    var n = {height: t.clientHeight, width: t.clientWidth};\n    if (!n.height && !n.width) {\n      if (t.hasAttribute(\"data-holder-invisible\")) throw new Error(\"Holder: placeholder is not visible\");\n      return t.setAttribute(\"data-holder-invisible\", !0), setTimeout(function () {\n        e.call(this, t)\n      }, 1), null\n    }\n    return t.removeAttribute(\"data-holder-invisible\"), n\n  }\n\n  function l(t) {\n    var e;\n    e = null == t.nodeType ? g : [t];\n    for (var n in e) if (e.hasOwnProperty(n)) {\n      var i = e[n];\n      if (i.holder_data) {\n        var o = i.holder_data, r = u(i, l);\n        r && (o.fluid && i.setAttribute(\"src\", s({\n          ctx: v,\n          dimensions: r,\n          template: o.theme,\n          ratio: y,\n          holder: o\n        })), o.textmode && \"exact\" == o.textmode && (o.exact_dimensions = r, i.setAttribute(\"src\", s({\n          ctx: v,\n          dimensions: o.dimensions,\n          template: o.theme,\n          ratio: y,\n          holder: o\n        }))))\n      }\n    }\n  }\n\n  function c(e, n) {\n    var i = {theme: o(w.themes.gray, {})}, r = !1;\n    for (sl = e.length, j = 0; sl > j; j++) {\n      var s = e[j];\n      t.flags.dimensions.match(s) ? (r = !0, i.dimensions = t.flags.dimensions.output(s)) : t.flags.fluid.match(s) ? (r = !0, i.dimensions = t.flags.fluid.output(s), i.fluid = !0) : t.flags.textmode.match(s) ? i.textmode = t.flags.textmode.output(s) : t.flags.colors.match(s) ? i.theme = t.flags.colors.output(s) : n.themes[s] ? n.themes.hasOwnProperty(s) && (i.theme = o(n.themes[s], {})) : t.flags.font.match(s) ? i.font = t.flags.font.output(s) : t.flags.auto.match(s) ? i.auto = !0 : t.flags.text.match(s) && (i.text = t.flags.text.output(s))\n    }\n    return r ? i : !1\n  }\n\n  var d = !1, h = !1, f = document.createElement(\"canvas\"), p = 1, m = 1, g = [];\n  if (f.getContext) if (f.toDataURL(\"image/png\").indexOf(\"data:image/png\") < 0) h = !0; else var v = f.getContext(\"2d\"); else h = !0;\n  h || (p = window.devicePixelRatio || 1, m = v.webkitBackingStorePixelRatio || v.mozBackingStorePixelRatio || v.msBackingStorePixelRatio || v.oBackingStorePixelRatio || v.backingStorePixelRatio || 1);\n  var y = p / m, w = {\n    domain: \"holder.js\",\n    images: \"img\",\n    bgnodes: \".holderjs\",\n    themes: {\n      gray: {background: \"#eee\", foreground: \"#aaa\", size: 12},\n      social: {background: \"#3a5a97\", foreground: \"#fff\", size: 12},\n      industrial: {background: \"#434A52\", foreground: \"#C2F200\", size: 12},\n      sky: {background: \"#0D8FDB\", foreground: \"#fff\", size: 12},\n      vine: {background: \"#39DBAC\", foreground: \"#1E292C\", size: 12},\n      lava: {background: \"#F8591A\", foreground: \"#1C2846\", size: 12}\n    },\n    stylesheet: \"\"\n  };\n  t.flags = {\n    dimensions: {\n      regex: /^(\\d+)x(\\d+)$/, output: function (t) {\n        var e = this.regex.exec(t);\n        return {width: +e[1], height: +e[2]}\n      }\n    }, fluid: {\n      regex: /^([0-9%]+)x([0-9%]+)$/, output: function (t) {\n        var e = this.regex.exec(t);\n        return {width: e[1], height: e[2]}\n      }\n    }, colors: {\n      regex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i, output: function (t) {\n        var e = this.regex.exec(t);\n        return {size: w.themes.gray.size, foreground: \"#\" + e[2], background: \"#\" + e[1]}\n      }\n    }, text: {\n      regex: /text\\:(.*)/, output: function (t) {\n        return this.regex.exec(t)[1]\n      }\n    }, font: {\n      regex: /font\\:(.*)/, output: function (t) {\n        return this.regex.exec(t)[1]\n      }\n    }, auto: {regex: /^auto$/}, textmode: {\n      regex: /textmode\\:(.*)/, output: function (t) {\n        return this.regex.exec(t)[1]\n      }\n    }\n  }, document.getElementsByClassName || (document.getElementsByClassName = function (t) {\n    var e, n, i, o = document, r = [];\n    if (o.querySelectorAll) return o.querySelectorAll(\".\" + t);\n    if (o.evaluate) for (n = \".//*[contains(concat(' ', @class, ' '), ' \" + t + \" ')]\", e = o.evaluate(n, o, null, 0, null); i = e.iterateNext();) r.push(i); else for (e = o.getElementsByTagName(\"*\"), n = new RegExp(\"(^|\\\\s)\" + t + \"(\\\\s|$)\"), i = 0; i < e.length; i++) n.test(e[i].className) && r.push(e[i]);\n    return r\n  }), window.getComputedStyle || (window.getComputedStyle = function (t) {\n    return this.el = t, this.getPropertyValue = function (e) {\n      var n = /(\\-([a-z]){1})/g;\n      return \"float\" == e && (e = \"styleFloat\"), n.test(e) && (e = e.replace(n, function () {\n        return arguments[2].toUpperCase()\n      })), t.currentStyle[e] ? t.currentStyle[e] : null\n    }, this\n  }), Object.prototype.hasOwnProperty || (Object.prototype.hasOwnProperty = function (t) {\n    var e = this.__proto__ || this.constructor.prototype;\n    return t in this && (!(t in e) || e[t] !== this[t])\n  });\n  for (var b in t.flags) t.flags.hasOwnProperty(b) && (t.flags[b].match = function (t) {\n    return t.match(this.regex)\n  });\n  t.add_theme = function (e, n) {\n    return null != e && null != n && (w.themes[e] = n), t\n  }, t.add_image = function (e, n) {\n    var o = i(n);\n    if (o.length) for (var r = 0, s = o.length; s > r; r++) {\n      var a = document.createElement(\"img\");\n      a.setAttribute(\"data-src\", e), o[r].appendChild(a)\n    }\n    return t\n  }, t.run = function (e) {\n    d = !0;\n    var n = o(w, e), r = [], s = [], u = [];\n    for (\"string\" == typeof n.images ? s = i(n.images) : window.NodeList && n.images instanceof window.NodeList ? s = n.images : window.Node && n.images instanceof window.Node && (s = [n.images]), \"string\" == typeof n.bgnodes ? u = i(n.bgnodes) : window.NodeList && n.elements instanceof window.NodeList ? u = n.bgnodes : window.Node && n.bgnodes instanceof window.Node && (u = [n.bgnodes]), p = 0, f = s.length; f > p; p++) r.push(s[p]);\n    var l = document.getElementById(\"holderjs-style\");\n    l || (l = document.createElement(\"style\"), l.setAttribute(\"id\", \"holderjs-style\"), l.type = \"text/css\", document.getElementsByTagName(\"head\")[0].appendChild(l)), n.nocss || (l.styleSheet ? l.styleSheet.cssText += n.stylesheet : l.appendChild(document.createTextNode(n.stylesheet)));\n    for (var h = new RegExp(n.domain + '/(.*?)\"?\\\\)'), f = u.length, p = 0; f > p; p++) {\n      var m = window.getComputedStyle(u[p], null).getPropertyValue(\"background-image\"), g = m.match(h),\n          v = u[p].getAttribute(\"data-background-src\");\n      if (g) {\n        var y = c(g[1].split(\"/\"), n);\n        y && a(\"background\", u[p], y, m)\n      } else if (null != v) {\n        var y = c(v.substr(v.lastIndexOf(n.domain) + n.domain.length + 1).split(\"/\"), n);\n        y && a(\"background\", u[p], y, m)\n      }\n    }\n    for (f = r.length, p = 0; f > p; p++) {\n      var b, x;\n      x = b = m = null;\n      try {\n        x = r[p].getAttribute(\"src\"), attr_datasrc = r[p].getAttribute(\"data-src\")\n      } catch (E) {\n      }\n      if (null == attr_datasrc && x && x.indexOf(n.domain) >= 0 ? m = x : attr_datasrc && attr_datasrc.indexOf(n.domain) >= 0 && (m = attr_datasrc), m) {\n        var y = c(m.substr(m.lastIndexOf(n.domain) + n.domain.length + 1).split(\"/\"), n);\n        y && (y.fluid ? a(\"fluid\", r[p], y, m) : a(\"image\", r[p], y, m))\n      }\n    }\n    return t\n  }, n(e, function () {\n    window.addEventListener ? (window.addEventListener(\"resize\", l, !1), window.addEventListener(\"orientationchange\", l, !1)) : window.attachEvent(\"onresize\", l), d || t.run()\n  }), \"function\" == typeof define && define.amd && define([], function () {\n    return t\n  })\n}(Holder, window);\nvar Holder = Holder || {};\n!function (t, e) {\n  function n(t, e) {\n    var n = \"complete\", i = \"readystatechange\", o = !1, r = o, s = !0, a = t.document, u = a.documentElement,\n        l = a.addEventListener ? \"addEventListener\" : \"attachEvent\",\n        c = a.addEventListener ? \"removeEventListener\" : \"detachEvent\", d = a.addEventListener ? \"\" : \"on\",\n        h = function (s) {\n          (s.type != i || a.readyState == n) && ((\"load\" == s.type ? t : a)[c](d + s.type, h, o), !r && (r = !0) && e.call(t, null))\n        }, f = function () {\n          try {\n            u.doScroll(\"left\")\n          } catch (t) {\n            return void setTimeout(f, 50)\n          }\n          h(\"poll\")\n        };\n    if (a.readyState == n) e.call(t, \"lazy\"); else {\n      if (a.createEventObject && u.doScroll) {\n        try {\n          s = !t.frameElement\n        } catch (p) {\n        }\n        s && f()\n      }\n      a[l](d + \"DOMContentLoaded\", h, o), a[l](d + i, h, o), t[l](d + \"load\", h, o)\n    }\n  }\n\n  function i(t) {\n    t = t.match(/^(\\W)?(.*)/);\n    var e = document[\"getElement\" + (t[1] ? \"#\" == t[1] ? \"ById\" : \"sByClassName\" : \"sByTagName\")](t[2]), n = [];\n    return null !== e && (n = e.length ? e : 0 === e.length ? e : [e]), n\n  }\n\n  function o(t, e) {\n    var n = {};\n    for (var i in t) t.hasOwnProperty(i) && (n[i] = t[i]);\n    for (var i in e) e.hasOwnProperty(i) && (n[i] = e[i]);\n    return n\n  }\n\n  function r(t, e, n) {\n    e = parseInt(e, 10), t = parseInt(t, 10);\n    var i = Math.max(e, t), o = Math.min(e, t), r = 1 / 12, s = Math.min(.75 * o, .75 * i * r);\n    return {height: Math.round(Math.max(n.size, s))}\n  }\n\n  function s(t) {\n    var e = t.ctx, n = t.dimensions, i = t.template, o = t.ratio, s = t.holder, a = \"literal\" == s.textmode,\n        u = \"exact\" == s.textmode, l = r(n.width, n.height, i), c = l.height, d = n.width * o, h = n.height * o,\n        p = i.font ? i.font : \"sans-serif\";\n    f.width = d, f.height = h, e.textAlign = \"center\", e.textBaseline = \"middle\", e.fillStyle = i.background, e.fillRect(0, 0, d, h), e.fillStyle = i.foreground, e.font = \"bold \" + c + \"px \" + p;\n    var m = i.text ? i.text : Math.floor(n.width) + \"x\" + Math.floor(n.height);\n    if (a) {\n      var n = s.dimensions;\n      m = n.width + \"x\" + n.height\n    } else if (u && s.exact_dimensions) {\n      var n = s.exact_dimensions;\n      m = Math.floor(n.width) + \"x\" + Math.floor(n.height)\n    }\n    var g = e.measureText(m).width;\n    return g / d >= .75 && (c = Math.floor(.75 * c * (d / g))), e.font = \"bold \" + c * o + \"px \" + p, e.fillText(m, d / 2, h / 2, d), f.toDataURL(\"image/png\")\n  }\n\n  function a(t, e, n, i) {\n    var r = n.dimensions, a = n.theme, u = n.text ? decodeURIComponent(n.text) : n.text, c = r.width + \"x\" + r.height;\n    a = u ? o(a, {text: u}) : a, a = n.font ? o(a, {font: n.font}) : a, e.setAttribute(\"data-src\", i), n.theme = a, e.holder_data = n, \"image\" == t ? (e.setAttribute(\"alt\", u ? u : a.text ? a.text + \" [\" + c + \"]\" : c), (h || !n.auto) && (e.style.width = r.width + \"px\", e.style.height = r.height + \"px\"), h ? e.style.backgroundColor = a.background : (e.setAttribute(\"src\", s({\n      ctx: v,\n      dimensions: r,\n      template: a,\n      ratio: y,\n      holder: n\n    })), n.textmode && \"exact\" == n.textmode && (g.push(e), l(e)))) : \"background\" == t ? h || (e.style.backgroundImage = \"url(\" + s({\n      ctx: v,\n      dimensions: r,\n      template: a,\n      ratio: y,\n      holder: n\n    }) + \")\", e.style.backgroundSize = r.width + \"px \" + r.height + \"px\") : \"fluid\" == t && (e.setAttribute(\"alt\", u ? u : a.text ? a.text + \" [\" + c + \"]\" : c), \"%\" == r.height.slice(-1) ? e.style.height = r.height : e.style.height = r.height + \"px\", \"%\" == r.width.slice(-1) ? e.style.width = r.width : e.style.width = r.width + \"px\", (\"inline\" == e.style.display || \"\" === e.style.display || \"none\" == e.style.display) && (e.style.display = \"block\"), h ? e.style.backgroundColor = a.background : (g.push(e), l(e)))\n  }\n\n  function u(t, e) {\n    var n = {height: t.clientHeight, width: t.clientWidth};\n    if (!n.height && !n.width) {\n      if (t.hasAttribute(\"data-holder-invisible\")) throw new Error(\"Holder: placeholder is not visible\");\n      return t.setAttribute(\"data-holder-invisible\", !0), setTimeout(function () {\n        e.call(this, t)\n      }, 1), null\n    }\n    return t.removeAttribute(\"data-holder-invisible\"), n\n  }\n\n  function l(t) {\n    var e;\n    e = null == t.nodeType ? g : [t];\n    for (var n in e) if (e.hasOwnProperty(n)) {\n      var i = e[n];\n      if (i.holder_data) {\n        var o = i.holder_data, r = u(i, l);\n        r && (o.fluid && i.setAttribute(\"src\", s({\n          ctx: v,\n          dimensions: r,\n          template: o.theme,\n          ratio: y,\n          holder: o\n        })), o.textmode && \"exact\" == o.textmode && (o.exact_dimensions = r, i.setAttribute(\"src\", s({\n          ctx: v,\n          dimensions: o.dimensions,\n          template: o.theme,\n          ratio: y,\n          holder: o\n        }))))\n      }\n    }\n  }\n\n  function c(e, n) {\n    var i = {theme: o(w.themes.gray, {})}, r = !1;\n    for (sl = e.length, j = 0; j < sl; j++) {\n      var s = e[j];\n      t.flags.dimensions.match(s) ? (r = !0, i.dimensions = t.flags.dimensions.output(s)) : t.flags.fluid.match(s) ? (r = !0, i.dimensions = t.flags.fluid.output(s), i.fluid = !0) : t.flags.textmode.match(s) ? i.textmode = t.flags.textmode.output(s) : t.flags.colors.match(s) ? i.theme = t.flags.colors.output(s) : n.themes[s] ? n.themes.hasOwnProperty(s) && (i.theme = o(n.themes[s], {})) : t.flags.font.match(s) ? i.font = t.flags.font.output(s) : t.flags.auto.match(s) ? i.auto = !0 : t.flags.text.match(s) && (i.text = t.flags.text.output(s))\n    }\n    return r ? i : !1\n  }\n\n  var d = !1, h = !1, f = document.createElement(\"canvas\"), p = 1, m = 1, g = [];\n  if (f.getContext) if (f.toDataURL(\"image/png\").indexOf(\"data:image/png\") < 0) h = !0; else var v = f.getContext(\"2d\"); else h = !0;\n  h || (p = window.devicePixelRatio || 1, m = v.webkitBackingStorePixelRatio || v.mozBackingStorePixelRatio || v.msBackingStorePixelRatio || v.oBackingStorePixelRatio || v.backingStorePixelRatio || 1);\n  var y = p / m, w = {\n    domain: \"holder.js\",\n    images: \"img\",\n    bgnodes: \".holderjs\",\n    themes: {\n      gray: {background: \"#eee\", foreground: \"#aaa\", size: 12},\n      social: {background: \"#3a5a97\", foreground: \"#fff\", size: 12},\n      industrial: {background: \"#434A52\", foreground: \"#C2F200\", size: 12},\n      sky: {background: \"#0D8FDB\", foreground: \"#fff\", size: 12},\n      vine: {background: \"#39DBAC\", foreground: \"#1E292C\", size: 12},\n      lava: {background: \"#F8591A\", foreground: \"#1C2846\", size: 12}\n    },\n    stylesheet: \"\"\n  };\n  t.flags = {\n    dimensions: {\n      regex: /^(\\d+)x(\\d+)$/, output: function (t) {\n        var e = this.regex.exec(t);\n        return {width: +e[1], height: +e[2]}\n      }\n    }, fluid: {\n      regex: /^([0-9%]+)x([0-9%]+)$/, output: function (t) {\n        var e = this.regex.exec(t);\n        return {width: e[1], height: e[2]}\n      }\n    }, colors: {\n      regex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i, output: function (t) {\n        var e = this.regex.exec(t);\n        return {size: w.themes.gray.size, foreground: \"#\" + e[2], background: \"#\" + e[1]}\n      }\n    }, text: {\n      regex: /text\\:(.*)/, output: function (t) {\n        return this.regex.exec(t)[1]\n      }\n    }, font: {\n      regex: /font\\:(.*)/, output: function (t) {\n        return this.regex.exec(t)[1]\n      }\n    }, auto: {regex: /^auto$/}, textmode: {\n      regex: /textmode\\:(.*)/, output: function (t) {\n        return this.regex.exec(t)[1]\n      }\n    }\n  }, document.getElementsByClassName || (document.getElementsByClassName = function (t) {\n    var e, n, i, o = document, r = [];\n    if (o.querySelectorAll) return o.querySelectorAll(\".\" + t);\n    if (o.evaluate) for (n = \".//*[contains(concat(' ', @class, ' '), ' \" + t + \" ')]\", e = o.evaluate(n, o, null, 0, null); i = e.iterateNext();) r.push(i); else for (e = o.getElementsByTagName(\"*\"), n = new RegExp(\"(^|\\\\s)\" + t + \"(\\\\s|$)\"), i = 0; i < e.length; i++) n.test(e[i].className) && r.push(e[i]);\n    return r\n  }), window.getComputedStyle || (window.getComputedStyle = function (t) {\n    return this.el = t, this.getPropertyValue = function (e) {\n      var n = /(\\-([a-z]){1})/g;\n      return \"float\" == e && (e = \"styleFloat\"), n.test(e) && (e = e.replace(n, function () {\n        return arguments[2].toUpperCase()\n      })), t.currentStyle[e] ? t.currentStyle[e] : null\n    }, this\n  }), Object.prototype.hasOwnProperty || (Object.prototype.hasOwnProperty = function (t) {\n    var e = this.__proto__ || this.constructor.prototype;\n    return t in this && (!(t in e) || e[t] !== this[t])\n  });\n  for (var b in t.flags) t.flags.hasOwnProperty(b) && (t.flags[b].match = function (t) {\n    return t.match(this.regex)\n  });\n  t.add_theme = function (e, n) {\n    return null != e && null != n && (w.themes[e] = n), t\n  }, t.add_image = function (e, n) {\n    var o = i(n);\n    if (o.length) for (var r = 0, s = o.length; s > r; r++) {\n      var a = document.createElement(\"img\");\n      a.setAttribute(\"data-src\", e), o[r].appendChild(a)\n    }\n    return t\n  }, t.run = function (e) {\n    d = !0;\n    var n = o(w, e), r = [], s = [], u = [];\n    for (\"string\" == typeof n.images ? s = i(n.images) : window.NodeList && n.images instanceof window.NodeList ? s = n.images : window.Node && n.images instanceof window.Node && (s = [n.images]), \"string\" == typeof n.bgnodes ? u = i(n.bgnodes) : window.NodeList && n.elements instanceof window.NodeList ? u = n.bgnodes : window.Node && n.bgnodes instanceof window.Node && (u = [n.bgnodes]), p = 0, f = s.length; f > p; p++) r.push(s[p]);\n    var l = document.getElementById(\"holderjs-style\");\n    l || (l = document.createElement(\"style\"), l.setAttribute(\"id\", \"holderjs-style\"), l.type = \"text/css\", document.getElementsByTagName(\"head\")[0].appendChild(l)), n.nocss || (l.styleSheet ? l.styleSheet.cssText += n.stylesheet : l.appendChild(document.createTextNode(n.stylesheet)));\n    for (var h = new RegExp(n.domain + '/(.*?)\"?\\\\)'), f = u.length, p = 0; f > p; p++) {\n      var m = window.getComputedStyle(u[p], null).getPropertyValue(\"background-image\"), g = m.match(h),\n          v = u[p].getAttribute(\"data-background-src\");\n      if (g) {\n        var y = c(g[1].split(\"/\"), n);\n        y && a(\"background\", u[p], y, m)\n      } else if (null != v) {\n        var y = c(v.substr(v.lastIndexOf(n.domain) + n.domain.length + 1).split(\"/\"), n);\n        y && a(\"background\", u[p], y, m)\n      }\n    }\n    for (f = r.length, p = 0; f > p; p++) {\n      var b, x;\n      x = b = m = null;\n      try {\n        x = r[p].getAttribute(\"src\"), attr_datasrc = r[p].getAttribute(\"data-src\")\n      } catch (E) {\n      }\n      if (null == attr_datasrc && x && x.indexOf(n.domain) >= 0 ? m = x : attr_datasrc && attr_datasrc.indexOf(n.domain) >= 0 && (m = attr_datasrc), m) {\n        var y = c(m.substr(m.lastIndexOf(n.domain) + n.domain.length + 1).split(\"/\"), n);\n        y && (y.fluid ? a(\"fluid\", r[p], y, m) : a(\"image\", r[p], y, m))\n      }\n    }\n    return t\n  }, n(e, function () {\n    window.addEventListener ? (window.addEventListener(\"resize\", l, !1), window.addEventListener(\"orientationchange\", l, !1)) : window.attachEvent(\"onresize\", l), d || t.run()\n  }), \"function\" == typeof define && define.amd && define([], function () {\n    return t\n  })\n}(Holder, window), !function (t, e) {\n  \"function\" == typeof define && define.amd ? define(e) : \"object\" == typeof exports ? module.exports = e() : t.transformicons = e()\n}(this || window, function () {\n  \"use strict\";\n  var t = {}, e = \"tcon-transform\", n = {transform: [\"click\"], revert: [\"click\"]}, i = function (t) {\n    return \"string\" == typeof t ? Array.prototype.slice.call(document.querySelectorAll(t)) : \"undefined\" == typeof t || t instanceof Array ? t : [t]\n  }, o = function (t) {\n    return \"string\" == typeof t ? t.toLowerCase().split(\" \") : t\n  }, r = function (t, e, r) {\n    var a = (r ? \"remove\" : \"add\") + \"EventListener\", u = i(t), l = u.length, c = {};\n    for (var d in n) c[d] = e && e[d] ? o(e[d]) : n[d];\n    for (; l--;) for (var h in c) for (var f = c[h].length; f--;) u[l][a](c[h][f], s)\n  }, s = function (e) {\n    t.toggle(e.currentTarget)\n  };\n  return t.add = function (e, n) {\n    return r(e, n), t\n  }, t.remove = function (e, n) {\n    return r(e, n, !0), t\n  }, t.transform = function (n) {\n    return i(n).forEach(function (t) {\n      t.classList.add(e)\n    }), t\n  }, t.revert = function (n) {\n    return i(n).forEach(function (t) {\n      t.classList.remove(e)\n    }), t\n  }, t.toggle = function (n) {\n    return i(n).forEach(function (n) {\n      t[n.classList.contains(e) ? \"revert\" : \"transform\"](n)\n    }), t\n  }, t\n}), function () {\n  var t, e, n, i, o, r, s, a, u, l, c, d, h, f, p, m, g, v, y, w, b, x, E, C, S, M, k, I, _, T, z, O, P, L, A, B, H, N,\n      j, W, R, F, q, D, Q, U, Y, V = [].slice, X = {}.hasOwnProperty, G = function (t, e) {\n        function n() {\n          this.constructor = t\n        }\n\n        for (var i in e) X.call(e, i) && (t[i] = e[i]);\n        return n.prototype = e.prototype, t.prototype = new n, t.__super__ = e.prototype, t\n      }, Z = [].indexOf || function (t) {\n        for (var e = 0, n = this.length; n > e; e++) if (e in this && this[e] === t) return e;\n        return -1\n      };\n  for (w = {\n    catchupTime: 500,\n    initialRate: .03,\n    minTime: 500,\n    ghostTime: 500,\n    maxProgressPerFrame: 10,\n    easeFactor: 1.25,\n    startOnPageLoad: !0,\n    restartOnPushState: !0,\n    restartOnRequestAfter: 500,\n    target: \".preloader\",\n    elements: {checkInterval: 100, selectors: [\".preloader\"]},\n    eventLag: {minSamples: 10, sampleCount: 3, lagThreshold: 3},\n    ajax: !1\n  }, I = function () {\n    var t;\n    return null != (t = \"undefined\" != typeof performance && null !== performance && \"function\" == typeof performance.now ? performance.now() : void 0) ? t : +new Date\n  }, T = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame, y = window.cancelAnimationFrame || window.mozCancelAnimationFrame, null == T && (T = function (t) {\n    return setTimeout(t, 50)\n  }, y = function (t) {\n    return clearTimeout(t)\n  }), O = function (t) {\n    var e, n;\n    return e = I(), (n = function () {\n      var i;\n      return i = I() - e, i >= 33 ? (e = I(), t(i, function () {\n        return T(n)\n      })) : setTimeout(n, 33 - i)\n    })()\n  }, z = function () {\n    var t, e, n;\n    return n = arguments[0], e = arguments[1], t = 3 <= arguments.length ? V.call(arguments, 2) : [], \"function\" == typeof n[e] ? n[e].apply(n, t) : n[e]\n  }, b = function () {\n    var t, e, n, i, o, r, s;\n    for (e = arguments[0], i = 2 <= arguments.length ? V.call(arguments, 1) : [], r = 0, s = i.length; s > r; r++) if (n = i[r]) for (t in n) X.call(n, t) && (o = n[t], null != e[t] && \"object\" == typeof e[t] && null != o && \"object\" == typeof o ? b(e[t], o) : e[t] = o);\n    return e\n  }, m = function (t) {\n    var e, n, i, o, r;\n    for (n = e = 0, o = 0, r = t.length; r > o; o++) i = t[o], n += Math.abs(i), e++;\n    return n / e\n  }, E = function (t, e) {\n    var n, i, o;\n    if (null == t && (t = \"options\"), null == e && (e = !0), o = document.querySelector(\"[data-pace-\" + t + \"]\")) {\n      if (n = o.getAttribute(\"data-pace-\" + t), !e) return n;\n      try {\n        return JSON.parse(n)\n      } catch (r) {\n        return i = r, \"undefined\" != typeof console && null !== console ? console.error(\"Error parsing inline pace options\", i) : void 0\n      }\n    }\n  }, s = function () {\n    function t() {\n    }\n\n    return t.prototype.on = function (t, e, n, i) {\n      var o;\n      return null == i && (i = !1), null == this.bindings && (this.bindings = {}), null == (o = this.bindings)[t] && (o[t] = []), this.bindings[t].push({\n        handler: e,\n        ctx: n,\n        once: i\n      })\n    }, t.prototype.once = function (t, e, n) {\n      return this.on(t, e, n, !0)\n    }, t.prototype.off = function (t, e) {\n      var n, i, o;\n      if (null != (null != (i = this.bindings) ? i[t] : void 0)) {\n        if (null == e) return delete this.bindings[t];\n        for (n = 0, o = []; n < this.bindings[t].length;) this.bindings[t][n].handler === e ? o.push(this.bindings[t].splice(n, 1)) : o.push(n++);\n        return o\n      }\n    }, t.prototype.trigger = function () {\n      var t, e, n, i, o, r, s, a, u;\n      if (n = arguments[0], t = 2 <= arguments.length ? V.call(arguments, 1) : [], null != (s = this.bindings) ? s[n] : void 0) {\n        for (o = 0, u = []; o < this.bindings[n].length;) a = this.bindings[n][o], i = a.handler, e = a.ctx, r = a.once, i.apply(null != e ? e : this, t), r ? u.push(this.bindings[n].splice(o, 1)) : u.push(o++);\n        return u\n      }\n    }, t\n  }(), null == window.Pace && (window.Pace = {}), b(Pace, s.prototype), _ = Pace.options = b({}, w, window.paceOptions, E()), Q = [\"ajax\", \"document\", \"eventLag\", \"elements\"], R = 0, q = Q.length; q > R; R++) A = Q[R], _[A] === !0 && (_[A] = w[A]);\n  u = function (t) {\n    function e() {\n      return U = e.__super__.constructor.apply(this, arguments)\n    }\n\n    return G(e, t), e\n  }(Error), e = function () {\n    function t() {\n      this.progress = 0\n    }\n\n    return t.prototype.getElement = function () {\n      var t;\n      if (null == this.el) {\n        if (t = document.querySelector(_.target), !t) throw new u;\n        this.el = document.createElement(\"div\"), this.el.className = \"pace pace-active\", document.body.className = document.body.className.replace(\"pace-done\", \"\"), document.body.className += \" pace-running\", this.el.innerHTML = '<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>', null != t.firstChild ? t.insertBefore(this.el, t.firstChild) : t.appendChild(this.el)\n      }\n      return this.el\n    }, t.prototype.finish = function () {\n      $(\".preloader\").fadeOut(500);\n      var t;\n      return t = this.getElement(), t.className = t.className.replace(\"pace-active\", \"\"), t.className += \" pace-inactive\", document.body.className = document.body.className.replace(\"pace-running\", \"\"), document.body.className += \" pace-done\"\n    }, t.prototype.update = function (t) {\n      return this.progress = t, this.render()\n    }, t.prototype.destroy = function () {\n      try {\n        this.getElement().parentNode.removeChild(this.getElement())\n      } catch (t) {\n        u = t\n      }\n      return this.el = void 0\n    }, t.prototype.render = function () {\n      var t, e;\n      return null == document.querySelector(_.target) ? !1 : (t = this.getElement(), t.children[0].style.width = \"\" + this.progress + \"%\", (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) && (t.children[0].setAttribute(\"data-progress-text\", \"\" + (0 | this.progress) + \"%\"), this.progress >= 100 ? e = \"99\" : (e = this.progress < 10 ? \"0\" : \"\", e += 0 | this.progress), t.children[0].setAttribute(\"data-progress\", \"\" + e)), this.lastRenderedProgress = this.progress)\n    }, t.prototype.done = function () {\n      return this.progress >= 100\n    }, t\n  }(), a = function () {\n    function t() {\n      this.bindings = {}\n    }\n\n    return t.prototype.trigger = function (t, e) {\n      var n, i, o, r, s;\n      if (null != this.bindings[t]) {\n        for (r = this.bindings[t], s = [], i = 0, o = r.length; o > i; i++) n = r[i], s.push(n.call(this, e));\n        return s\n      }\n    }, t.prototype.on = function (t, e) {\n      var n;\n      return null == (n = this.bindings)[t] && (n[t] = []), this.bindings[t].push(e)\n    }, t\n  }(), W = window.XMLHttpRequest, j = window.XDomainRequest, N = window.WebSocket, x = function (t, e) {\n    var n, i, o, r;\n    r = [];\n    for (i in e.prototype) try {\n      o = e.prototype[i], null == t[i] && \"function\" != typeof o ? r.push(t[i] = o) : r.push(void 0)\n    } catch (s) {\n      n = s\n    }\n    return r\n  }, M = [], Pace.ignore = function () {\n    var t, e, n;\n    return e = arguments[0], t = 2 <= arguments.length ? V.call(arguments, 1) : [], M.unshift(\"ignore\"), n = e.apply(null, t), M.shift(), n\n  }, Pace.track = function () {\n    var t, e, n;\n    return e = arguments[0], t = 2 <= arguments.length ? V.call(arguments, 1) : [], M.unshift(\"track\"), n = e.apply(null, t), M.shift(), n\n  }, L = function (t) {\n    var e;\n    if (null == t && (t = \"GET\"), \"track\" === M[0]) return \"force\";\n    if (!M.length && _.ajax) {\n      if (\"socket\" === t && _.ajax.trackWebSockets) return !0;\n      if (e = t.toUpperCase(), Z.call(_.ajax.trackMethods, e) >= 0) return !0\n    }\n    return !1\n  }, l = function (t) {\n    function e() {\n      var t, n = this;\n      e.__super__.constructor.apply(this, arguments), t = function (t) {\n        var e;\n        return e = t.open, t.open = function (i, o, r) {\n          return L(i) && n.trigger(\"request\", {type: i, url: o, request: t}), e.apply(t, arguments)\n        }\n      }, window.XMLHttpRequest = function (e) {\n        var n;\n        return n = new W(e), t(n), n\n      }, x(window.XMLHttpRequest, W), null != j && (window.XDomainRequest = function () {\n        var e;\n        return e = new j, t(e), e\n      }, x(window.XDomainRequest, j)), null != N && _.ajax.trackWebSockets && (window.WebSocket = function (t, e) {\n        var i;\n        return i = new N(t, e), L(\"socket\") && n.trigger(\"request\", {\n          type: \"socket\",\n          url: t,\n          protocols: e,\n          request: i\n        }), i\n      }, x(window.WebSocket, N))\n    }\n\n    return G(e, t), e\n  }(a), F = null, C = function () {\n    return null == F && (F = new l), F\n  }, C().on(\"request\", function (e) {\n    var n, i, o, r;\n    return r = e.type, o = e.request, Pace.running || _.restartOnRequestAfter === !1 && \"force\" !== L(r) ? void 0 : (i = arguments, n = _.restartOnRequestAfter || 0, \"boolean\" == typeof n && (n = 0), setTimeout(function () {\n      var e, n, s, a, u, l;\n      if (e = \"socket\" === r ? o.readyState < 2 : 0 < (a = o.readyState) && 4 > a) {\n        for (Pace.restart(), u = Pace.sources, l = [], n = 0, s = u.length; s > n; n++) {\n          if (A = u[n], A instanceof t) {\n            A.watch.apply(A, i);\n            break\n          }\n          l.push(void 0)\n        }\n        return l\n      }\n    }, n))\n  }), t = function () {\n    function t() {\n      var t = this;\n      this.elements = [], C().on(\"request\", function () {\n        return t.watch.apply(t, arguments)\n      })\n    }\n\n    return t.prototype.watch = function (t) {\n      var e, n, i;\n      return i = t.type, e = t.request, n = \"socket\" === i ? new h(e) : new f(e), this.elements.push(n)\n    }, t\n  }(), f = function () {\n    function t(t) {\n      var e, n, i, o, r, s, a = this;\n      if (this.progress = 0, null != window.ProgressEvent) for (n = null, t.addEventListener(\"progress\", function (t) {\n        return t.lengthComputable ? a.progress = 100 * t.loaded / t.total : a.progress = a.progress + (100 - a.progress) / 2\n      }), s = [\"load\", \"abort\", \"timeout\", \"error\"], i = 0, o = s.length; o > i; i++) e = s[i], t.addEventListener(e, function () {\n        return a.progress = 100\n      }); else r = t.onreadystatechange, t.onreadystatechange = function () {\n        var e;\n        return 0 === (e = t.readyState) || 4 === e ? a.progress = 100 : 3 === t.readyState && (a.progress = 50), \"function\" == typeof r ? r.apply(null, arguments) : void 0\n      }\n    }\n\n    return t\n  }(), h = function () {\n    function t(t) {\n      var e, n, i, o, r = this;\n      for (this.progress = 0, o = [\"error\", \"open\"], n = 0, i = o.length; i > n; n++) e = o[n], t.addEventListener(e, function () {\n        return r.progress = 100\n      })\n    }\n\n    return t\n  }(), i = function () {\n    function t(t) {\n      var e, n, i, r;\n      for (null == t && (t = {}), this.elements = [], null == t.selectors && (t.selectors = []), r = t.selectors, n = 0, i = r.length; i > n; n++) e = r[n], this.elements.push(new o(e))\n    }\n\n    return t\n  }(), o = function () {\n    function t(t) {\n      this.selector = t, this.progress = 0, this.check()\n    }\n\n    return t.prototype.check = function () {\n      var t = this;\n      return document.querySelector(this.selector) ? this.done() : setTimeout(function () {\n        return t.check()\n      }, _.elements.checkInterval)\n    }, t.prototype.done = function () {\n      return this.progress = 100\n    }, t\n  }(), n = function () {\n    function t() {\n      var t, e, n = this;\n      this.progress = null != (e = this.states[document.readyState]) ? e : 100, t = document.onreadystatechange, document.onreadystatechange = function () {\n        return null != n.states[document.readyState] && (n.progress = n.states[document.readyState]), \"function\" == typeof t ? t.apply(null, arguments) : void 0\n      }\n    }\n\n    return t.prototype.states = {loading: 0, interactive: 50, complete: 100}, t\n  }(), r = function () {\n    function t() {\n      var t, e, n, i, o, r = this;\n      this.progress = 0, t = 0, o = [], i = 0, n = I(), e = setInterval(function () {\n        var s;\n        return s = I() - n - 50, n = I(), o.push(s), o.length > _.eventLag.sampleCount && o.shift(), t = m(o), ++i >= _.eventLag.minSamples && t < _.eventLag.lagThreshold ? (r.progress = 100, clearInterval(e)) : r.progress = 100 * (3 / (t + 3))\n      }, 50)\n    }\n\n    return t\n  }(), d = function () {\n    function t(t) {\n      this.source = t, this.last = this.sinceLastUpdate = 0, this.rate = _.initialRate, this.catchup = 0, this.progress = this.lastProgress = 0, null != this.source && (this.progress = z(this.source, \"progress\"))\n    }\n\n    return t.prototype.tick = function (t, e) {\n      var n;\n      return null == e && (e = z(this.source, \"progress\")), e >= 100 && (this.done = !0), e === this.last ? this.sinceLastUpdate += t : (this.sinceLastUpdate && (this.rate = (e - this.last) / this.sinceLastUpdate), this.catchup = (e - this.progress) / _.catchupTime, this.sinceLastUpdate = 0, this.last = e), e > this.progress && (this.progress += this.catchup * t), n = 1 - Math.pow(this.progress / 100, _.easeFactor), this.progress += n * this.rate * t, this.progress = Math.min(this.lastProgress + _.maxProgressPerFrame, this.progress), this.progress = Math.max(0, this.progress), this.progress = Math.min(100, this.progress), this.lastProgress = this.progress, this.progress\n    }, t\n  }(), B = null, P = null, g = null, H = null, p = null, v = null, Pace.running = !1, S = function () {\n    return _.restartOnPushState ? Pace.restart() : void 0\n  }, null != window.history.pushState && (D = window.history.pushState, window.history.pushState = function () {\n    return S(), D.apply(window.history, arguments)\n  }), null != window.history.replaceState && (Y = window.history.replaceState, window.history.replaceState = function () {\n    return S(), Y.apply(window.history, arguments)\n  }), c = {ajax: t, elements: i, document: n, eventLag: r}, (k = function () {\n    var t, n, i, o, r, s, a, u;\n    for (Pace.sources = B = [], s = [\"ajax\", \"elements\", \"document\", \"eventLag\"], n = 0, o = s.length; o > n; n++) t = s[n], _[t] !== !1 && B.push(new c[t](_[t]));\n    for (u = null != (a = _.extraSources) ? a : [], i = 0, r = u.length; r > i; i++) A = u[i], B.push(new A(_));\n    return Pace.bar = g = new e, P = [], H = new d\n  })(), Pace.stop = function () {\n    return Pace.trigger(\"stop\"), Pace.running = !1, g.destroy(), v = !0, null != p && (\"function\" == typeof y && y(p), p = null), k()\n  }, Pace.restart = function () {\n    return Pace.trigger(\"restart\"), Pace.stop(), Pace.start()\n  }, Pace.go = function () {\n    return Pace.running = !0, g.render(), v = !1, p = O(function (t, e) {\n      var n, i, o, r, s, a, u, l, c, h, f, p, m, y, w, b, x;\n      for (l = 100 - g.progress, i = p = 0, o = !0, a = m = 0, w = B.length; w > m; a = ++m) for (A = B[a],\n                                                                                                      h = null != P[a] ? P[a] : P[a] = [], s = null != (x = A.elements) ? x : [A], u = y = 0, b = s.length; b > y; u = ++y) r = s[u], c = null != h[u] ? h[u] : h[u] = new d(r), o &= c.done, c.done || (i++, p += c.tick(t));\n      return n = p / i, g.update(H.tick(t, n)), f = I(), g.done() || o || v ? (g.update(100), Pace.trigger(\"done\"), setTimeout(function () {\n        return g.finish(), Pace.running = !1, Pace.trigger(\"hide\")\n      }, Math.max(_.ghostTime, Math.min(_.minTime, I() - f)))) : e()\n    })\n  }, Pace.start = function (t) {\n    b(_, t), Pace.running = !0;\n    try {\n      g.render()\n    } catch (e) {\n      u = e\n    }\n    return document.querySelector(\".pace\") ? (Pace.trigger(\"start\"), Pace.go()) : setTimeout(Pace.start, 50)\n  }, \"function\" == typeof define && define.amd ? define(function () {\n    return Pace\n  }) : \"object\" == typeof exports ? module.exports = Pace : _.startOnPageLoad && Pace.start()\n}.call(this), function (t) {\n  t.fn.matchHeight = function (e) {\n    return 1 >= this.length ? this : (e = \"undefined\" != typeof e ? e : !0, t.fn.matchHeight._groups.push({\n      elements: this,\n      byRow: e\n    }), t.fn.matchHeight._apply(this, e), this)\n  }, t.fn.matchHeight._apply = function (e, o) {\n    var r = t(e), s = [r];\n    return o && (r.css({\n      display: \"block\",\n      \"padding-top\": \"0\",\n      \"padding-bottom\": \"0\",\n      \"border-top\": \"0\",\n      \"border-bottom\": \"0\",\n      height: \"100px\"\n    }), s = n(r), r.css({\n      display: \"\",\n      \"padding-top\": \"\",\n      \"padding-bottom\": \"\",\n      \"border-top\": \"\",\n      \"border-bottom\": \"\",\n      height: \"\"\n    })), t.each(s, function (e, n) {\n      var o = t(n), r = 0;\n      o.each(function () {\n        var e = t(this);\n        e.css({display: \"block\", height: \"\"}), e.outerHeight(!1) > r && (r = e.outerHeight(!1))\n      }), o.each(function () {\n        var e = t(this), n = 0;\n        \"border-box\" !== e.css(\"box-sizing\") && (n += i(e.css(\"border-top-width\")) + i(e.css(\"border-bottom-width\")), n += i(e.css(\"padding-top\")) + i(e.css(\"padding-bottom\"))), e.css(\"height\", r - n)\n      })\n    }), this\n  }, t.fn.matchHeight._applyDataApi = function () {\n    var e = {};\n    t(\"[data-match-height], [data-mh]\").each(function () {\n      var n = t(this), i = n.attr(\"data-match-height\");\n      e[i] = i in e ? e[i].add(n) : n\n    }), t.each(e, function () {\n      this.matchHeight(!0)\n    })\n  }, t.fn.matchHeight._groups = [];\n  var e = -1;\n  t.fn.matchHeight._update = function (n) {\n    if (n && \"resize\" === n.type) {\n      if (n = t(window).width(), n === e) return;\n      e = n\n    }\n    t.each(t.fn.matchHeight._groups, function () {\n      t.fn.matchHeight._apply(this.elements, this.byRow)\n    })\n  }, t(t.fn.matchHeight._applyDataApi), t(window).bind(\"load resize orientationchange\", t.fn.matchHeight._update);\n  var n = function (e) {\n    var n = null, o = [];\n    return t(e).each(function () {\n      var e = t(this), r = e.offset().top - i(e.css(\"margin-top\")), s = 0 < o.length ? o[o.length - 1] : null;\n      null === s ? o.push(e) : 1 >= Math.floor(Math.abs(n - r)) ? o[o.length - 1] = s.add(e) : o.push(e), n = r\n    }), o\n  }, i = function (t) {\n    return parseFloat(t) || 0\n  }\n}(jQuery), function (t) {\n  t.fn.gMap = function (e, n) {\n    switch (e) {\n      case\"addMarker\":\n        return t(this).trigger(\"gMap.addMarker\", [n.latitude, n.longitude, n.content, n.icon, n.popup]);\n      case\"centerAt\":\n        return t(this).trigger(\"gMap.centerAt\", [n.latitude, n.longitude, n.zoom]);\n      case\"clearMarkers\":\n        return t(this).trigger(\"gMap.clearMarkers\")\n    }\n    var i = t.extend({}, t.fn.gMap.defaults, e);\n    return this.each(function () {\n      var e = new google.maps.Map(this);\n      t(this).data(\"gMap.reference\", e);\n      var n = new google.maps.Geocoder;\n      i.address ? n.geocode({address: i.address}, function (t, n) {\n        t && t.length && e.setCenter(t[0].geometry.location)\n      }) : i.latitude && i.longitude ? e.setCenter(new google.maps.LatLng(i.latitude, i.longitude)) : t.isArray(i.markers) && i.markers.length > 0 ? i.markers[0].address ? n.geocode({address: i.markers[0].address}, function (t, n) {\n        t && t.length > 0 && e.setCenter(t[0].geometry.location)\n      }) : e.setCenter(new google.maps.LatLng(i.markers[0].latitude, i.markers[0].longitude)) : e.setCenter(new google.maps.LatLng(34.885931, 9.84375)), e.setZoom(i.zoom), e.setMapTypeId(google.maps.MapTypeId[i.maptype]);\n      var o = {scrollwheel: i.scrollwheel, disableDoubleClickZoom: !i.doubleclickzoom, styles: i.styles};\n      i.controls === !1 ? t.extend(o, {disableDefaultUI: !0}) : 0 !== i.controls.length && t.extend(o, i.controls, {disableDefaultUI: !0}), e.setOptions(o);\n      var r, s, a = new google.maps.Marker;\n      r = new google.maps.MarkerImage(i.icon.image), r.size = new google.maps.Size(i.icon.iconsize[0], i.icon.iconsize[1]), r.anchor = new google.maps.Point(i.icon.iconanchor[0], i.icon.iconanchor[1]), a.setIcon(r), i.icon.shadow && (s = new google.maps.MarkerImage(i.icon.shadow), s.size = new google.maps.Size(i.icon.shadowsize[0], i.icon.shadowsize[1]), s.anchor = new google.maps.Point(i.icon.shadowanchor[0], i.icon.shadowanchor[1]), a.setShadow(s)), t(this).bind(\"gMap.centerAt\", function (t, n, i, o) {\n        o && e.setZoom(o), e.panTo(new google.maps.LatLng(parseFloat(n), parseFloat(i)))\n      });\n      var u = [];\n      t(this).bind(\"gMap.clearMarkers\", function () {\n        for (; u[0];) u.pop().setMap(null)\n      });\n      var l;\n      t(this).bind(\"gMap.addMarker\", function (t, n, o, r, s, c) {\n        var d, h, f = new google.maps.LatLng(parseFloat(n), parseFloat(o)), p = new google.maps.Marker({position: f});\n        if (s ? (d = new google.maps.MarkerImage(s.image), d.size = new google.maps.Size(s.iconsize[0], s.iconsize[1]), d.anchor = new google.maps.Point(s.iconanchor[0], s.iconanchor[1]), p.setIcon(d), s.shadow && (h = new google.maps.MarkerImage(s.shadow), h.size = new google.maps.Size(s.shadowsize[0], s.shadowsize[1]), h.anchor = new google.maps.Point(s.shadowanchor[0], s.shadowanchor[1]), a.setShadow(h))) : (p.setIcon(a.getIcon()), p.setShadow(a.getShadow())), r) {\n          \"_latlng\" === r && (r = n + \", \" + o);\n          var m = new google.maps.InfoWindow({content: i.html_prepend + r + i.html_append});\n          google.maps.event.addListener(p, \"click\", function () {\n            l && l.close(), m.open(e, p), l = m\n          }), c && google.maps.event.addListenerOnce(e, \"tilesloaded\", function () {\n            m.open(e, p)\n          })\n        }\n        p.setMap(e), u.push(p)\n      });\n      for (var c, d = this, h = function (e) {\n        return function (n, i) {\n          n && n.length > 0 && t(d).trigger(\"gMap.addMarker\", [n[0].geometry.location.lat(), n[0].geometry.location.lng(), e.html, e.icon, e.popup])\n        }\n      }, f = 0; f < i.markers.length; f++) c = i.markers[f], c.address ? (\"_address\" === c.html && (c.html = c.address), n.geocode({address: c.address}, h(c))) : t(this).trigger(\"gMap.addMarker\", [c.latitude, c.longitude, c.html, c.icon, c.popup])\n    })\n  }, t.fn.gMap.defaults = {\n    address: \"\",\n    latitude: 0,\n    longitude: 0,\n    zoom: 1,\n    markers: [],\n    controls: [],\n    scrollwheel: !1,\n    doubleclickzoom: !0,\n    maptype: \"ROADMAP\",\n    html_prepend: '<div class=\"gmap_marker\">',\n    html_append: \"</div>\",\n    icon: {\n      image: \"http://www.google.com/mapfiles/marker.png\",\n      shadow: \"http://www.google.com/mapfiles/shadow50.png\",\n      iconsize: [20, 34],\n      shadowsize: [37, 34],\n      iconanchor: [9, 34],\n      shadowanchor: [6, 34]\n    }\n  }\n}(jQuery), jQuery.easing.jswing = jQuery.easing.swing, jQuery.extend(jQuery.easing, {\n  def: \"easeOutQuad\", swing: function (t, e, n, i, o) {\n    return jQuery.easing[jQuery.easing.def](t, e, n, i, o)\n  }, easeInQuad: function (t, e, n, i, o) {\n    return i * (e /= o) * e + n\n  }, easeOutQuad: function (t, e, n, i, o) {\n    return -i * (e /= o) * (e - 2) + n\n  }, easeInOutQuad: function (t, e, n, i, o) {\n    return (e /= o / 2) < 1 ? i / 2 * e * e + n : -i / 2 * (--e * (e - 2) - 1) + n\n  }, easeInCubic: function (t, e, n, i, o) {\n    return i * (e /= o) * e * e + n\n  }, easeOutCubic: function (t, e, n, i, o) {\n    return i * ((e = e / o - 1) * e * e + 1) + n\n  }, easeInOutCubic: function (t, e, n, i, o) {\n    return (e /= o / 2) < 1 ? i / 2 * e * e * e + n : i / 2 * ((e -= 2) * e * e + 2) + n\n  }, easeInQuart: function (t, e, n, i, o) {\n    return i * (e /= o) * e * e * e + n\n  }, easeOutQuart: function (t, e, n, i, o) {\n    return -i * ((e = e / o - 1) * e * e * e - 1) + n\n  }, easeInOutQuart: function (t, e, n, i, o) {\n    return (e /= o / 2) < 1 ? i / 2 * e * e * e * e + n : -i / 2 * ((e -= 2) * e * e * e - 2) + n\n  }, easeInQuint: function (t, e, n, i, o) {\n    return i * (e /= o) * e * e * e * e + n\n  }, easeOutQuint: function (t, e, n, i, o) {\n    return i * ((e = e / o - 1) * e * e * e * e + 1) + n\n  }, easeInOutQuint: function (t, e, n, i, o) {\n    return (e /= o / 2) < 1 ? i / 2 * e * e * e * e * e + n : i / 2 * ((e -= 2) * e * e * e * e + 2) + n\n  }, easeInSine: function (t, e, n, i, o) {\n    return -i * Math.cos(e / o * (Math.PI / 2)) + i + n\n  }, easeOutSine: function (t, e, n, i, o) {\n    return i * Math.sin(e / o * (Math.PI / 2)) + n\n  }, easeInOutSine: function (t, e, n, i, o) {\n    return -i / 2 * (Math.cos(Math.PI * e / o) - 1) + n\n  }, easeInExpo: function (t, e, n, i, o) {\n    return 0 == e ? n : i * Math.pow(2, 10 * (e / o - 1)) + n\n  }, easeOutExpo: function (t, e, n, i, o) {\n    return e == o ? n + i : i * (-Math.pow(2, -10 * e / o) + 1) + n\n  }, easeInOutExpo: function (t, e, n, i, o) {\n    return 0 == e ? n : e == o ? n + i : (e /= o / 2) < 1 ? i / 2 * Math.pow(2, 10 * (e - 1)) + n : i / 2 * (-Math.pow(2, -10 * --e) + 2) + n\n  }, easeInCirc: function (t, e, n, i, o) {\n    return -i * (Math.sqrt(1 - (e /= o) * e) - 1) + n\n  }, easeOutCirc: function (t, e, n, i, o) {\n    return i * Math.sqrt(1 - (e = e / o - 1) * e) + n\n  }, easeInOutCirc: function (t, e, n, i, o) {\n    return (e /= o / 2) < 1 ? -i / 2 * (Math.sqrt(1 - e * e) - 1) + n : i / 2 * (Math.sqrt(1 - (e -= 2) * e) + 1) + n\n  }, easeInElastic: function (t, e, n, i, o) {\n    var r = 1.70158, s = 0, a = i;\n    if (0 == e) return n;\n    if (1 == (e /= o)) return n + i;\n    if (s || (s = .3 * o), a < Math.abs(i)) {\n      a = i;\n      var r = s / 4\n    } else var r = s / (2 * Math.PI) * Math.asin(i / a);\n    return -(a * Math.pow(2, 10 * (e -= 1)) * Math.sin(2 * (e * o - r) * Math.PI / s)) + n\n  }, easeOutElastic: function (t, e, n, i, o) {\n    var r = 1.70158, s = 0, a = i;\n    if (0 == e) return n;\n    if (1 == (e /= o)) return n + i;\n    if (s || (s = .3 * o), a < Math.abs(i)) {\n      a = i;\n      var r = s / 4\n    } else var r = s / (2 * Math.PI) * Math.asin(i / a);\n    return a * Math.pow(2, -10 * e) * Math.sin(2 * (e * o - r) * Math.PI / s) + i + n\n  }, easeInOutElastic: function (t, e, n, i, o) {\n    var r = 1.70158, s = 0, a = i;\n    if (0 == e) return n;\n    if (2 == (e /= o / 2)) return n + i;\n    if (s || (s = .3 * o * 1.5), a < Math.abs(i)) {\n      a = i;\n      var r = s / 4\n    } else var r = s / (2 * Math.PI) * Math.asin(i / a);\n    return 1 > e ? -.5 * a * Math.pow(2, 10 * (e -= 1)) * Math.sin(2 * (e * o - r) * Math.PI / s) + n : a * Math.pow(2, -10 * (e -= 1)) * Math.sin(2 * (e * o - r) * Math.PI / s) * .5 + i + n\n  }, easeInBack: function (t, e, n, i, o, r) {\n    return void 0 == r && (r = 1.70158), i * (e /= o) * e * ((r + 1) * e - r) + n\n  }, easeOutBack: function (t, e, n, i, o, r) {\n    return void 0 == r && (r = 1.70158), i * ((e = e / o - 1) * e * ((r + 1) * e + r) + 1) + n\n  }, easeInOutBack: function (t, e, n, i, o, r) {\n    return void 0 == r && (r = 1.70158), (e /= o / 2) < 1 ? i / 2 * e * e * (((r *= 1.525) + 1) * e - r) + n : i / 2 * ((e -= 2) * e * (((r *= 1.525) + 1) * e + r) + 2) + n\n  }, easeInBounce: function (t, e, n, i, o) {\n    return i - jQuery.easing.easeOutBounce(t, o - e, 0, i, o) + n\n  }, easeOutBounce: function (t, e, n, i, o) {\n    return (e /= o) < 1 / 2.75 ? 7.5625 * i * e * e + n : 2 / 2.75 > e ? i * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + n : 2.5 / 2.75 > e ? i * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + n : i * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + n\n  }, easeInOutBounce: function (t, e, n, i, o) {\n    return o / 2 > e ? .5 * jQuery.easing.easeInBounce(t, 2 * e, 0, i, o) + n : .5 * jQuery.easing.easeOutBounce(t, 2 * e - o, 0, i, o) + .5 * i + n\n  }\n}), function (t, e, n) {\n  t.fn.backstretch = function (i, o) {\n    return (i === n || 0 === i.length) && t.error(\"No images were supplied for Backstretch\"), 0 === t(e).scrollTop() && e.scrollTo(0, 0), this.each(function () {\n      var e = t(this), n = e.data(\"backstretch\");\n      if (n) {\n        if (\"string\" == typeof i && \"function\" == typeof n[i]) return void n[i](o);\n        o = t.extend(n.options, o), n.destroy(!0)\n      }\n      n = new r(this, i, o), e.data(\"backstretch\", n)\n    })\n  }, t.backstretch = function (e, n) {\n    return t(\"body\").backstretch(e, n).data(\"backstretch\")\n  }, t.expr[\":\"].backstretch = function (e) {\n    return t(e).data(\"backstretch\") !== n\n  }, t.fn.backstretch.defaults = {centeredX: !0, centeredY: !0, duration: 5e3, fade: 0};\n  var i = {left: 0, top: 0, overflow: \"hidden\", margin: 0, padding: 0, height: \"100%\", width: \"100%\", zIndex: -999999},\n      o = {\n        position: \"absolute\",\n        display: \"none\",\n        margin: 0,\n        padding: 0,\n        border: \"none\",\n        width: \"auto\",\n        height: \"auto\",\n        maxHeight: \"none\",\n        maxWidth: \"none\",\n        zIndex: -999999\n      }, r = function (n, o, r) {\n        this.options = t.extend({}, t.fn.backstretch.defaults, r || {}), this.images = t.isArray(o) ? o : [o], t.each(this.images, function () {\n          t(\"<img />\")[0].src = this\n        }), this.isBody = n === document.body, this.$container = t(n), this.$root = this.isBody ? t(s ? e : document) : this.$container, n = this.$container.children(\".backstretch\").first(), this.$wrap = n.length ? n : t('<div class=\"backstretch\"></div>').css(i).appendTo(this.$container), this.isBody || (n = this.$container.css(\"position\"), o = this.$container.css(\"zIndex\"), this.$container.css({\n          position: \"static\" === n ? \"relative\" : n,\n          zIndex: \"auto\" === o ? 0 : o,\n          background: \"none\"\n        }), this.$wrap.css({zIndex: -999998})), this.$wrap.css({position: this.isBody && s ? \"fixed\" : \"absolute\"}), this.index = 0, this.show(this.index), t(e).on(\"resize.backstretch\", t.proxy(this.resize, this)).on(\"orientationchange.backstretch\", t.proxy(function () {\n          this.isBody && 0 === e.pageYOffset && (e.scrollTo(0, 1), this.resize())\n        }, this))\n      };\n  r.prototype = {\n    resize: function () {\n      try {\n        var t, n = {left: 0, top: 0}, i = this.isBody ? this.$root.width() : this.$root.innerWidth(), o = i,\n            r = this.isBody ? e.innerHeight ? e.innerHeight : this.$root.height() : this.$root.innerHeight(),\n            s = o / this.$img.data(\"ratio\");\n        s >= r ? (t = (s - r) / 2, this.options.centeredY && (n.top = \"-\" + t + \"px\")) : (s = r, o = s * this.$img.data(\"ratio\"), t = (o - i) / 2, this.options.centeredX && (n.left = \"-\" + t + \"px\")), this.$wrap.css({\n          width: i,\n          height: r\n        }).find(\"img:not(.deleteable)\").css({width: o, height: s}).css(n)\n      } catch (a) {\n      }\n      return this\n    }, show: function (e) {\n      if (!(Math.abs(e) > this.images.length - 1)) {\n        var n = this, i = n.$wrap.find(\"img\").addClass(\"deleteable\"), r = {relatedTarget: n.$container[0]};\n        return n.$container.trigger(t.Event(\"backstretch.before\", r), [n, e]), this.index = e, clearInterval(n.interval), n.$img = t(\"<img />\").css(o).bind(\"load\", function (o) {\n          var s = this.width || t(o.target).width();\n          o = this.height || t(o.target).height(), t(this).data(\"ratio\", s / o), t(this).fadeIn(n.options.speed || n.options.fade, function () {\n            i.remove(), n.paused || n.cycle(), t([\"after\", \"show\"]).each(function () {\n              n.$container.trigger(t.Event(\"backstretch.\" + this, r), [n, e])\n            })\n          }), n.resize()\n        }).appendTo(n.$wrap), n.$img.attr(\"src\", n.images[e]), n\n      }\n    }, next: function () {\n      return this.show(this.index < this.images.length - 1 ? this.index + 1 : 0)\n    }, prev: function () {\n      return this.show(0 === this.index ? this.images.length - 1 : this.index - 1)\n    }, pause: function () {\n      return this.paused = !0, this\n    }, resume: function () {\n      return this.paused = !1, this.next(), this\n    }, cycle: function () {\n      return 1 < this.images.length && (clearInterval(this.interval), this.interval = setInterval(t.proxy(function () {\n        this.paused || this.next()\n      }, this), this.options.duration)), this\n    }, destroy: function (n) {\n      t(e).off(\"resize.backstretch orientationchange.backstretch\"), clearInterval(this.interval), n || this.$wrap.remove(), this.$container.removeData(\"backstretch\")\n    }\n  };\n  var s, a = navigator.userAgent, u = navigator.platform, l = a.match(/AppleWebKit\\/([0-9]+)/), l = !!l && l[1],\n      c = a.match(/Fennec\\/([0-9]+)/), c = !!c && c[1], d = a.match(/Opera Mobi\\/([0-9]+)/), h = !!d && d[1],\n      f = a.match(/MSIE ([0-9]+)/), f = !!f && f[1];\n  s = !((-1 < u.indexOf(\"iPhone\") || -1 < u.indexOf(\"iPad\") || -1 < u.indexOf(\"iPod\")) && l && 534 > l || e.operamini && \"[object OperaMini]\" === {}.toString.call(e.operamini) || d && 7458 > h || -1 < a.indexOf(\"Android\") && l && 533 > l || c && 6 > c || \"palmGetResource\" in e && l && 534 > l || -1 < a.indexOf(\"MeeGo\") && -1 < a.indexOf(\"NokiaBrowser/8.5.0\") || f && 6 >= f)\n}(jQuery, window);"]}]}