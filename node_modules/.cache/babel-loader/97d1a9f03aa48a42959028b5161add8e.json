{"remainingRequest":"E:\\xiaoxiao-blog-frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\xiaoxiao-blog-frontend\\src\\assets\\photo\\js\\masonry.pkgd.min.js","dependencies":[{"path":"E:\\xiaoxiao-blog-frontend\\src\\assets\\photo\\js\\masonry.pkgd.min.js","mtime":1481285393956},{"path":"E:\\xiaoxiao-blog-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\xiaoxiao-blog-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLmJpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuY3JlYXRlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWZsb2F0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzIik7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIkU6XFx4aWFveGlhby1ibG9nLWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL3R5cGVvZiIpOwoKLyohCiAqIE1hc29ucnkgUEFDS0FHRUQgdjMuMy4yCiAqIENhc2NhZGluZyBncmlkIGxheW91dCBsaWJyYXJ5CiAqIGh0dHA6Ly9tYXNvbnJ5LmRlc2FuZHJvLmNvbQogKiBNSVQgTGljZW5zZQogKiBieSBEYXZpZCBEZVNhbmRybwogKi8KIWZ1bmN0aW9uIChhKSB7CiAgZnVuY3Rpb24gYigpIHt9CgogIGZ1bmN0aW9uIGMoYSkgewogICAgZnVuY3Rpb24gYyhiKSB7CiAgICAgIGIucHJvdG90eXBlLm9wdGlvbiB8fCAoYi5wcm90b3R5cGUub3B0aW9uID0gZnVuY3Rpb24gKGIpIHsKICAgICAgICBhLmlzUGxhaW5PYmplY3QoYikgJiYgKHRoaXMub3B0aW9ucyA9IGEuZXh0ZW5kKCEwLCB0aGlzLm9wdGlvbnMsIGIpKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZShiLCBjKSB7CiAgICAgIGEuZm5bYl0gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZSkgewogICAgICAgICAgZm9yICh2YXIgZyA9IGQuY2FsbChhcmd1bWVudHMsIDEpLCBoID0gMCwgaSA9IHRoaXMubGVuZ3RoOyBpID4gaDsgaCsrKSB7CiAgICAgICAgICAgIHZhciBqID0gdGhpc1toXSwKICAgICAgICAgICAgICAgIGsgPSBhLmRhdGEoaiwgYik7CiAgICAgICAgICAgIGlmIChrKSB7CiAgICAgICAgICAgICAgaWYgKGEuaXNGdW5jdGlvbihrW2VdKSAmJiAiXyIgIT09IGUuY2hhckF0KDApKSB7CiAgICAgICAgICAgICAgICB2YXIgbCA9IGtbZV0uYXBwbHkoaywgZyk7CiAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBsKSByZXR1cm4gbDsKICAgICAgICAgICAgICB9IGVsc2UgZigibm8gc3VjaCBtZXRob2QgJyIgKyBlICsgIicgZm9yICIgKyBiICsgIiBpbnN0YW5jZSIpOwogICAgICAgICAgICB9IGVsc2UgZigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiICsgYiArICIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsICciICsgZSArICInIik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBkID0gYS5kYXRhKHRoaXMsIGIpOwogICAgICAgICAgZCA/IChkLm9wdGlvbihlKSwgZC5faW5pdCgpKSA6IChkID0gbmV3IGModGhpcywgZSksIGEuZGF0YSh0aGlzLCBiLCBkKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9CgogICAgaWYgKGEpIHsKICAgICAgdmFyIGYgPSAidW5kZWZpbmVkIiA9PSB0eXBlb2YgY29uc29sZSA/IGIgOiBmdW5jdGlvbiAoYSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYSk7CiAgICAgIH07CiAgICAgIHJldHVybiBhLmJyaWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgICAgIGMoYiksIGUoYSwgYik7CiAgICAgIH0sIGEuYnJpZGdldDsKICAgIH0KICB9CgogIHZhciBkID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJqcXVlcnktYnJpZGdldC9qcXVlcnkuYnJpZGdldCIsIFsianF1ZXJ5Il0sIGMpIDogYygib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IHJlcXVpcmUoImpxdWVyeSIpIDogYS5qUXVlcnkpOwp9KHdpbmRvdyksIGZ1bmN0aW9uIChhKSB7CiAgZnVuY3Rpb24gYihiKSB7CiAgICB2YXIgYyA9IGEuZXZlbnQ7CiAgICByZXR1cm4gYy50YXJnZXQgPSBjLnRhcmdldCB8fCBjLnNyY0VsZW1lbnQgfHwgYiwgYzsKICB9CgogIHZhciBjID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAogICAgICBkID0gZnVuY3Rpb24gZCgpIHt9OwoKICBjLmFkZEV2ZW50TGlzdGVuZXIgPyBkID0gZnVuY3Rpb24gZChhLCBiLCBjKSB7CiAgICBhLmFkZEV2ZW50TGlzdGVuZXIoYiwgYywgITEpOwogIH0gOiBjLmF0dGFjaEV2ZW50ICYmIChkID0gZnVuY3Rpb24gZChhLCBjLCBfZCkgewogICAgYVtjICsgX2RdID0gX2QuaGFuZGxlRXZlbnQgPyBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjID0gYihhKTsKCiAgICAgIF9kLmhhbmRsZUV2ZW50LmNhbGwoX2QsIGMpOwogICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSBiKGEpOwoKICAgICAgX2QuY2FsbChhLCBjKTsKICAgIH0sIGEuYXR0YWNoRXZlbnQoIm9uIiArIGMsIGFbYyArIF9kXSk7CiAgfSk7CgogIHZhciBlID0gZnVuY3Rpb24gZSgpIHt9OwoKICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBlID0gZnVuY3Rpb24gZShhLCBiLCBjKSB7CiAgICBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYiwgYywgITEpOwogIH0gOiBjLmRldGFjaEV2ZW50ICYmIChlID0gZnVuY3Rpb24gZShhLCBiLCBjKSB7CiAgICBhLmRldGFjaEV2ZW50KCJvbiIgKyBiLCBhW2IgKyBjXSk7CgogICAgdHJ5IHsKICAgICAgZGVsZXRlIGFbYiArIGNdOwogICAgfSBjYXRjaCAoZCkgewogICAgICBhW2IgKyBjXSA9IHZvaWQgMDsKICAgIH0KICB9KTsKICB2YXIgZiA9IHsKICAgIGJpbmQ6IGQsCiAgICB1bmJpbmQ6IGUKICB9OwogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJldmVudGllL2V2ZW50aWUiLCBmKSA6ICJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpID8gbW9kdWxlLmV4cG9ydHMgPSBmIDogYS5ldmVudGllID0gZjsKfSh3aW5kb3cpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gYSgpIHt9CgogIGZ1bmN0aW9uIGIoYSwgYikgewogICAgZm9yICh2YXIgYyA9IGEubGVuZ3RoOyBjLS07KSB7CiAgICAgIGlmIChhW2NdLmxpc3RlbmVyID09PSBiKSByZXR1cm4gYzsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfQoKICBmdW5jdGlvbiBjKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzW2FdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KCiAgdmFyIGQgPSBhLnByb3RvdHlwZSwKICAgICAgZSA9IHRoaXMsCiAgICAgIGYgPSBlLkV2ZW50RW1pdHRlcjsKICBkLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQgPSB0aGlzLl9nZXRFdmVudHMoKTsKCiAgICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICBiID0ge307CgogICAgICBmb3IgKGMgaW4gZCkgewogICAgICAgIGQuaGFzT3duUHJvcGVydHkoYykgJiYgYS50ZXN0KGMpICYmIChiW2NdID0gZFtjXSk7CiAgICAgIH0KICAgIH0gZWxzZSBiID0gZFthXSB8fCAoZFthXSA9IFtdKTsKCiAgICByZXR1cm4gYjsKICB9LCBkLmZsYXR0ZW5MaXN0ZW5lcnMgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IFtdOwoKICAgIGZvciAoYiA9IDA7IGIgPCBhLmxlbmd0aDsgYiArPSAxKSB7CiAgICAgIGMucHVzaChhW2JdLmxpc3RlbmVyKTsKICAgIH0KCiAgICByZXR1cm4gYzsKICB9LCBkLmdldExpc3RlbmVyc0FzT2JqZWN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSB0aGlzLmdldExpc3RlbmVycyhhKTsKICAgIHJldHVybiBjIGluc3RhbmNlb2YgQXJyYXkgJiYgKGIgPSB7fSwgYlthXSA9IGMpLCBiIHx8IGM7CiAgfSwgZC5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChhLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChhKSwKICAgICAgICBmID0gIm9iamVjdCIgPT0gX3R5cGVvZihjKTsKCiAgICBmb3IgKGQgaW4gZSkgewogICAgICBlLmhhc093blByb3BlcnR5KGQpICYmIC0xID09PSBiKGVbZF0sIGMpICYmIGVbZF0ucHVzaChmID8gYyA6IHsKICAgICAgICBsaXN0ZW5lcjogYywKICAgICAgICBvbmNlOiAhMQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBkLm9uID0gYygiYWRkTGlzdGVuZXIiKSwgZC5hZGRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoYSwgewogICAgICBsaXN0ZW5lcjogYiwKICAgICAgb25jZTogITAKICAgIH0pOwogIH0sIGQub25jZSA9IGMoImFkZE9uY2VMaXN0ZW5lciIpLCBkLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLmdldExpc3RlbmVycyhhKSwgdGhpczsKICB9LCBkLmRlZmluZUV2ZW50cyA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gMDsgYiA8IGEubGVuZ3RoOyBiICs9IDEpIHsKICAgICAgdGhpcy5kZWZpbmVFdmVudChhW2JdKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBkLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGEsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoYSk7CgogICAgZm9yIChlIGluIGYpIHsKICAgICAgZi5oYXNPd25Qcm9wZXJ0eShlKSAmJiAoZCA9IGIoZltlXSwgYyksIC0xICE9PSBkICYmIGZbZV0uc3BsaWNlKGQsIDEpKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBkLm9mZiA9IGMoInJlbW92ZUxpc3RlbmVyIiksIGQuYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITEsIGEsIGIpOwogIH0sIGQucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITAsIGEsIGIpOwogIH0sIGQubWFuaXB1bGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlLAogICAgICAgIGYgPSBhID8gdGhpcy5yZW1vdmVMaXN0ZW5lciA6IHRoaXMuYWRkTGlzdGVuZXIsCiAgICAgICAgZyA9IGEgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzOwogICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoYikgfHwgYiBpbnN0YW5jZW9mIFJlZ0V4cCkgZm9yIChkID0gYy5sZW5ndGg7IGQtLTspIHsKICAgICAgZi5jYWxsKHRoaXMsIGIsIGNbZF0pOwogICAgfSBlbHNlIGZvciAoZCBpbiBiKSB7CiAgICAgIGIuaGFzT3duUHJvcGVydHkoZCkgJiYgKGUgPSBiW2RdKSAmJiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGYuY2FsbCh0aGlzLCBkLCBlKSA6IGcuY2FsbCh0aGlzLCBkLCBlKSk7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LCBkLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSBfdHlwZW9mKGEpLAogICAgICAgIGQgPSB0aGlzLl9nZXRFdmVudHMoKTsKCiAgICBpZiAoInN0cmluZyIgPT09IGMpIGRlbGV0ZSBkW2FdO2Vsc2UgaWYgKGEgaW5zdGFuY2VvZiBSZWdFeHApIGZvciAoYiBpbiBkKSB7CiAgICAgIGQuaGFzT3duUHJvcGVydHkoYikgJiYgYS50ZXN0KGIpICYmIGRlbGV0ZSBkW2JdOwogICAgfSBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHM7CiAgICByZXR1cm4gdGhpczsKICB9LCBkLnJlbW92ZUFsbExpc3RlbmVycyA9IGMoInJlbW92ZUV2ZW50IiksIGQuZW1pdEV2ZW50ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQsCiAgICAgICAgZSwKICAgICAgICBmLAogICAgICAgIGcgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGEpOwoKICAgIGZvciAoZSBpbiBnKSB7CiAgICAgIGlmIChnLmhhc093blByb3BlcnR5KGUpKSBmb3IgKGQgPSBnW2VdLmxlbmd0aDsgZC0tOykgewogICAgICAgIGMgPSBnW2VdW2RdLCBjLm9uY2UgPT09ICEwICYmIHRoaXMucmVtb3ZlTGlzdGVuZXIoYSwgYy5saXN0ZW5lciksIGYgPSBjLmxpc3RlbmVyLmFwcGx5KHRoaXMsIGIgfHwgW10pLCBmID09PSB0aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSAmJiB0aGlzLnJlbW92ZUxpc3RlbmVyKGEsIGMubGlzdGVuZXIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwgZC50cmlnZ2VyID0gYygiZW1pdEV2ZW50IiksIGQuZW1pdCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICByZXR1cm4gdGhpcy5lbWl0RXZlbnQoYSwgYik7CiAgfSwgZC5zZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA9IGEsIHRoaXM7CiAgfSwgZC5fZ2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoIl9vbmNlUmV0dXJuVmFsdWUiKSA/IHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA6ICEwOwogIH0sIGQuX2dldEV2ZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KTsKICB9LCBhLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZS5FdmVudEVtaXR0ZXIgPSBmLCBhOwogIH0sICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBhOwogIH0pIDogIm9iamVjdCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBhIDogZS5FdmVudEVtaXR0ZXIgPSBhOwp9LmNhbGwodGhpcyksIGZ1bmN0aW9uIChhKSB7CiAgZnVuY3Rpb24gYihhKSB7CiAgICBpZiAoYSkgewogICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGRbYV0pIHJldHVybiBhOwogICAgICBhID0gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGEuc2xpY2UoMSk7CgogICAgICBmb3IgKHZhciBiLCBlID0gMCwgZiA9IGMubGVuZ3RoOyBmID4gZTsgZSsrKSB7CiAgICAgICAgaWYgKGIgPSBjW2VdICsgYSwgInN0cmluZyIgPT0gdHlwZW9mIGRbYl0pIHJldHVybiBiOwogICAgICB9CiAgICB9CiAgfQoKICB2YXIgYyA9ICJXZWJraXQgTW96IG1zIE1zIE8iLnNwbGl0KCIgIiksCiAgICAgIGQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7CiAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoImdldC1zdHlsZS1wcm9wZXJ0eS9nZXQtc3R5bGUtcHJvcGVydHkiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGI7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IG1vZHVsZS5leHBvcnRzID0gYiA6IGEuZ2V0U3R5bGVQcm9wZXJ0eSA9IGI7Cn0od2luZG93KSwgZnVuY3Rpb24gKGEpIHsKICBmdW5jdGlvbiBiKGEpIHsKICAgIHZhciBiID0gcGFyc2VGbG9hdChhKSwKICAgICAgICBjID0gLTEgPT09IGEuaW5kZXhPZigiJSIpICYmICFpc05hTihiKTsKICAgIHJldHVybiBjICYmIGI7CiAgfQoKICBmdW5jdGlvbiBjKCkge30KCiAgZnVuY3Rpb24gZCgpIHsKICAgIGZvciAodmFyIGEgPSB7CiAgICAgIHdpZHRoOiAwLAogICAgICBoZWlnaHQ6IDAsCiAgICAgIGlubmVyV2lkdGg6IDAsCiAgICAgIGlubmVySGVpZ2h0OiAwLAogICAgICBvdXRlcldpZHRoOiAwLAogICAgICBvdXRlckhlaWdodDogMAogICAgfSwgYiA9IDAsIGMgPSBnLmxlbmd0aDsgYyA+IGI7IGIrKykgewogICAgICB2YXIgZCA9IGdbYl07CiAgICAgIGFbZF0gPSAwOwogICAgfQoKICAgIHJldHVybiBhOwogIH0KCiAgZnVuY3Rpb24gZShjKSB7CiAgICBmdW5jdGlvbiBlKCkgewogICAgICBpZiAoIW0pIHsKICAgICAgICBtID0gITA7CiAgICAgICAgdmFyIGQgPSBhLmdldENvbXB1dGVkU3R5bGU7CgogICAgICAgIGlmIChqID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGEgPSBkID8gZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgcmV0dXJuIGQoYSwgbnVsbCk7CiAgICAgICAgICB9IDogZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgcmV0dXJuIGEuY3VycmVudFN0eWxlOwogICAgICAgICAgfTsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICAgICAgICB2YXIgYyA9IGEoYik7CiAgICAgICAgICAgIHJldHVybiBjIHx8IGYoIlN0eWxlIHJldHVybmVkICIgKyBjICsgIi4gQXJlIHlvdSBydW5uaW5nIHRoaXMgY29kZSBpbiBhIGhpZGRlbiBpZnJhbWUgb24gRmlyZWZveD8gU2VlIGh0dHA6Ly9iaXQubHkvZ2V0c2l6ZWJ1ZzEiKSwgYzsKICAgICAgICAgIH07CiAgICAgICAgfSgpLCBrID0gYygiYm94U2l6aW5nIikpIHsKICAgICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICBlLnN0eWxlLndpZHRoID0gIjIwMHB4IiwgZS5zdHlsZS5wYWRkaW5nID0gIjFweCAycHggM3B4IDRweCIsIGUuc3R5bGUuYm9yZGVyU3R5bGUgPSAic29saWQiLCBlLnN0eWxlLmJvcmRlcldpZHRoID0gIjFweCAycHggM3B4IDRweCIsIGUuc3R5bGVba10gPSAiYm9yZGVyLWJveCI7CiAgICAgICAgICB2YXIgZyA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgICAgZy5hcHBlbmRDaGlsZChlKTsKICAgICAgICAgIHZhciBoID0gaihlKTsKICAgICAgICAgIGwgPSAyMDAgPT09IGIoaC53aWR0aCksIGcucmVtb3ZlQ2hpbGQoZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaChhKSB7CiAgICAgIGlmIChlKCksICJzdHJpbmciID09IHR5cGVvZiBhICYmIChhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKSksIGEgJiYgIm9iamVjdCIgPT0gX3R5cGVvZihhKSAmJiBhLm5vZGVUeXBlKSB7CiAgICAgICAgdmFyIGMgPSBqKGEpOwogICAgICAgIGlmICgibm9uZSIgPT09IGMuZGlzcGxheSkgcmV0dXJuIGQoKTsKICAgICAgICB2YXIgZiA9IHt9OwogICAgICAgIGYud2lkdGggPSBhLm9mZnNldFdpZHRoLCBmLmhlaWdodCA9IGEub2Zmc2V0SGVpZ2h0OwoKICAgICAgICBmb3IgKHZhciBoID0gZi5pc0JvcmRlckJveCA9ICEoIWsgfHwgIWNba10gfHwgImJvcmRlci1ib3giICE9PSBjW2tdKSwgbSA9IDAsIG4gPSBnLmxlbmd0aDsgbiA+IG07IG0rKykgewogICAgICAgICAgdmFyIG8gPSBnW21dLAogICAgICAgICAgICAgIHAgPSBjW29dOwogICAgICAgICAgcCA9IGkoYSwgcCk7CiAgICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQocCk7CiAgICAgICAgICBmW29dID0gaXNOYU4ocSkgPyAwIDogcTsKICAgICAgICB9CgogICAgICAgIHZhciByID0gZi5wYWRkaW5nTGVmdCArIGYucGFkZGluZ1JpZ2h0LAogICAgICAgICAgICBzID0gZi5wYWRkaW5nVG9wICsgZi5wYWRkaW5nQm90dG9tLAogICAgICAgICAgICB0ID0gZi5tYXJnaW5MZWZ0ICsgZi5tYXJnaW5SaWdodCwKICAgICAgICAgICAgdSA9IGYubWFyZ2luVG9wICsgZi5tYXJnaW5Cb3R0b20sCiAgICAgICAgICAgIHYgPSBmLmJvcmRlckxlZnRXaWR0aCArIGYuYm9yZGVyUmlnaHRXaWR0aCwKICAgICAgICAgICAgdyA9IGYuYm9yZGVyVG9wV2lkdGggKyBmLmJvcmRlckJvdHRvbVdpZHRoLAogICAgICAgICAgICB4ID0gaCAmJiBsLAogICAgICAgICAgICB5ID0gYihjLndpZHRoKTsKICAgICAgICB5ICE9PSAhMSAmJiAoZi53aWR0aCA9IHkgKyAoeCA/IDAgOiByICsgdikpOwogICAgICAgIHZhciB6ID0gYihjLmhlaWdodCk7CiAgICAgICAgcmV0dXJuIHogIT09ICExICYmIChmLmhlaWdodCA9IHogKyAoeCA/IDAgOiBzICsgdykpLCBmLmlubmVyV2lkdGggPSBmLndpZHRoIC0gKHIgKyB2KSwgZi5pbm5lckhlaWdodCA9IGYuaGVpZ2h0IC0gKHMgKyB3KSwgZi5vdXRlcldpZHRoID0gZi53aWR0aCArIHQsIGYub3V0ZXJIZWlnaHQgPSBmLmhlaWdodCArIHUsIGY7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpKGIsIGMpIHsKICAgICAgaWYgKGEuZ2V0Q29tcHV0ZWRTdHlsZSB8fCAtMSA9PT0gYy5pbmRleE9mKCIlIikpIHJldHVybiBjOwogICAgICB2YXIgZCA9IGIuc3R5bGUsCiAgICAgICAgICBlID0gZC5sZWZ0LAogICAgICAgICAgZiA9IGIucnVudGltZVN0eWxlLAogICAgICAgICAgZyA9IGYgJiYgZi5sZWZ0OwogICAgICByZXR1cm4gZyAmJiAoZi5sZWZ0ID0gYi5jdXJyZW50U3R5bGUubGVmdCksIGQubGVmdCA9IGMsIGMgPSBkLnBpeGVsTGVmdCwgZC5sZWZ0ID0gZSwgZyAmJiAoZi5sZWZ0ID0gZyksIGM7CiAgICB9CgogICAgdmFyIGosCiAgICAgICAgaywKICAgICAgICBsLAogICAgICAgIG0gPSAhMTsKICAgIHJldHVybiBoOwogIH0KCiAgdmFyIGYgPSAidW5kZWZpbmVkIiA9PSB0eXBlb2YgY29uc29sZSA/IGMgOiBmdW5jdGlvbiAoYSkgewogICAgY29uc29sZS5lcnJvcihhKTsKICB9LAogICAgICBnID0gWyJwYWRkaW5nTGVmdCIsICJwYWRkaW5nUmlnaHQiLCAicGFkZGluZ1RvcCIsICJwYWRkaW5nQm90dG9tIiwgIm1hcmdpbkxlZnQiLCAibWFyZ2luUmlnaHQiLCAibWFyZ2luVG9wIiwgIm1hcmdpbkJvdHRvbSIsICJib3JkZXJMZWZ0V2lkdGgiLCAiYm9yZGVyUmlnaHRXaWR0aCIsICJib3JkZXJUb3BXaWR0aCIsICJib3JkZXJCb3R0b21XaWR0aCJdOwogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJnZXQtc2l6ZS9nZXQtc2l6ZSIsIFsiZ2V0LXN0eWxlLXByb3BlcnR5L2dldC1zdHlsZS1wcm9wZXJ0eSJdLCBlKSA6ICJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpID8gbW9kdWxlLmV4cG9ydHMgPSBlKHJlcXVpcmUoImRlc2FuZHJvLWdldC1zdHlsZS1wcm9wZXJ0eSIpKSA6IGEuZ2V0U2l6ZSA9IGUoYS5nZXRTdHlsZVByb3BlcnR5KTsKfSh3aW5kb3cpLCBmdW5jdGlvbiAoYSkgewogIGZ1bmN0aW9uIGIoYSkgewogICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgYSAmJiAoYi5pc1JlYWR5ID8gYSgpIDogZy5wdXNoKGEpKTsKICB9CgogIGZ1bmN0aW9uIGMoYSkgewogICAgdmFyIGMgPSAicmVhZHlzdGF0ZWNoYW5nZSIgPT09IGEudHlwZSAmJiAiY29tcGxldGUiICE9PSBmLnJlYWR5U3RhdGU7CiAgICBiLmlzUmVhZHkgfHwgYyB8fCBkKCk7CiAgfQoKICBmdW5jdGlvbiBkKCkgewogICAgYi5pc1JlYWR5ID0gITA7CgogICAgZm9yICh2YXIgYSA9IDAsIGMgPSBnLmxlbmd0aDsgYyA+IGE7IGErKykgewogICAgICB2YXIgZCA9IGdbYV07CiAgICAgIGQoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGUoZSkgewogICAgcmV0dXJuICJjb21wbGV0ZSIgPT09IGYucmVhZHlTdGF0ZSA/IGQoKSA6IChlLmJpbmQoZiwgIkRPTUNvbnRlbnRMb2FkZWQiLCBjKSwgZS5iaW5kKGYsICJyZWFkeXN0YXRlY2hhbmdlIiwgYyksIGUuYmluZChhLCAibG9hZCIsIGMpKSwgYjsKICB9CgogIHZhciBmID0gYS5kb2N1bWVudCwKICAgICAgZyA9IFtdOwogIGIuaXNSZWFkeSA9ICExLCAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgiZG9jLXJlYWR5L2RvYy1yZWFkeSIsIFsiZXZlbnRpZS9ldmVudGllIl0sIGUpIDogIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPyBtb2R1bGUuZXhwb3J0cyA9IGUocmVxdWlyZSgiZXZlbnRpZSIpKSA6IGEuZG9jUmVhZHkgPSBlKGEuZXZlbnRpZSk7Cn0od2luZG93KSwgZnVuY3Rpb24gKGEpIHsKICBmdW5jdGlvbiBiKGEsIGIpIHsKICAgIHJldHVybiBhW2ddKGIpOwogIH0KCiAgZnVuY3Rpb24gYyhhKSB7CiAgICBpZiAoIWEucGFyZW50Tm9kZSkgewogICAgICB2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKICAgICAgYi5hcHBlbmRDaGlsZChhKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGQoYSwgYikgewogICAgYyhhKTsKCiAgICBmb3IgKHZhciBkID0gYS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYiksIGUgPSAwLCBmID0gZC5sZW5ndGg7IGYgPiBlOyBlKyspIHsKICAgICAgaWYgKGRbZV0gPT09IGEpIHJldHVybiAhMDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfQoKICBmdW5jdGlvbiBlKGEsIGQpIHsKICAgIHJldHVybiBjKGEpLCBiKGEsIGQpOwogIH0KCiAgdmFyIGYsCiAgICAgIGcgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoYS5tYXRjaGVzKSByZXR1cm4gIm1hdGNoZXMiOwogICAgaWYgKGEubWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gIm1hdGNoZXNTZWxlY3RvciI7CgogICAgZm9yICh2YXIgYiA9IFsid2Via2l0IiwgIm1veiIsICJtcyIsICJvIl0sIGMgPSAwLCBkID0gYi5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgdmFyIGUgPSBiW2NdLAogICAgICAgICAgZiA9IGUgKyAiTWF0Y2hlc1NlbGVjdG9yIjsKICAgICAgaWYgKGFbZl0pIHJldHVybiBmOwogICAgfQogIH0oKTsKCiAgaWYgKGcpIHsKICAgIHZhciBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksCiAgICAgICAgaSA9IGIoaCwgImRpdiIpOwogICAgZiA9IGkgPyBiIDogZTsKICB9IGVsc2UgZiA9IGQ7CgogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJtYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3IiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGY7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IG1vZHVsZS5leHBvcnRzID0gZiA6IHdpbmRvdy5tYXRjaGVzU2VsZWN0b3IgPSBmOwp9KEVsZW1lbnQucHJvdG90eXBlKSwgZnVuY3Rpb24gKGEsIGIpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgiZml6enktdWktdXRpbHMvdXRpbHMiLCBbImRvYy1yZWFkeS9kb2MtcmVhZHkiLCAibWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yIl0sIGZ1bmN0aW9uIChjLCBkKSB7CiAgICByZXR1cm4gYihhLCBjLCBkKTsKICB9KSA6ICJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpID8gbW9kdWxlLmV4cG9ydHMgPSBiKGEsIHJlcXVpcmUoImRvYy1yZWFkeSIpLCByZXF1aXJlKCJkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yIikpIDogYS5maXp6eVVJVXRpbHMgPSBiKGEsIGEuZG9jUmVhZHksIGEubWF0Y2hlc1NlbGVjdG9yKTsKfSh3aW5kb3csIGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgdmFyIGQgPSB7fTsKICBkLmV4dGVuZCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBmb3IgKHZhciBjIGluIGIpIHsKICAgICAgYVtjXSA9IGJbY107CiAgICB9CgogICAgcmV0dXJuIGE7CiAgfSwgZC5tb2R1bG8gPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIChhICUgYiArIGIpICUgYjsKICB9OwogIHZhciBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsKICBkLmlzQXJyYXkgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuICJbb2JqZWN0IEFycmF5XSIgPT0gZS5jYWxsKGEpOwogIH0sIGQubWFrZUFycmF5ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gW107CiAgICBpZiAoZC5pc0FycmF5KGEpKSBiID0gYTtlbHNlIGlmIChhICYmICJudW1iZXIiID09IHR5cGVvZiBhLmxlbmd0aCkgZm9yICh2YXIgYyA9IDAsIGUgPSBhLmxlbmd0aDsgZSA+IGM7IGMrKykgewogICAgICBiLnB1c2goYVtjXSk7CiAgICB9IGVsc2UgYi5wdXNoKGEpOwogICAgcmV0dXJuIGI7CiAgfSwgZC5pbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPyBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGEuaW5kZXhPZihiKTsKICB9IDogZnVuY3Rpb24gKGEsIGIpIHsKICAgIGZvciAodmFyIGMgPSAwLCBkID0gYS5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgaWYgKGFbY10gPT09IGIpIHJldHVybiBjOwogICAgfQoKICAgIHJldHVybiAtMTsKICB9LCBkLnJlbW92ZUZyb20gPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSBkLmluZGV4T2YoYSwgYik7CiAgICAtMSAhPSBjICYmIGEuc3BsaWNlKGMsIDEpOwogIH0sIGQuaXNFbGVtZW50ID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgSFRNTEVsZW1lbnQgfHwgIm9iamVjdCIgPT0gKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoSFRNTEVsZW1lbnQpKSA/IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OwogIH0gOiBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEgJiYgIm9iamVjdCIgPT0gX3R5cGVvZihhKSAmJiAxID09IGEubm9kZVR5cGUgJiYgInN0cmluZyIgPT0gdHlwZW9mIGEubm9kZU5hbWU7CiAgfSwgZC5zZXRUZXh0ID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gYShhLCBjKSB7CiAgICAgIGIgPSBiIHx8ICh2b2lkIDAgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudCA/ICJ0ZXh0Q29udGVudCIgOiAiaW5uZXJUZXh0IiksIGFbYl0gPSBjOwogICAgfQoKICAgIHZhciBiOwogICAgcmV0dXJuIGE7CiAgfSgpLCBkLmdldFBhcmVudCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBmb3IgKDsgYSAhPSBkb2N1bWVudC5ib2R5OykgewogICAgICBpZiAoYSA9IGEucGFyZW50Tm9kZSwgYyhhLCBiKSkgcmV0dXJuIGE7CiAgICB9CiAgfSwgZC5nZXRRdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiBhID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKSA6IGE7CiAgfSwgZC5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9ICJvbiIgKyBhLnR5cGU7CiAgICB0aGlzW2JdICYmIHRoaXNbYl0oYSk7CiAgfSwgZC5maWx0ZXJGaW5kRWxlbWVudHMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgYSA9IGQubWFrZUFycmF5KGEpOwoKICAgIGZvciAodmFyIGUgPSBbXSwgZiA9IDAsIGcgPSBhLmxlbmd0aDsgZyA+IGY7IGYrKykgewogICAgICB2YXIgaCA9IGFbZl07CiAgICAgIGlmIChkLmlzRWxlbWVudChoKSkgaWYgKGIpIHsKICAgICAgICBjKGgsIGIpICYmIGUucHVzaChoKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IGgucXVlcnlTZWxlY3RvckFsbChiKSwgaiA9IDAsIGsgPSBpLmxlbmd0aDsgayA+IGo7IGorKykgewogICAgICAgICAgZS5wdXNoKGlbal0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGUucHVzaChoKTsKICAgIH0KCiAgICByZXR1cm4gZTsKICB9LCBkLmRlYm91bmNlTWV0aG9kID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHZhciBkID0gYS5wcm90b3R5cGVbYl0sCiAgICAgICAgZSA9IGIgKyAiVGltZW91dCI7CgogICAgYS5wcm90b3R5cGVbYl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhID0gdGhpc1tlXTsKICAgICAgYSAmJiBjbGVhclRpbWVvdXQoYSk7CiAgICAgIHZhciBiID0gYXJndW1lbnRzLAogICAgICAgICAgZiA9IHRoaXM7CiAgICAgIHRoaXNbZV0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkLmFwcGx5KGYsIGIpLCBkZWxldGUgZltlXTsKICAgICAgfSwgYyB8fCAxMDApOwogICAgfTsKICB9LCBkLnRvRGFzaGVkID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhLnJlcGxhY2UoLyguKShbQS1aXSkvZywgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgICAgcmV0dXJuIGIgKyAiLSIgKyBjOwogICAgfSkudG9Mb3dlckNhc2UoKTsKICB9OwogIHZhciBmID0gYS5jb25zb2xlOwogIHJldHVybiBkLmh0bWxJbml0ID0gZnVuY3Rpb24gKGMsIGUpIHsKICAgIGIoZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBiID0gZC50b0Rhc2hlZChlKSwgZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5qcy0iICsgYiksIGggPSAiZGF0YS0iICsgYiArICItb3B0aW9ucyIsIGkgPSAwLCBqID0gZy5sZW5ndGg7IGogPiBpOyBpKyspIHsKICAgICAgICB2YXIgaywKICAgICAgICAgICAgbCA9IGdbaV0sCiAgICAgICAgICAgIG0gPSBsLmdldEF0dHJpYnV0ZShoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGsgPSBtICYmIEpTT04ucGFyc2UobSk7CiAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgZiAmJiBmLmVycm9yKCJFcnJvciBwYXJzaW5nICIgKyBoICsgIiBvbiAiICsgbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICsgKGwuaWQgPyAiIyIgKyBsLmlkIDogIiIpICsgIjogIiArIG4pOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgbyA9IG5ldyBjKGwsIGspLAogICAgICAgICAgICBwID0gYS5qUXVlcnk7CiAgICAgICAgcCAmJiBwLmRhdGEobCwgZSwgbyk7CiAgICAgIH0KICAgIH0pOwogIH0sIGQ7Cn0pLCBmdW5jdGlvbiAoYSwgYikgewogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCJvdXRsYXllci9pdGVtIiwgWyJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyIiwgImdldC1zaXplL2dldC1zaXplIiwgImdldC1zdHlsZS1wcm9wZXJ0eS9nZXQtc3R5bGUtcHJvcGVydHkiLCAiZml6enktdWktdXRpbHMvdXRpbHMiXSwgZnVuY3Rpb24gKGMsIGQsIGUsIGYpIHsKICAgIHJldHVybiBiKGEsIGMsIGQsIGUsIGYpOwogIH0pIDogIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPyBtb2R1bGUuZXhwb3J0cyA9IGIoYSwgcmVxdWlyZSgid29sZnk4Ny1ldmVudGVtaXR0ZXIiKSwgcmVxdWlyZSgiZ2V0LXNpemUiKSwgcmVxdWlyZSgiZGVzYW5kcm8tZ2V0LXN0eWxlLXByb3BlcnR5IiksIHJlcXVpcmUoImZpenp5LXVpLXV0aWxzIikpIDogKGEuT3V0bGF5ZXIgPSB7fSwgYS5PdXRsYXllci5JdGVtID0gYihhLCBhLkV2ZW50RW1pdHRlciwgYS5nZXRTaXplLCBhLmdldFN0eWxlUHJvcGVydHksIGEuZml6enlVSVV0aWxzKSk7Cn0od2luZG93LCBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkgewogIGZ1bmN0aW9uIGYoYSkgewogICAgZm9yICh2YXIgYiBpbiBhKSB7CiAgICAgIHJldHVybiAhMTsKICAgIH0KCiAgICByZXR1cm4gYiA9IG51bGwsICEwOwogIH0KCiAgZnVuY3Rpb24gZyhhLCBiKSB7CiAgICBhICYmICh0aGlzLmVsZW1lbnQgPSBhLCB0aGlzLmxheW91dCA9IGIsIHRoaXMucG9zaXRpb24gPSB7CiAgICAgIHg6IDAsCiAgICAgIHk6IDAKICAgIH0sIHRoaXMuX2NyZWF0ZSgpKTsKICB9CgogIGZ1bmN0aW9uIGgoYSkgewogICAgcmV0dXJuIGEucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbiAoYSkgewogICAgICByZXR1cm4gIi0iICsgYS50b0xvd2VyQ2FzZSgpOwogICAgfSk7CiAgfQoKICB2YXIgaSA9IGEuZ2V0Q29tcHV0ZWRTdHlsZSwKICAgICAgaiA9IGkgPyBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGkoYSwgbnVsbCk7CiAgfSA6IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS5jdXJyZW50U3R5bGU7CiAgfSwKICAgICAgayA9IGQoInRyYW5zaXRpb24iKSwKICAgICAgbCA9IGQoInRyYW5zZm9ybSIpLAogICAgICBtID0gayAmJiBsLAogICAgICBuID0gISFkKCJwZXJzcGVjdGl2ZSIpLAogICAgICBvID0gewogICAgV2Via2l0VHJhbnNpdGlvbjogIndlYmtpdFRyYW5zaXRpb25FbmQiLAogICAgTW96VHJhbnNpdGlvbjogInRyYW5zaXRpb25lbmQiLAogICAgT1RyYW5zaXRpb246ICJvdHJhbnNpdGlvbmVuZCIsCiAgICB0cmFuc2l0aW9uOiAidHJhbnNpdGlvbmVuZCIKICB9W2tdLAogICAgICBwID0gWyJ0cmFuc2Zvcm0iLCAidHJhbnNpdGlvbiIsICJ0cmFuc2l0aW9uRHVyYXRpb24iLCAidHJhbnNpdGlvblByb3BlcnR5Il0sCiAgICAgIHEgPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBhID0ge30sIGIgPSAwLCBjID0gcC5sZW5ndGg7IGMgPiBiOyBiKyspIHsKICAgICAgdmFyIGUgPSBwW2JdLAogICAgICAgICAgZiA9IGQoZSk7CiAgICAgIGYgJiYgZiAhPT0gZSAmJiAoYVtlXSA9IGYpOwogICAgfQoKICAgIHJldHVybiBhOwogIH0oKTsKCiAgZS5leHRlbmQoZy5wcm90b3R5cGUsIGIucHJvdG90eXBlKSwgZy5wcm90b3R5cGUuX2NyZWF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX3RyYW5zbiA9IHsKICAgICAgaW5nUHJvcGVydGllczoge30sCiAgICAgIGNsZWFuOiB7fSwKICAgICAgb25FbmQ6IHt9CiAgICB9LCB0aGlzLmNzcyh7CiAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiCiAgICB9KTsKICB9LCBnLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9ICJvbiIgKyBhLnR5cGU7CiAgICB0aGlzW2JdICYmIHRoaXNbYl0oYSk7CiAgfSwgZy5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2l6ZSA9IGModGhpcy5lbGVtZW50KTsKICB9LCBnLnByb3RvdHlwZS5jc3MgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmVsZW1lbnQuc3R5bGU7CgogICAgZm9yICh2YXIgYyBpbiBhKSB7CiAgICAgIHZhciBkID0gcVtjXSB8fCBjOwogICAgICBiW2RdID0gYVtjXTsKICAgIH0KICB9LCBnLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gaih0aGlzLmVsZW1lbnQpLAogICAgICAgIGIgPSB0aGlzLmxheW91dC5vcHRpb25zLAogICAgICAgIGMgPSBiLmlzT3JpZ2luTGVmdCwKICAgICAgICBkID0gYi5pc09yaWdpblRvcCwKICAgICAgICBlID0gYVtjID8gImxlZnQiIDogInJpZ2h0Il0sCiAgICAgICAgZiA9IGFbZCA/ICJ0b3AiIDogImJvdHRvbSJdLAogICAgICAgIGcgPSB0aGlzLmxheW91dC5zaXplLAogICAgICAgIGggPSAtMSAhPSBlLmluZGV4T2YoIiUiKSA/IHBhcnNlRmxvYXQoZSkgLyAxMDAgKiBnLndpZHRoIDogcGFyc2VJbnQoZSwgMTApLAogICAgICAgIGkgPSAtMSAhPSBmLmluZGV4T2YoIiUiKSA/IHBhcnNlRmxvYXQoZikgLyAxMDAgKiBnLmhlaWdodCA6IHBhcnNlSW50KGYsIDEwKTsKICAgIGggPSBpc05hTihoKSA/IDAgOiBoLCBpID0gaXNOYU4oaSkgPyAwIDogaSwgaCAtPSBjID8gZy5wYWRkaW5nTGVmdCA6IGcucGFkZGluZ1JpZ2h0LCBpIC09IGQgPyBnLnBhZGRpbmdUb3AgOiBnLnBhZGRpbmdCb3R0b20sIHRoaXMucG9zaXRpb24ueCA9IGgsIHRoaXMucG9zaXRpb24ueSA9IGk7CiAgfSwgZy5wcm90b3R5cGUubGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMubGF5b3V0LnNpemUsCiAgICAgICAgYiA9IHRoaXMubGF5b3V0Lm9wdGlvbnMsCiAgICAgICAgYyA9IHt9LAogICAgICAgIGQgPSBiLmlzT3JpZ2luTGVmdCA/ICJwYWRkaW5nTGVmdCIgOiAicGFkZGluZ1JpZ2h0IiwKICAgICAgICBlID0gYi5pc09yaWdpbkxlZnQgPyAibGVmdCIgOiAicmlnaHQiLAogICAgICAgIGYgPSBiLmlzT3JpZ2luTGVmdCA/ICJyaWdodCIgOiAibGVmdCIsCiAgICAgICAgZyA9IHRoaXMucG9zaXRpb24ueCArIGFbZF07CiAgICBjW2VdID0gdGhpcy5nZXRYVmFsdWUoZyksIGNbZl0gPSAiIjsKICAgIHZhciBoID0gYi5pc09yaWdpblRvcCA/ICJwYWRkaW5nVG9wIiA6ICJwYWRkaW5nQm90dG9tIiwKICAgICAgICBpID0gYi5pc09yaWdpblRvcCA/ICJ0b3AiIDogImJvdHRvbSIsCiAgICAgICAgaiA9IGIuaXNPcmlnaW5Ub3AgPyAiYm90dG9tIiA6ICJ0b3AiLAogICAgICAgIGsgPSB0aGlzLnBvc2l0aW9uLnkgKyBhW2hdOwogICAgY1tpXSA9IHRoaXMuZ2V0WVZhbHVlKGspLCBjW2pdID0gIiIsIHRoaXMuY3NzKGMpLCB0aGlzLmVtaXRFdmVudCgibGF5b3V0IiwgW3RoaXNdKTsKICB9LCBnLnByb3RvdHlwZS5nZXRYVmFsdWUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmxheW91dC5vcHRpb25zOwogICAgcmV0dXJuIGIucGVyY2VudFBvc2l0aW9uICYmICFiLmlzSG9yaXpvbnRhbCA/IGEgLyB0aGlzLmxheW91dC5zaXplLndpZHRoICogMTAwICsgIiUiIDogYSArICJweCI7CiAgfSwgZy5wcm90b3R5cGUuZ2V0WVZhbHVlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5sYXlvdXQub3B0aW9uczsKICAgIHJldHVybiBiLnBlcmNlbnRQb3NpdGlvbiAmJiBiLmlzSG9yaXpvbnRhbCA/IGEgLyB0aGlzLmxheW91dC5zaXplLmhlaWdodCAqIDEwMCArICIlIiA6IGEgKyAicHgiOwogIH0sIGcucHJvdG90eXBlLl90cmFuc2l0aW9uVG8gPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy5nZXRQb3NpdGlvbigpOwogICAgdmFyIGMgPSB0aGlzLnBvc2l0aW9uLngsCiAgICAgICAgZCA9IHRoaXMucG9zaXRpb24ueSwKICAgICAgICBlID0gcGFyc2VJbnQoYSwgMTApLAogICAgICAgIGYgPSBwYXJzZUludChiLCAxMCksCiAgICAgICAgZyA9IGUgPT09IHRoaXMucG9zaXRpb24ueCAmJiBmID09PSB0aGlzLnBvc2l0aW9uLnk7CiAgICBpZiAodGhpcy5zZXRQb3NpdGlvbihhLCBiKSwgZyAmJiAhdGhpcy5pc1RyYW5zaXRpb25pbmcpIHJldHVybiB2b2lkIHRoaXMubGF5b3V0UG9zaXRpb24oKTsKICAgIHZhciBoID0gYSAtIGMsCiAgICAgICAgaSA9IGIgLSBkLAogICAgICAgIGogPSB7fTsKICAgIGoudHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2xhdGUoaCwgaSksIHRoaXMudHJhbnNpdGlvbih7CiAgICAgIHRvOiBqLAogICAgICBvblRyYW5zaXRpb25FbmQ6IHsKICAgICAgICB0cmFuc2Zvcm06IHRoaXMubGF5b3V0UG9zaXRpb24KICAgICAgfSwKICAgICAgaXNDbGVhbmluZzogITAKICAgIH0pOwogIH0sIGcucHJvdG90eXBlLmdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IHRoaXMubGF5b3V0Lm9wdGlvbnM7CiAgICByZXR1cm4gYSA9IGMuaXNPcmlnaW5MZWZ0ID8gYSA6IC1hLCBiID0gYy5pc09yaWdpblRvcCA/IGIgOiAtYiwgbiA/ICJ0cmFuc2xhdGUzZCgiICsgYSArICJweCwgIiArIGIgKyAicHgsIDApIiA6ICJ0cmFuc2xhdGUoIiArIGEgKyAicHgsICIgKyBiICsgInB4KSI7CiAgfSwgZy5wcm90b3R5cGUuZ29UbyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB0aGlzLnNldFBvc2l0aW9uKGEsIGIpLCB0aGlzLmxheW91dFBvc2l0aW9uKCk7CiAgfSwgZy5wcm90b3R5cGUubW92ZVRvID0gbSA/IGcucHJvdG90eXBlLl90cmFuc2l0aW9uVG8gOiBnLnByb3RvdHlwZS5nb1RvLCBnLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB0aGlzLnBvc2l0aW9uLnggPSBwYXJzZUludChhLCAxMCksIHRoaXMucG9zaXRpb24ueSA9IHBhcnNlSW50KGIsIDEwKTsKICB9LCBnLnByb3RvdHlwZS5fbm9uVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLmNzcyhhLnRvKSwgYS5pc0NsZWFuaW5nICYmIHRoaXMuX3JlbW92ZVN0eWxlcyhhLnRvKTsKCiAgICBmb3IgKHZhciBiIGluIGEub25UcmFuc2l0aW9uRW5kKSB7CiAgICAgIGEub25UcmFuc2l0aW9uRW5kW2JdLmNhbGwodGhpcyk7CiAgICB9CiAgfSwgZy5wcm90b3R5cGUuX3RyYW5zaXRpb24gPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKCFwYXJzZUZsb2F0KHRoaXMubGF5b3V0Lm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uKSkgcmV0dXJuIHZvaWQgdGhpcy5fbm9uVHJhbnNpdGlvbihhKTsKICAgIHZhciBiID0gdGhpcy5fdHJhbnNuOwoKICAgIGZvciAodmFyIGMgaW4gYS5vblRyYW5zaXRpb25FbmQpIHsKICAgICAgYi5vbkVuZFtjXSA9IGEub25UcmFuc2l0aW9uRW5kW2NdOwogICAgfQoKICAgIGZvciAoYyBpbiBhLnRvKSB7CiAgICAgIGIuaW5nUHJvcGVydGllc1tjXSA9ICEwLCBhLmlzQ2xlYW5pbmcgJiYgKGIuY2xlYW5bY10gPSAhMCk7CiAgICB9CgogICAgaWYgKGEuZnJvbSkgewogICAgICB0aGlzLmNzcyhhLmZyb20pOwogICAgICB2YXIgZCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIGQgPSBudWxsOwogICAgfQoKICAgIHRoaXMuZW5hYmxlVHJhbnNpdGlvbihhLnRvKSwgdGhpcy5jc3MoYS50byksIHRoaXMuaXNUcmFuc2l0aW9uaW5nID0gITA7CiAgfTsKICB2YXIgciA9ICJvcGFjaXR5LCIgKyBoKHEudHJhbnNmb3JtIHx8ICJ0cmFuc2Zvcm0iKTsKICBnLnByb3RvdHlwZS5lbmFibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc1RyYW5zaXRpb25pbmcgfHwgKHRoaXMuY3NzKHsKICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiByLAogICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRoaXMubGF5b3V0Lm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uCiAgICB9KSwgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobywgdGhpcywgITEpKTsKICB9LCBnLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZy5wcm90b3R5cGVbayA/ICJfdHJhbnNpdGlvbiIgOiAiX25vblRyYW5zaXRpb24iXSwgZy5wcm90b3R5cGUub253ZWJraXRUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMub250cmFuc2l0aW9uZW5kKGEpOwogIH0sIGcucHJvdG90eXBlLm9ub3RyYW5zaXRpb25lbmQgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5vbnRyYW5zaXRpb25lbmQoYSk7CiAgfTsKICB2YXIgcyA9IHsKICAgICItd2Via2l0LXRyYW5zZm9ybSI6ICJ0cmFuc2Zvcm0iLAogICAgIi1tb3otdHJhbnNmb3JtIjogInRyYW5zZm9ybSIsCiAgICAiLW8tdHJhbnNmb3JtIjogInRyYW5zZm9ybSIKICB9OwogIGcucHJvdG90eXBlLm9udHJhbnNpdGlvbmVuZCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoYS50YXJnZXQgPT09IHRoaXMuZWxlbWVudCkgewogICAgICB2YXIgYiA9IHRoaXMuX3RyYW5zbiwKICAgICAgICAgIGMgPSBzW2EucHJvcGVydHlOYW1lXSB8fCBhLnByb3BlcnR5TmFtZTsKCiAgICAgIGlmIChkZWxldGUgYi5pbmdQcm9wZXJ0aWVzW2NdLCBmKGIuaW5nUHJvcGVydGllcykgJiYgdGhpcy5kaXNhYmxlVHJhbnNpdGlvbigpLCBjIGluIGIuY2xlYW4gJiYgKHRoaXMuZWxlbWVudC5zdHlsZVthLnByb3BlcnR5TmFtZV0gPSAiIiwgZGVsZXRlIGIuY2xlYW5bY10pLCBjIGluIGIub25FbmQpIHsKICAgICAgICB2YXIgZCA9IGIub25FbmRbY107CiAgICAgICAgZC5jYWxsKHRoaXMpLCBkZWxldGUgYi5vbkVuZFtjXTsKICAgICAgfQoKICAgICAgdGhpcy5lbWl0RXZlbnQoInRyYW5zaXRpb25FbmQiLCBbdGhpc10pOwogICAgfQogIH0sIGcucHJvdG90eXBlLmRpc2FibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVUcmFuc2l0aW9uU3R5bGVzKCksIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG8sIHRoaXMsICExKSwgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSAhMTsKICB9LCBnLnByb3RvdHlwZS5fcmVtb3ZlU3R5bGVzID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0ge307CgogICAgZm9yICh2YXIgYyBpbiBhKSB7CiAgICAgIGJbY10gPSAiIjsKICAgIH0KCiAgICB0aGlzLmNzcyhiKTsKICB9OwogIHZhciB0ID0gewogICAgdHJhbnNpdGlvblByb3BlcnR5OiAiIiwKICAgIHRyYW5zaXRpb25EdXJhdGlvbjogIiIKICB9OwogIHJldHVybiBnLnByb3RvdHlwZS5yZW1vdmVUcmFuc2l0aW9uU3R5bGVzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5jc3ModCk7CiAgfSwgZy5wcm90b3R5cGUucmVtb3ZlRWxlbSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksIHRoaXMuY3NzKHsKICAgICAgZGlzcGxheTogIiIKICAgIH0pLCB0aGlzLmVtaXRFdmVudCgicmVtb3ZlIiwgW3RoaXNdKTsKICB9LCBnLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIWsgfHwgIXBhcnNlRmxvYXQodGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24pKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUVsZW0oKTsKICAgIHZhciBhID0gdGhpczsKICAgIHRoaXMub25jZSgidHJhbnNpdGlvbkVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgYS5yZW1vdmVFbGVtKCk7CiAgICB9KSwgdGhpcy5oaWRlKCk7CiAgfSwgZy5wcm90b3R5cGUucmV2ZWFsID0gZnVuY3Rpb24gKCkgewogICAgZGVsZXRlIHRoaXMuaXNIaWRkZW4sIHRoaXMuY3NzKHsKICAgICAgZGlzcGxheTogIiIKICAgIH0pOwogICAgdmFyIGEgPSB0aGlzLmxheW91dC5vcHRpb25zLAogICAgICAgIGIgPSB7fSwKICAgICAgICBjID0gdGhpcy5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5KCJ2aXNpYmxlU3R5bGUiKTsKICAgIGJbY10gPSB0aGlzLm9uUmV2ZWFsVHJhbnNpdGlvbkVuZCwgdGhpcy50cmFuc2l0aW9uKHsKICAgICAgZnJvbTogYS5oaWRkZW5TdHlsZSwKICAgICAgdG86IGEudmlzaWJsZVN0eWxlLAogICAgICBpc0NsZWFuaW5nOiAhMCwKICAgICAgb25UcmFuc2l0aW9uRW5kOiBiCiAgICB9KTsKICB9LCBnLnByb3RvdHlwZS5vblJldmVhbFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmlzSGlkZGVuIHx8IHRoaXMuZW1pdEV2ZW50KCJyZXZlYWwiKTsKICB9LCBnLnByb3RvdHlwZS5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5sYXlvdXQub3B0aW9uc1thXTsKICAgIGlmIChiLm9wYWNpdHkpIHJldHVybiAib3BhY2l0eSI7CgogICAgZm9yICh2YXIgYyBpbiBiKSB7CiAgICAgIHJldHVybiBjOwogICAgfQogIH0sIGcucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmlzSGlkZGVuID0gITAsIHRoaXMuY3NzKHsKICAgICAgZGlzcGxheTogIiIKICAgIH0pOwogICAgdmFyIGEgPSB0aGlzLmxheW91dC5vcHRpb25zLAogICAgICAgIGIgPSB7fSwKICAgICAgICBjID0gdGhpcy5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5KCJoaWRkZW5TdHlsZSIpOwogICAgYltjXSA9IHRoaXMub25IaWRlVHJhbnNpdGlvbkVuZCwgdGhpcy50cmFuc2l0aW9uKHsKICAgICAgZnJvbTogYS52aXNpYmxlU3R5bGUsCiAgICAgIHRvOiBhLmhpZGRlblN0eWxlLAogICAgICBpc0NsZWFuaW5nOiAhMCwKICAgICAgb25UcmFuc2l0aW9uRW5kOiBiCiAgICB9KTsKICB9LCBnLnByb3RvdHlwZS5vbkhpZGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0hpZGRlbiAmJiAodGhpcy5jc3MoewogICAgICBkaXNwbGF5OiAibm9uZSIKICAgIH0pLCB0aGlzLmVtaXRFdmVudCgiaGlkZSIpKTsKICB9LCBnLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5jc3MoewogICAgICBwb3NpdGlvbjogIiIsCiAgICAgIGxlZnQ6ICIiLAogICAgICByaWdodDogIiIsCiAgICAgIHRvcDogIiIsCiAgICAgIGJvdHRvbTogIiIsCiAgICAgIHRyYW5zaXRpb246ICIiLAogICAgICB0cmFuc2Zvcm06ICIiCiAgICB9KTsKICB9LCBnOwp9KSwgZnVuY3Rpb24gKGEsIGIpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgib3V0bGF5ZXIvb3V0bGF5ZXIiLCBbImV2ZW50aWUvZXZlbnRpZSIsICJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyIiwgImdldC1zaXplL2dldC1zaXplIiwgImZpenp5LXVpLXV0aWxzL3V0aWxzIiwgIi4vaXRlbSJdLCBmdW5jdGlvbiAoYywgZCwgZSwgZiwgZykgewogICAgcmV0dXJuIGIoYSwgYywgZCwgZSwgZiwgZyk7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IG1vZHVsZS5leHBvcnRzID0gYihhLCByZXF1aXJlKCJldmVudGllIiksIHJlcXVpcmUoIndvbGZ5ODctZXZlbnRlbWl0dGVyIiksIHJlcXVpcmUoImdldC1zaXplIiksIHJlcXVpcmUoImZpenp5LXVpLXV0aWxzIiksIHJlcXVpcmUoIi4vaXRlbSIpKSA6IGEuT3V0bGF5ZXIgPSBiKGEsIGEuZXZlbnRpZSwgYS5FdmVudEVtaXR0ZXIsIGEuZ2V0U2l6ZSwgYS5maXp6eVVJVXRpbHMsIGEuT3V0bGF5ZXIuSXRlbSk7Cn0od2luZG93LCBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikgewogIGZ1bmN0aW9uIGcoYSwgYikgewogICAgdmFyIGMgPSBlLmdldFF1ZXJ5RWxlbWVudChhKTsKICAgIGlmICghYykgcmV0dXJuIHZvaWQgKGggJiYgaC5lcnJvcigiQmFkIGVsZW1lbnQgZm9yICIgKyB0aGlzLmNvbnN0cnVjdG9yLm5hbWVzcGFjZSArICI6ICIgKyAoYyB8fCBhKSkpOwogICAgdGhpcy5lbGVtZW50ID0gYywgaSAmJiAodGhpcy4kZWxlbWVudCA9IGkodGhpcy5lbGVtZW50KSksIHRoaXMub3B0aW9ucyA9IGUuZXh0ZW5kKHt9LCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzKSwgdGhpcy5vcHRpb24oYik7CiAgICB2YXIgZCA9ICsrazsKICAgIHRoaXMuZWxlbWVudC5vdXRsYXllckdVSUQgPSBkLCBsW2RdID0gdGhpcywgdGhpcy5fY3JlYXRlKCksIHRoaXMub3B0aW9ucy5pc0luaXRMYXlvdXQgJiYgdGhpcy5sYXlvdXQoKTsKICB9CgogIHZhciBoID0gYS5jb25zb2xlLAogICAgICBpID0gYS5qUXVlcnksCiAgICAgIGogPSBmdW5jdGlvbiBqKCkge30sCiAgICAgIGsgPSAwLAogICAgICBsID0ge307CgogIHJldHVybiBnLm5hbWVzcGFjZSA9ICJvdXRsYXllciIsIGcuSXRlbSA9IGYsIGcuZGVmYXVsdHMgPSB7CiAgICBjb250YWluZXJTdHlsZTogewogICAgICBwb3NpdGlvbjogInJlbGF0aXZlIgogICAgfSwKICAgIGlzSW5pdExheW91dDogITAsCiAgICBpc09yaWdpbkxlZnQ6ICEwLAogICAgaXNPcmlnaW5Ub3A6ICEwLAogICAgaXNSZXNpemVCb3VuZDogITAsCiAgICBpc1Jlc2l6aW5nQ29udGFpbmVyOiAhMCwKICAgIHRyYW5zaXRpb25EdXJhdGlvbjogIjAuNHMiLAogICAgaGlkZGVuU3R5bGU6IHsKICAgICAgb3BhY2l0eTogMCwKICAgICAgdHJhbnNmb3JtOiAic2NhbGUoMC4wMDEpIgogICAgfSwKICAgIHZpc2libGVTdHlsZTogewogICAgICBvcGFjaXR5OiAxLAogICAgICB0cmFuc2Zvcm06ICJzY2FsZSgxKSIKICAgIH0KICB9LCBlLmV4dGVuZChnLnByb3RvdHlwZSwgYy5wcm90b3R5cGUpLCBnLnByb3RvdHlwZS5vcHRpb24gPSBmdW5jdGlvbiAoYSkgewogICAgZS5leHRlbmQodGhpcy5vcHRpb25zLCBhKTsKICB9LCBnLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZWxvYWRJdGVtcygpLCB0aGlzLnN0YW1wcyA9IFtdLCB0aGlzLnN0YW1wKHRoaXMub3B0aW9ucy5zdGFtcCksIGUuZXh0ZW5kKHRoaXMuZWxlbWVudC5zdHlsZSwgdGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlKSwgdGhpcy5vcHRpb25zLmlzUmVzaXplQm91bmQgJiYgdGhpcy5iaW5kUmVzaXplKCk7CiAgfSwgZy5wcm90b3R5cGUucmVsb2FkSXRlbXMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLml0ZW1zID0gdGhpcy5faXRlbWl6ZSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4pOwogIH0sIGcucHJvdG90eXBlLl9pdGVtaXplID0gZnVuY3Rpb24gKGEpIHsKICAgIGZvciAodmFyIGIgPSB0aGlzLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzKGEpLCBjID0gdGhpcy5jb25zdHJ1Y3Rvci5JdGVtLCBkID0gW10sIGUgPSAwLCBmID0gYi5sZW5ndGg7IGYgPiBlOyBlKyspIHsKICAgICAgdmFyIGcgPSBiW2VdLAogICAgICAgICAgaCA9IG5ldyBjKGcsIHRoaXMpOwogICAgICBkLnB1c2goaCk7CiAgICB9CgogICAgcmV0dXJuIGQ7CiAgfSwgZy5wcm90b3R5cGUuX2ZpbHRlckZpbmRJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGUuZmlsdGVyRmluZEVsZW1lbnRzKGEsIHRoaXMub3B0aW9ucy5pdGVtU2VsZWN0b3IpOwogIH0sIGcucHJvdG90eXBlLmdldEl0ZW1FbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGEgPSBbXSwgYiA9IDAsIGMgPSB0aGlzLml0ZW1zLmxlbmd0aDsgYyA+IGI7IGIrKykgewogICAgICBhLnB1c2godGhpcy5pdGVtc1tiXS5lbGVtZW50KTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9LCBnLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9yZXNldExheW91dCgpLCB0aGlzLl9tYW5hZ2VTdGFtcHMoKTsKICAgIHZhciBhID0gdm9pZCAwICE9PSB0aGlzLm9wdGlvbnMuaXNMYXlvdXRJbnN0YW50ID8gdGhpcy5vcHRpb25zLmlzTGF5b3V0SW5zdGFudCA6ICF0aGlzLl9pc0xheW91dEluaXRlZDsKICAgIHRoaXMubGF5b3V0SXRlbXModGhpcy5pdGVtcywgYSksIHRoaXMuX2lzTGF5b3V0SW5pdGVkID0gITA7CiAgfSwgZy5wcm90b3R5cGUuX2luaXQgPSBnLnByb3RvdHlwZS5sYXlvdXQsIGcucHJvdG90eXBlLl9yZXNldExheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0U2l6ZSgpOwogIH0sIGcucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNpemUgPSBkKHRoaXMuZWxlbWVudCk7CiAgfSwgZy5wcm90b3R5cGUuX2dldE1lYXN1cmVtZW50ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGYgPSB0aGlzLm9wdGlvbnNbYV07CiAgICBmID8gKCJzdHJpbmciID09IHR5cGVvZiBmID8gYyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGYpIDogZS5pc0VsZW1lbnQoZikgJiYgKGMgPSBmKSwgdGhpc1thXSA9IGMgPyBkKGMpW2JdIDogZikgOiB0aGlzW2FdID0gMDsKICB9LCBnLnByb3RvdHlwZS5sYXlvdXRJdGVtcyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBhID0gdGhpcy5fZ2V0SXRlbXNGb3JMYXlvdXQoYSksIHRoaXMuX2xheW91dEl0ZW1zKGEsIGIpLCB0aGlzLl9wb3N0TGF5b3V0KCk7CiAgfSwgZy5wcm90b3R5cGUuX2dldEl0ZW1zRm9yTGF5b3V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIGZvciAodmFyIGIgPSBbXSwgYyA9IDAsIGQgPSBhLmxlbmd0aDsgZCA+IGM7IGMrKykgewogICAgICB2YXIgZSA9IGFbY107CiAgICAgIGUuaXNJZ25vcmVkIHx8IGIucHVzaChlKTsKICAgIH0KCiAgICByZXR1cm4gYjsKICB9LCBnLnByb3RvdHlwZS5fbGF5b3V0SXRlbXMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoImxheW91dCIsIGEpLCBhICYmIGEubGVuZ3RoKSB7CiAgICAgIGZvciAodmFyIGMgPSBbXSwgZCA9IDAsIGUgPSBhLmxlbmd0aDsgZSA+IGQ7IGQrKykgewogICAgICAgIHZhciBmID0gYVtkXSwKICAgICAgICAgICAgZyA9IHRoaXMuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbihmKTsKCiAgICAgICAgZy5pdGVtID0gZiwgZy5pc0luc3RhbnQgPSBiIHx8IGYuaXNMYXlvdXRJbnN0YW50LCBjLnB1c2goZyk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3Byb2Nlc3NMYXlvdXRRdWV1ZShjKTsKICAgIH0KICB9LCBnLnByb3RvdHlwZS5fZ2V0SXRlbUxheW91dFBvc2l0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgeDogMCwKICAgICAgeTogMAogICAgfTsKICB9LCBnLnByb3RvdHlwZS5fcHJvY2Vzc0xheW91dFF1ZXVlID0gZnVuY3Rpb24gKGEpIHsKICAgIGZvciAodmFyIGIgPSAwLCBjID0gYS5sZW5ndGg7IGMgPiBiOyBiKyspIHsKICAgICAgdmFyIGQgPSBhW2JdOwoKICAgICAgdGhpcy5fcG9zaXRpb25JdGVtKGQuaXRlbSwgZC54LCBkLnksIGQuaXNJbnN0YW50KTsKICAgIH0KICB9LCBnLnByb3RvdHlwZS5fcG9zaXRpb25JdGVtID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIGQgPyBhLmdvVG8oYiwgYykgOiBhLm1vdmVUbyhiLCBjKTsKICB9LCBnLnByb3RvdHlwZS5fcG9zdExheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucmVzaXplQ29udGFpbmVyKCk7CiAgfSwgZy5wcm90b3R5cGUucmVzaXplQ29udGFpbmVyID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMub3B0aW9ucy5pc1Jlc2l6aW5nQ29udGFpbmVyKSB7CiAgICAgIHZhciBhID0gdGhpcy5fZ2V0Q29udGFpbmVyU2l6ZSgpOwoKICAgICAgYSAmJiAodGhpcy5fc2V0Q29udGFpbmVyTWVhc3VyZShhLndpZHRoLCAhMCksIHRoaXMuX3NldENvbnRhaW5lck1lYXN1cmUoYS5oZWlnaHQsICExKSk7CiAgICB9CiAgfSwgZy5wcm90b3R5cGUuX2dldENvbnRhaW5lclNpemUgPSBqLCBnLnByb3RvdHlwZS5fc2V0Q29udGFpbmVyTWVhc3VyZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAodm9pZCAwICE9PSBhKSB7CiAgICAgIHZhciBjID0gdGhpcy5zaXplOwogICAgICBjLmlzQm9yZGVyQm94ICYmIChhICs9IGIgPyBjLnBhZGRpbmdMZWZ0ICsgYy5wYWRkaW5nUmlnaHQgKyBjLmJvcmRlckxlZnRXaWR0aCArIGMuYm9yZGVyUmlnaHRXaWR0aCA6IGMucGFkZGluZ0JvdHRvbSArIGMucGFkZGluZ1RvcCArIGMuYm9yZGVyVG9wV2lkdGggKyBjLmJvcmRlckJvdHRvbVdpZHRoKSwgYSA9IE1hdGgubWF4KGEsIDApLCB0aGlzLmVsZW1lbnQuc3R5bGVbYiA/ICJ3aWR0aCIgOiAiaGVpZ2h0Il0gPSBhICsgInB4IjsKICAgIH0KICB9LCBnLnByb3RvdHlwZS5fZW1pdENvbXBsZXRlT25JdGVtcyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBmdW5jdGlvbiBjKCkgewogICAgICBlLmRpc3BhdGNoRXZlbnQoYSArICJDb21wbGV0ZSIsIG51bGwsIFtiXSk7CiAgICB9CgogICAgZnVuY3Rpb24gZCgpIHsKICAgICAgZysrLCBnID09PSBmICYmIGMoKTsKICAgIH0KCiAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgZiA9IGIubGVuZ3RoOwogICAgaWYgKCFiIHx8ICFmKSByZXR1cm4gdm9pZCBjKCk7CgogICAgZm9yICh2YXIgZyA9IDAsIGggPSAwLCBpID0gYi5sZW5ndGg7IGkgPiBoOyBoKyspIHsKICAgICAgdmFyIGogPSBiW2hdOwogICAgICBqLm9uY2UoYSwgZCk7CiAgICB9CiAgfSwgZy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB2YXIgZCA9IGIgPyBbYl0uY29uY2F0KGMpIDogYzsKICAgIGlmICh0aGlzLmVtaXRFdmVudChhLCBkKSwgaSkgaWYgKHRoaXMuJGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50IHx8IGkodGhpcy5lbGVtZW50KSwgYikgewogICAgICB2YXIgZSA9IGkuRXZlbnQoYik7CiAgICAgIGUudHlwZSA9IGEsIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlLCBjKTsKICAgIH0gZWxzZSB0aGlzLiRlbGVtZW50LnRyaWdnZXIoYSwgYyk7CiAgfSwgZy5wcm90b3R5cGUuaWdub3JlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5nZXRJdGVtKGEpOwogICAgYiAmJiAoYi5pc0lnbm9yZWQgPSAhMCk7CiAgfSwgZy5wcm90b3R5cGUudW5pZ25vcmUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmdldEl0ZW0oYSk7CiAgICBiICYmIGRlbGV0ZSBiLmlzSWdub3JlZDsKICB9LCBnLnByb3RvdHlwZS5zdGFtcCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoYSA9IHRoaXMuX2ZpbmQoYSkpIHsKICAgICAgdGhpcy5zdGFtcHMgPSB0aGlzLnN0YW1wcy5jb25jYXQoYSk7CgogICAgICBmb3IgKHZhciBiID0gMCwgYyA9IGEubGVuZ3RoOyBjID4gYjsgYisrKSB7CiAgICAgICAgdmFyIGQgPSBhW2JdOwogICAgICAgIHRoaXMuaWdub3JlKGQpOwogICAgICB9CiAgICB9CiAgfSwgZy5wcm90b3R5cGUudW5zdGFtcCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoYSA9IHRoaXMuX2ZpbmQoYSkpIGZvciAodmFyIGIgPSAwLCBjID0gYS5sZW5ndGg7IGMgPiBiOyBiKyspIHsKICAgICAgdmFyIGQgPSBhW2JdOwogICAgICBlLnJlbW92ZUZyb20odGhpcy5zdGFtcHMsIGQpLCB0aGlzLnVuaWdub3JlKGQpOwogICAgfQogIH0sIGcucHJvdG90eXBlLl9maW5kID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhID8gKCJzdHJpbmciID09IHR5cGVvZiBhICYmIChhID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYSkpLCBhID0gZS5tYWtlQXJyYXkoYSkpIDogdm9pZCAwOwogIH0sIGcucHJvdG90eXBlLl9tYW5hZ2VTdGFtcHMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5zdGFtcHMgJiYgdGhpcy5zdGFtcHMubGVuZ3RoKSB7CiAgICAgIHRoaXMuX2dldEJvdW5kaW5nUmVjdCgpOwoKICAgICAgZm9yICh2YXIgYSA9IDAsIGIgPSB0aGlzLnN0YW1wcy5sZW5ndGg7IGIgPiBhOyBhKyspIHsKICAgICAgICB2YXIgYyA9IHRoaXMuc3RhbXBzW2FdOwoKICAgICAgICB0aGlzLl9tYW5hZ2VTdGFtcChjKTsKICAgICAgfQogICAgfQogIH0sIGcucHJvdG90eXBlLl9nZXRCb3VuZGluZ1JlY3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwKICAgICAgICBiID0gdGhpcy5zaXplOwogICAgdGhpcy5fYm91bmRpbmdSZWN0ID0gewogICAgICBsZWZ0OiBhLmxlZnQgKyBiLnBhZGRpbmdMZWZ0ICsgYi5ib3JkZXJMZWZ0V2lkdGgsCiAgICAgIHRvcDogYS50b3AgKyBiLnBhZGRpbmdUb3AgKyBiLmJvcmRlclRvcFdpZHRoLAogICAgICByaWdodDogYS5yaWdodCAtIChiLnBhZGRpbmdSaWdodCArIGIuYm9yZGVyUmlnaHRXaWR0aCksCiAgICAgIGJvdHRvbTogYS5ib3R0b20gLSAoYi5wYWRkaW5nQm90dG9tICsgYi5ib3JkZXJCb3R0b21XaWR0aCkKICAgIH07CiAgfSwgZy5wcm90b3R5cGUuX21hbmFnZVN0YW1wID0gaiwgZy5wcm90b3R5cGUuX2dldEVsZW1lbnRPZmZzZXQgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgIGMgPSB0aGlzLl9ib3VuZGluZ1JlY3QsCiAgICAgICAgZSA9IGQoYSksCiAgICAgICAgZiA9IHsKICAgICAgbGVmdDogYi5sZWZ0IC0gYy5sZWZ0IC0gZS5tYXJnaW5MZWZ0LAogICAgICB0b3A6IGIudG9wIC0gYy50b3AgLSBlLm1hcmdpblRvcCwKICAgICAgcmlnaHQ6IGMucmlnaHQgLSBiLnJpZ2h0IC0gZS5tYXJnaW5SaWdodCwKICAgICAgYm90dG9tOiBjLmJvdHRvbSAtIGIuYm90dG9tIC0gZS5tYXJnaW5Cb3R0b20KICAgIH07CiAgICByZXR1cm4gZjsKICB9LCBnLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9ICJvbiIgKyBhLnR5cGU7CiAgICB0aGlzW2JdICYmIHRoaXNbYl0oYSk7CiAgfSwgZy5wcm90b3R5cGUuYmluZFJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaXNSZXNpemVCb3VuZCB8fCAoYi5iaW5kKGEsICJyZXNpemUiLCB0aGlzKSwgdGhpcy5pc1Jlc2l6ZUJvdW5kID0gITApOwogIH0sIGcucHJvdG90eXBlLnVuYmluZFJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaXNSZXNpemVCb3VuZCAmJiBiLnVuYmluZChhLCAicmVzaXplIiwgdGhpcyksIHRoaXMuaXNSZXNpemVCb3VuZCA9ICExOwogIH0sIGcucHJvdG90eXBlLm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gYSgpIHsKICAgICAgYi5yZXNpemUoKSwgZGVsZXRlIGIucmVzaXplVGltZW91dDsKICAgIH0KCiAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7CiAgICB2YXIgYiA9IHRoaXM7CiAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGEsIDEwMCk7CiAgfSwgZy5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc1Jlc2l6ZUJvdW5kICYmIHRoaXMubmVlZHNSZXNpemVMYXlvdXQoKSAmJiB0aGlzLmxheW91dCgpOwogIH0sIGcucHJvdG90eXBlLm5lZWRzUmVzaXplTGF5b3V0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSBkKHRoaXMuZWxlbWVudCksCiAgICAgICAgYiA9IHRoaXMuc2l6ZSAmJiBhOwogICAgcmV0dXJuIGIgJiYgYS5pbm5lcldpZHRoICE9PSB0aGlzLnNpemUuaW5uZXJXaWR0aDsKICB9LCBnLnByb3RvdHlwZS5hZGRJdGVtcyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMuX2l0ZW1pemUoYSk7CgogICAgcmV0dXJuIGIubGVuZ3RoICYmICh0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5jb25jYXQoYikpLCBiOwogIH0sIGcucHJvdG90eXBlLmFwcGVuZGVkID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5hZGRJdGVtcyhhKTsKICAgIGIubGVuZ3RoICYmICh0aGlzLmxheW91dEl0ZW1zKGIsICEwKSwgdGhpcy5yZXZlYWwoYikpOwogIH0sIGcucHJvdG90eXBlLnByZXBlbmRlZCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMuX2l0ZW1pemUoYSk7CgogICAgaWYgKGIubGVuZ3RoKSB7CiAgICAgIHZhciBjID0gdGhpcy5pdGVtcy5zbGljZSgwKTsKICAgICAgdGhpcy5pdGVtcyA9IGIuY29uY2F0KGMpLCB0aGlzLl9yZXNldExheW91dCgpLCB0aGlzLl9tYW5hZ2VTdGFtcHMoKSwgdGhpcy5sYXlvdXRJdGVtcyhiLCAhMCksIHRoaXMucmV2ZWFsKGIpLCB0aGlzLmxheW91dEl0ZW1zKGMpOwogICAgfQogIH0sIGcucHJvdG90eXBlLnJldmVhbCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCJyZXZlYWwiLCBhKTsKCiAgICBmb3IgKHZhciBiID0gYSAmJiBhLmxlbmd0aCwgYyA9IDA7IGIgJiYgYiA+IGM7IGMrKykgewogICAgICB2YXIgZCA9IGFbY107CiAgICAgIGQucmV2ZWFsKCk7CiAgICB9CiAgfSwgZy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCJoaWRlIiwgYSk7CgogICAgZm9yICh2YXIgYiA9IGEgJiYgYS5sZW5ndGgsIGMgPSAwOyBiICYmIGIgPiBjOyBjKyspIHsKICAgICAgdmFyIGQgPSBhW2NdOwogICAgICBkLmhpZGUoKTsKICAgIH0KICB9LCBnLnByb3RvdHlwZS5yZXZlYWxJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmdldEl0ZW1zKGEpOwogICAgdGhpcy5yZXZlYWwoYik7CiAgfSwgZy5wcm90b3R5cGUuaGlkZUl0ZW1FbGVtZW50cyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMuZ2V0SXRlbXMoYSk7CiAgICB0aGlzLmhpZGUoYik7CiAgfSwgZy5wcm90b3R5cGUuZ2V0SXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gMCwgYyA9IHRoaXMuaXRlbXMubGVuZ3RoOyBjID4gYjsgYisrKSB7CiAgICAgIHZhciBkID0gdGhpcy5pdGVtc1tiXTsKICAgICAgaWYgKGQuZWxlbWVudCA9PT0gYSkgcmV0dXJuIGQ7CiAgICB9CiAgfSwgZy5wcm90b3R5cGUuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoYSkgewogICAgYSA9IGUubWFrZUFycmF5KGEpOwoKICAgIGZvciAodmFyIGIgPSBbXSwgYyA9IDAsIGQgPSBhLmxlbmd0aDsgZCA+IGM7IGMrKykgewogICAgICB2YXIgZiA9IGFbY10sCiAgICAgICAgICBnID0gdGhpcy5nZXRJdGVtKGYpOwogICAgICBnICYmIGIucHVzaChnKTsKICAgIH0KCiAgICByZXR1cm4gYjsKICB9LCBnLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmdldEl0ZW1zKGEpOwogICAgaWYgKHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoInJlbW92ZSIsIGIpLCBiICYmIGIubGVuZ3RoKSBmb3IgKHZhciBjID0gMCwgZCA9IGIubGVuZ3RoOyBkID4gYzsgYysrKSB7CiAgICAgIHZhciBmID0gYltjXTsKICAgICAgZi5yZW1vdmUoKSwgZS5yZW1vdmVGcm9tKHRoaXMuaXRlbXMsIGYpOwogICAgfQogIH0sIGcucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuZWxlbWVudC5zdHlsZTsKICAgIGEuaGVpZ2h0ID0gIiIsIGEucG9zaXRpb24gPSAiIiwgYS53aWR0aCA9ICIiOwoKICAgIGZvciAodmFyIGIgPSAwLCBjID0gdGhpcy5pdGVtcy5sZW5ndGg7IGMgPiBiOyBiKyspIHsKICAgICAgdmFyIGQgPSB0aGlzLml0ZW1zW2JdOwogICAgICBkLmRlc3Ryb3koKTsKICAgIH0KCiAgICB0aGlzLnVuYmluZFJlc2l6ZSgpOwogICAgdmFyIGUgPSB0aGlzLmVsZW1lbnQub3V0bGF5ZXJHVUlEOwogICAgZGVsZXRlIGxbZV0sIGRlbGV0ZSB0aGlzLmVsZW1lbnQub3V0bGF5ZXJHVUlELCBpICYmIGkucmVtb3ZlRGF0YSh0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlKTsKICB9LCBnLmRhdGEgPSBmdW5jdGlvbiAoYSkgewogICAgYSA9IGUuZ2V0UXVlcnlFbGVtZW50KGEpOwogICAgdmFyIGIgPSBhICYmIGEub3V0bGF5ZXJHVUlEOwogICAgcmV0dXJuIGIgJiYgbFtiXTsKICB9LCBnLmNyZWF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBmdW5jdGlvbiBjKCkgewogICAgICBnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIE9iamVjdC5jcmVhdGUgPyBjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpIDogZS5leHRlbmQoYy5wcm90b3R5cGUsIGcucHJvdG90eXBlKSwgYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjLCBjLmRlZmF1bHRzID0gZS5leHRlbmQoe30sIGcuZGVmYXVsdHMpLCBlLmV4dGVuZChjLmRlZmF1bHRzLCBiKSwgYy5wcm90b3R5cGUuc2V0dGluZ3MgPSB7fSwgYy5uYW1lc3BhY2UgPSBhLCBjLmRhdGEgPSBnLmRhdGEsIGMuSXRlbSA9IGZ1bmN0aW9uICgpIHsKICAgICAgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfSwgYy5JdGVtLnByb3RvdHlwZSA9IG5ldyBmKCksIGUuaHRtbEluaXQoYywgYSksIGkgJiYgaS5icmlkZ2V0ICYmIGkuYnJpZGdldChhLCBjKSwgYzsKICB9LCBnLkl0ZW0gPSBmLCBnOwp9KSwgZnVuY3Rpb24gKGEsIGIpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbIm91dGxheWVyL291dGxheWVyIiwgImdldC1zaXplL2dldC1zaXplIiwgImZpenp5LXVpLXV0aWxzL3V0aWxzIl0sIGIpIDogIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPyBtb2R1bGUuZXhwb3J0cyA9IGIocmVxdWlyZSgib3V0bGF5ZXIiKSwgcmVxdWlyZSgiZ2V0LXNpemUiKSwgcmVxdWlyZSgiZml6enktdWktdXRpbHMiKSkgOiBhLk1hc29ucnkgPSBiKGEuT3V0bGF5ZXIsIGEuZ2V0U2l6ZSwgYS5maXp6eVVJVXRpbHMpOwp9KHdpbmRvdywgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICB2YXIgZCA9IGEuY3JlYXRlKCJtYXNvbnJ5Iik7CiAgcmV0dXJuIGQucHJvdG90eXBlLl9yZXNldExheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0U2l6ZSgpLCB0aGlzLl9nZXRNZWFzdXJlbWVudCgiY29sdW1uV2lkdGgiLCAib3V0ZXJXaWR0aCIpLCB0aGlzLl9nZXRNZWFzdXJlbWVudCgiZ3V0dGVyIiwgIm91dGVyV2lkdGgiKSwgdGhpcy5tZWFzdXJlQ29sdW1ucygpOwogICAgdmFyIGEgPSB0aGlzLmNvbHM7CgogICAgZm9yICh0aGlzLmNvbFlzID0gW107IGEtLTspIHsKICAgICAgdGhpcy5jb2xZcy5wdXNoKDApOwogICAgfQoKICAgIHRoaXMubWF4WSA9IDA7CiAgfSwgZC5wcm90b3R5cGUubWVhc3VyZUNvbHVtbnMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5nZXRDb250YWluZXJXaWR0aCgpLCAhdGhpcy5jb2x1bW5XaWR0aCkgewogICAgICB2YXIgYSA9IHRoaXMuaXRlbXNbMF0sCiAgICAgICAgICBjID0gYSAmJiBhLmVsZW1lbnQ7CiAgICAgIHRoaXMuY29sdW1uV2lkdGggPSBjICYmIGIoYykub3V0ZXJXaWR0aCB8fCB0aGlzLmNvbnRhaW5lcldpZHRoOwogICAgfQoKICAgIHZhciBkID0gdGhpcy5jb2x1bW5XaWR0aCArPSB0aGlzLmd1dHRlciwKICAgICAgICBlID0gdGhpcy5jb250YWluZXJXaWR0aCArIHRoaXMuZ3V0dGVyLAogICAgICAgIGYgPSBlIC8gZCwKICAgICAgICBnID0gZCAtIGUgJSBkLAogICAgICAgIGggPSBnICYmIDEgPiBnID8gInJvdW5kIiA6ICJmbG9vciI7CiAgICBmID0gTWF0aFtoXShmKSwgdGhpcy5jb2xzID0gTWF0aC5tYXgoZiwgMSk7CiAgfSwgZC5wcm90b3R5cGUuZ2V0Q29udGFpbmVyV2lkdGggPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMub3B0aW9ucy5pc0ZpdFdpZHRoID8gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgOiB0aGlzLmVsZW1lbnQsCiAgICAgICAgYyA9IGIoYSk7CiAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gYyAmJiBjLmlubmVyV2lkdGg7CiAgfSwgZC5wcm90b3R5cGUuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLmdldFNpemUoKTsKICAgIHZhciBiID0gYS5zaXplLm91dGVyV2lkdGggJSB0aGlzLmNvbHVtbldpZHRoLAogICAgICAgIGQgPSBiICYmIDEgPiBiID8gInJvdW5kIiA6ICJjZWlsIiwKICAgICAgICBlID0gTWF0aFtkXShhLnNpemUub3V0ZXJXaWR0aCAvIHRoaXMuY29sdW1uV2lkdGgpOwogICAgZSA9IE1hdGgubWluKGUsIHRoaXMuY29scyk7CgogICAgZm9yICh2YXIgZiA9IHRoaXMuX2dldENvbEdyb3VwKGUpLCBnID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgZiksIGggPSBjLmluZGV4T2YoZiwgZyksIGkgPSB7CiAgICAgIHg6IHRoaXMuY29sdW1uV2lkdGggKiBoLAogICAgICB5OiBnCiAgICB9LCBqID0gZyArIGEuc2l6ZS5vdXRlckhlaWdodCwgayA9IHRoaXMuY29scyArIDEgLSBmLmxlbmd0aCwgbCA9IDA7IGsgPiBsOyBsKyspIHsKICAgICAgdGhpcy5jb2xZc1toICsgbF0gPSBqOwogICAgfQoKICAgIHJldHVybiBpOwogIH0sIGQucHJvdG90eXBlLl9nZXRDb2xHcm91cCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoMiA+IGEpIHJldHVybiB0aGlzLmNvbFlzOwoKICAgIGZvciAodmFyIGIgPSBbXSwgYyA9IHRoaXMuY29scyArIDEgLSBhLCBkID0gMDsgYyA+IGQ7IGQrKykgewogICAgICB2YXIgZSA9IHRoaXMuY29sWXMuc2xpY2UoZCwgZCArIGEpOwogICAgICBiW2RdID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgZSk7CiAgICB9CgogICAgcmV0dXJuIGI7CiAgfSwgZC5wcm90b3R5cGUuX21hbmFnZVN0YW1wID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBjID0gYihhKSwKICAgICAgICBkID0gdGhpcy5fZ2V0RWxlbWVudE9mZnNldChhKSwKICAgICAgICBlID0gdGhpcy5vcHRpb25zLmlzT3JpZ2luTGVmdCA/IGQubGVmdCA6IGQucmlnaHQsCiAgICAgICAgZiA9IGUgKyBjLm91dGVyV2lkdGgsCiAgICAgICAgZyA9IE1hdGguZmxvb3IoZSAvIHRoaXMuY29sdW1uV2lkdGgpOwoKICAgIGcgPSBNYXRoLm1heCgwLCBnKTsKICAgIHZhciBoID0gTWF0aC5mbG9vcihmIC8gdGhpcy5jb2x1bW5XaWR0aCk7CiAgICBoIC09IGYgJSB0aGlzLmNvbHVtbldpZHRoID8gMCA6IDEsIGggPSBNYXRoLm1pbih0aGlzLmNvbHMgLSAxLCBoKTsKCiAgICBmb3IgKHZhciBpID0gKHRoaXMub3B0aW9ucy5pc09yaWdpblRvcCA/IGQudG9wIDogZC5ib3R0b20pICsgYy5vdXRlckhlaWdodCwgaiA9IGc7IGggPj0gajsgaisrKSB7CiAgICAgIHRoaXMuY29sWXNbal0gPSBNYXRoLm1heChpLCB0aGlzLmNvbFlzW2pdKTsKICAgIH0KICB9LCBkLnByb3RvdHlwZS5fZ2V0Q29udGFpbmVyU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubWF4WSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHRoaXMuY29sWXMpOwogICAgdmFyIGEgPSB7CiAgICAgIGhlaWdodDogdGhpcy5tYXhZCiAgICB9OwogICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0ZpdFdpZHRoICYmIChhLndpZHRoID0gdGhpcy5fZ2V0Q29udGFpbmVyRml0V2lkdGgoKSksIGE7CiAgfSwgZC5wcm90b3R5cGUuX2dldENvbnRhaW5lckZpdFdpZHRoID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgYSA9IDAsIGIgPSB0aGlzLmNvbHM7IC0tYiAmJiAwID09PSB0aGlzLmNvbFlzW2JdOykgewogICAgICBhKys7CiAgICB9CgogICAgcmV0dXJuICh0aGlzLmNvbHMgLSBhKSAqIHRoaXMuY29sdW1uV2lkdGggLSB0aGlzLmd1dHRlcjsKICB9LCBkLnByb3RvdHlwZS5uZWVkc1Jlc2l6ZUxheW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gdGhpcy5jb250YWluZXJXaWR0aDsKICAgIHJldHVybiB0aGlzLmdldENvbnRhaW5lcldpZHRoKCksIGEgIT09IHRoaXMuY29udGFpbmVyV2lkdGg7CiAgfSwgZDsKfSk7"},{"version":3,"sources":["E:/xiaoxiao-blog-frontend/src/assets/photo/js/masonry.pkgd.min.js"],"names":["a","b","c","prototype","option","isPlainObject","options","extend","e","fn","g","d","call","arguments","h","i","length","j","k","data","isFunction","charAt","l","apply","f","each","_init","console","error","bridget","Array","slice","define","amd","exports","require","jQuery","window","event","target","srcElement","document","documentElement","addEventListener","attachEvent","handleEvent","removeEventListener","detachEvent","bind","unbind","module","eventie","listener","EventEmitter","getListeners","_getEvents","RegExp","hasOwnProperty","test","flattenListeners","push","getListenersAsObject","addListener","once","on","addOnceListener","defineEvent","defineEvents","removeListener","splice","off","addListeners","manipulateListeners","removeListeners","removeEvent","_events","removeAllListeners","emitEvent","_getOnceReturnValue","trigger","emit","setOnceReturnValue","_onceReturnValue","noConflict","toUpperCase","split","style","getStyleProperty","parseFloat","indexOf","isNaN","width","height","innerWidth","innerHeight","outerWidth","outerHeight","m","getComputedStyle","currentStyle","createElement","padding","borderStyle","borderWidth","body","appendChild","removeChild","querySelector","nodeType","display","offsetWidth","offsetHeight","isBorderBox","n","o","p","q","r","paddingLeft","paddingRight","s","paddingTop","paddingBottom","t","marginLeft","marginRight","u","marginTop","marginBottom","v","borderLeftWidth","borderRightWidth","w","borderTopWidth","borderBottomWidth","x","y","z","left","runtimeStyle","pixelLeft","getSize","isReady","type","readyState","docReady","parentNode","createDocumentFragment","querySelectorAll","matches","matchesSelector","Element","fizzyUIUtils","modulo","Object","toString","isArray","makeArray","removeFrom","isElement","HTMLElement","nodeName","setText","textContent","getParent","getQueryElement","filterFindElements","debounceMethod","clearTimeout","setTimeout","toDashed","replace","toLowerCase","htmlInit","getAttribute","JSON","parse","id","Outlayer","Item","element","layout","position","_create","WebkitTransition","MozTransition","OTransition","transition","_transn","ingProperties","clean","onEnd","css","size","getPosition","isOriginLeft","isOriginTop","parseInt","layoutPosition","getXValue","getYValue","percentPosition","isHorizontal","_transitionTo","setPosition","isTransitioning","transform","getTranslate","to","onTransitionEnd","isCleaning","goTo","moveTo","_nonTransition","_removeStyles","_transition","transitionDuration","from","enableTransition","transitionProperty","onwebkitTransitionEnd","ontransitionend","onotransitionend","propertyName","disableTransition","removeTransitionStyles","removeElem","remove","hide","reveal","isHidden","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","opacity","onHideTransitionEnd","destroy","right","top","bottom","constructor","namespace","$element","defaults","outlayerGUID","isInitLayout","containerStyle","isResizeBound","isResizingContainer","reloadItems","stamps","stamp","bindResize","items","_itemize","children","_filterFindItemElements","itemSelector","getItemElements","_resetLayout","_manageStamps","isLayoutInstant","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","_getItemLayoutPosition","item","isInstant","_processLayoutQueue","_positionItem","resizeContainer","_getContainerSize","_setContainerMeasure","Math","max","dispatchEvent","concat","Event","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","_manageStamp","getBoundingClientRect","_boundingRect","_getElementOffset","unbindResize","onresize","resize","resizeTimeout","needsResizeLayout","addItems","appended","prepended","revealItemElements","getItems","hideItemElements","removeData","create","settings","Masonry","measureColumns","cols","colYs","maxY","getContainerWidth","columnWidth","containerWidth","gutter","isFitWidth","min","_getColGroup","floor","_getContainerFitWidth"],"mappings":"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","sourcesContent":["/*!\n * Masonry PACKAGED v3.3.2\n * Cascading grid layout library\n * http://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if(\"string\"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&\"_\"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f(\"no such method '\"+e+\"' for \"+b+\" instance\");else f(\"cannot call methods on \"+b+\" prior to initialization; attempted to call '\"+e+\"'\")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f=\"undefined\"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;\"function\"==typeof define&&define.amd?define(\"jquery-bridget/jquery.bridget\",[\"jquery\"],c):c(\"object\"==typeof exports?require(\"jquery\"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent(\"on\"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent(\"on\"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};\"function\"==typeof define&&define.amd?define(\"eventie/eventie\",f):\"object\"==typeof exports?module.exports=f:a.eventie=f}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f=\"object\"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c(\"addListener\"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c(\"addOnceListener\"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c(\"removeListener\"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(\"object\"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&(\"function\"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if(\"string\"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c(\"removeEvent\"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c(\"emitEvent\"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty(\"_onceReturnValue\")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},\"function\"==typeof define&&define.amd?define(\"eventEmitter/EventEmitter\",[],function(){return a}):\"object\"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if(\"string\"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,\"string\"==typeof d[b])return b}}var c=\"Webkit Moz ms Ms O\".split(\" \"),d=document.documentElement.style;\"function\"==typeof define&&define.amd?define(\"get-style-property/get-style-property\",[],function(){return b}):\"object\"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf(\"%\")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f(\"Style returned \"+c+\". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1\"),c}}(),k=c(\"boxSizing\")){var e=document.createElement(\"div\");e.style.width=\"200px\",e.style.padding=\"1px 2px 3px 4px\",e.style.borderStyle=\"solid\",e.style.borderWidth=\"1px 2px 3px 4px\",e.style[k]=\"border-box\";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),\"string\"==typeof a&&(a=document.querySelector(a)),a&&\"object\"==typeof a&&a.nodeType){var c=j(a);if(\"none\"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||\"border-box\"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf(\"%\"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f=\"undefined\"==typeof console?c:function(a){console.error(a)},g=[\"paddingLeft\",\"paddingRight\",\"paddingTop\",\"paddingBottom\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\",\"borderLeftWidth\",\"borderRightWidth\",\"borderTopWidth\",\"borderBottomWidth\"];\"function\"==typeof define&&define.amd?define(\"get-size/get-size\",[\"get-style-property/get-style-property\"],e):\"object\"==typeof exports?module.exports=e(require(\"desandro-get-style-property\")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a){\"function\"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c=\"readystatechange\"===a.type&&\"complete\"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return\"complete\"===f.readyState?d():(e.bind(f,\"DOMContentLoaded\",c),e.bind(f,\"readystatechange\",c),e.bind(a,\"load\",c)),b}var f=a.document,g=[];b.isReady=!1,\"function\"==typeof define&&define.amd?define(\"doc-ready/doc-ready\",[\"eventie/eventie\"],e):\"object\"==typeof exports?module.exports=e(require(\"eventie\")):a.docReady=e(a.eventie)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matches)return\"matches\";if(a.matchesSelector)return\"matchesSelector\";for(var b=[\"webkit\",\"moz\",\"ms\",\"o\"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+\"MatchesSelector\";if(a[f])return f}}();if(g){var h=document.createElement(\"div\"),i=b(h,\"div\");f=i?b:e}else f=d;\"function\"==typeof define&&define.amd?define(\"matches-selector/matches-selector\",[],function(){return f}):\"object\"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a,b){\"function\"==typeof define&&define.amd?define(\"fizzy-ui-utils/utils\",[\"doc-ready/doc-ready\",\"matches-selector/matches-selector\"],function(c,d){return b(a,c,d)}):\"object\"==typeof exports?module.exports=b(a,require(\"doc-ready\"),require(\"desandro-matches-selector\")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return\"[object Array]\"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&\"number\"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement=\"function\"==typeof HTMLElement||\"object\"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&\"object\"==typeof a&&1==a.nodeType&&\"string\"==typeof a.nodeName},d.setText=function(){function a(a,c){b=b||(void 0!==document.documentElement.textContent?\"textContent\":\"innerText\"),a[b]=c}var b;return a}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return\"string\"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b=\"on\"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+\"Timeout\";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+\"-\"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(\".js-\"+b),h=\"data-\"+b+\"-options\",i=0,j=g.length;j>i;i++){var k,l=g[i],m=l.getAttribute(h);try{k=m&&JSON.parse(m)}catch(n){f&&f.error(\"Error parsing \"+h+\" on \"+l.nodeName.toLowerCase()+(l.id?\"#\"+l.id:\"\")+\": \"+n);continue}var o=new c(l,k),p=a.jQuery;p&&p.data(l,e,o)}})},d}),function(a,b){\"function\"==typeof define&&define.amd?define(\"outlayer/item\",[\"eventEmitter/EventEmitter\",\"get-size/get-size\",\"get-style-property/get-style-property\",\"fizzy-ui-utils/utils\"],function(c,d,e,f){return b(a,c,d,e,f)}):\"object\"==typeof exports?module.exports=b(a,require(\"wolfy87-eventemitter\"),require(\"get-size\"),require(\"desandro-get-style-property\"),require(\"fizzy-ui-utils\")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){function f(a){for(var b in a)return!1;return b=null,!0}function g(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}function h(a){return a.replace(/([A-Z])/g,function(a){return\"-\"+a.toLowerCase()})}var i=a.getComputedStyle,j=i?function(a){return i(a,null)}:function(a){return a.currentStyle},k=d(\"transition\"),l=d(\"transform\"),m=k&&l,n=!!d(\"perspective\"),o={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"otransitionend\",transition:\"transitionend\"}[k],p=[\"transform\",\"transition\",\"transitionDuration\",\"transitionProperty\"],q=function(){for(var a={},b=0,c=p.length;c>b;b++){var e=p[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(g.prototype,b.prototype),g.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:\"absolute\"})},g.prototype.handleEvent=function(a){var b=\"on\"+a.type;this[b]&&this[b](a)},g.prototype.getSize=function(){this.size=c(this.element)},g.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=q[c]||c;b[d]=a[c]}},g.prototype.getPosition=function(){var a=j(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=a[c?\"left\":\"right\"],f=a[d?\"top\":\"bottom\"],g=this.layout.size,h=-1!=e.indexOf(\"%\")?parseFloat(e)/100*g.width:parseInt(e,10),i=-1!=f.indexOf(\"%\")?parseFloat(f)/100*g.height:parseInt(f,10);h=isNaN(h)?0:h,i=isNaN(i)?0:i,h-=c?g.paddingLeft:g.paddingRight,i-=d?g.paddingTop:g.paddingBottom,this.position.x=h,this.position.y=i},g.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?\"paddingLeft\":\"paddingRight\",e=b.isOriginLeft?\"left\":\"right\",f=b.isOriginLeft?\"right\":\"left\",g=this.position.x+a[d];c[e]=this.getXValue(g),c[f]=\"\";var h=b.isOriginTop?\"paddingTop\":\"paddingBottom\",i=b.isOriginTop?\"top\":\"bottom\",j=b.isOriginTop?\"bottom\":\"top\",k=this.position.y+a[h];c[i]=this.getYValue(k),c[j]=\"\",this.css(c),this.emitEvent(\"layout\",[this])},g.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?a/this.layout.size.width*100+\"%\":a+\"px\"},g.prototype.getYValue=function(a){var b=this.layout.options;return b.percentPosition&&b.isHorizontal?a/this.layout.size.height*100+\"%\":a+\"px\"},g.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},g.prototype.getTranslate=function(a,b){var c=this.layout.options;return a=c.isOriginLeft?a:-a,b=c.isOriginTop?b:-b,n?\"translate3d(\"+a+\"px, \"+b+\"px, 0)\":\"translate(\"+a+\"px, \"+b+\"px)\"},g.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},g.prototype.moveTo=m?g.prototype._transitionTo:g.prototype.goTo,g.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},g.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},g.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r=\"opacity,\"+h(q.transform||\"transform\");g.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(o,this,!1))},g.prototype.transition=g.prototype[k?\"_transition\":\"_nonTransition\"],g.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},g.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={\"-webkit-transform\":\"transform\",\"-moz-transform\":\"transform\",\"-o-transform\":\"transform\"};g.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],f(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]=\"\",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent(\"transitionEnd\",[this])}},g.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},g.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]=\"\";this.css(b)};var t={transitionProperty:\"\",transitionDuration:\"\"};return g.prototype.removeTransitionStyles=function(){this.css(t)},g.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:\"\"}),this.emitEvent(\"remove\",[this])},g.prototype.remove=function(){if(!k||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once(\"transitionEnd\",function(){a.removeElem()}),this.hide()},g.prototype.reveal=function(){delete this.isHidden,this.css({display:\"\"});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty(\"visibleStyle\");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent(\"reveal\")},g.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return\"opacity\";for(var c in b)return c},g.prototype.hide=function(){this.isHidden=!0,this.css({display:\"\"});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty(\"hiddenStyle\");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:\"none\"}),this.emitEvent(\"hide\"))},g.prototype.destroy=function(){this.css({position:\"\",left:\"\",right:\"\",top:\"\",bottom:\"\",transition:\"\",transform:\"\"})},g}),function(a,b){\"function\"==typeof define&&define.amd?define(\"outlayer/outlayer\",[\"eventie/eventie\",\"eventEmitter/EventEmitter\",\"get-size/get-size\",\"fizzy-ui-utils/utils\",\"./item\"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):\"object\"==typeof exports?module.exports=b(a,require(\"eventie\"),require(\"wolfy87-eventemitter\"),require(\"get-size\"),require(\"fizzy-ui-utils\"),require(\"./item\")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){function g(a,b){var c=e.getQueryElement(a);if(!c)return void(h&&h.error(\"Bad element for \"+this.constructor.namespace+\": \"+(c||a)));this.element=c,i&&(this.$element=i(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++k;this.element.outlayerGUID=d,l[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=a.console,i=a.jQuery,j=function(){},k=0,l={};return g.namespace=\"outlayer\",g.Item=f,g.defaults={containerStyle:{position:\"relative\"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:\"0.4s\",hiddenStyle:{opacity:0,transform:\"scale(0.001)\"},visibleStyle:{opacity:1,transform:\"scale(1)\"}},e.extend(g.prototype,c.prototype),g.prototype.option=function(a){e.extend(this.options,a)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},g.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(a,b){var c,f=this.options[a];f?(\"string\"==typeof f?c=this.element.querySelector(f):e.isElement(f)&&(c=f),this[a]=c?d(c)[b]:f):this[a]=0},g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},g.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},g.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems(\"layout\",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},g.prototype._getContainerSize=j,g.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?\"width\":\"height\"]=a+\"px\"}},g.prototype._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+\"Complete\",null,[b])}function d(){g++,g===f&&c()}var e=this,f=b.length;if(!b||!f)return void c();for(var g=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,d)}},g.prototype.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),i)if(this.$element=this.$element||i(this.element),b){var e=i.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},g.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},g.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e.removeFrom(this.stamps,d),this.unignore(d)}},g.prototype._find=function(a){return a?(\"string\"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},g.prototype._manageStamp=j,g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},g.prototype.handleEvent=function(a){var b=\"on\"+a.type;this[b]&&this[b](a)},g.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,\"resize\",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,\"resize\",this),this.isResizeBound=!1},g.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},g.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},g.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},g.prototype.reveal=function(a){this._emitCompleteOnItems(\"reveal\",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},g.prototype.hide=function(a){this._emitCompleteOnItems(\"hide\",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},g.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},g.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},g.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},g.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},g.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems(\"remove\",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},g.prototype.destroy=function(){var a=this.element.style;a.height=\"\",a.position=\"\",a.width=\"\";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,i&&i.removeData(this.element,this.constructor.namespace)},g.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&l[b]},g.create=function(a,b){function c(){g.apply(this,arguments)}return Object.create?c.prototype=Object.create(g.prototype):e.extend(c.prototype,g.prototype),c.prototype.constructor=c,c.defaults=e.extend({},g.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=g.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),i&&i.bridget&&i.bridget(a,c),c},g.Item=f,g}),function(a,b){\"function\"==typeof define&&define.amd?define([\"outlayer/outlayer\",\"get-size/get-size\",\"fizzy-ui-utils/utils\"],b):\"object\"==typeof exports?module.exports=b(require(\"outlayer\"),require(\"get-size\"),require(\"fizzy-ui-utils\")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create(\"masonry\");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement(\"columnWidth\",\"outerWidth\"),this._getMeasurement(\"gutter\",\"outerWidth\"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?\"round\":\"floor\";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?\"round\":\"ceil\",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d});"]}]}